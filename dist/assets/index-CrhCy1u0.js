var ik=Object.defineProperty;var U0=t=>{throw TypeError(t)};var sk=(t,e,n)=>e in t?ik(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $0=(t,e,n)=>sk(t,typeof e!="symbol"?e+"":e,n),Sf=(t,e,n)=>e.has(t)||U0("Cannot "+n);var $=(t,e,n)=>(Sf(t,e,"read from private field"),n?n.call(t):e.get(t)),Te=(t,e,n)=>e.has(t)?U0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),de=(t,e,n,r)=>(Sf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),xt=(t,e,n)=>(Sf(t,e,"access private method"),n);var Qc=(t,e,n,r)=>({set _(i){de(t,e,i,n)},get _(){return $(t,e,r)}});function ok(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function UT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $T={exports:{}},oh={},BT={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cc=Symbol.for("react.element"),ak=Symbol.for("react.portal"),lk=Symbol.for("react.fragment"),ck=Symbol.for("react.strict_mode"),uk=Symbol.for("react.profiler"),dk=Symbol.for("react.provider"),hk=Symbol.for("react.context"),fk=Symbol.for("react.forward_ref"),pk=Symbol.for("react.suspense"),mk=Symbol.for("react.memo"),gk=Symbol.for("react.lazy"),B0=Symbol.iterator;function vk(t){return t===null||typeof t!="object"?null:(t=B0&&t[B0]||t["@@iterator"],typeof t=="function"?t:null)}var zT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HT=Object.assign,WT={};function la(t,e,n){this.props=t,this.context=e,this.refs=WT,this.updater=n||zT}la.prototype.isReactComponent={};la.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};la.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function KT(){}KT.prototype=la.prototype;function vg(t,e,n){this.props=t,this.context=e,this.refs=WT,this.updater=n||zT}var yg=vg.prototype=new KT;yg.constructor=vg;HT(yg,la.prototype);yg.isPureReactComponent=!0;var z0=Array.isArray,qT=Object.prototype.hasOwnProperty,wg={current:null},GT={key:!0,ref:!0,__self:!0,__source:!0};function QT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)qT.call(e,r)&&!GT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:cc,type:t,key:s,ref:o,props:i,_owner:wg.current}}function yk(t,e){return{$$typeof:cc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _g(t){return typeof t=="object"&&t!==null&&t.$$typeof===cc}function wk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var H0=/\/+/g;function Cf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wk(""+t.key):e.toString(36)}function ku(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case cc:case ak:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Cf(o,0):r,z0(i)?(n="",t!=null&&(n=t.replace(H0,"$&/")+"/"),ku(i,e,n,"",function(u){return u})):i!=null&&(_g(i)&&(i=yk(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(H0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",z0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Cf(s,a);o+=ku(s,e,n,l,i)}else if(l=vk(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Cf(s,a++),o+=ku(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Yc(t,e,n){if(t==null)return t;var r=[],i=0;return ku(t,r,"","",function(s){return e.call(n,s,i++)}),r}function _k(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ut={current:null},Nu={transition:null},Ek={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:Nu,ReactCurrentOwner:wg};function YT(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:Yc,forEach:function(t,e,n){Yc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yc(t,function(){e++}),e},toArray:function(t){return Yc(t,function(e){return e})||[]},only:function(t){if(!_g(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=la;me.Fragment=lk;me.Profiler=uk;me.PureComponent=vg;me.StrictMode=ck;me.Suspense=pk;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ek;me.act=YT;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=HT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=wg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)qT.call(e,l)&&!GT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:cc,type:t.type,key:i,ref:s,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:hk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dk,_context:t},t.Consumer=t};me.createElement=QT;me.createFactory=function(t){var e=QT.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:fk,render:t}};me.isValidElement=_g;me.lazy=function(t){return{$$typeof:gk,_payload:{_status:-1,_result:t},_init:_k}};me.memo=function(t,e){return{$$typeof:mk,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=Nu.transition;Nu.transition={};try{t()}finally{Nu.transition=e}};me.unstable_act=YT;me.useCallback=function(t,e){return Ut.current.useCallback(t,e)};me.useContext=function(t){return Ut.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Ut.current.useDeferredValue(t)};me.useEffect=function(t,e){return Ut.current.useEffect(t,e)};me.useId=function(){return Ut.current.useId()};me.useImperativeHandle=function(t,e,n){return Ut.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Ut.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Ut.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Ut.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Ut.current.useReducer(t,e,n)};me.useRef=function(t){return Ut.current.useRef(t)};me.useState=function(t){return Ut.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Ut.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Ut.current.useTransition()};me.version="18.3.1";BT.exports=me;var g=BT.exports;const K=UT(g),XT=ok({__proto__:null,default:K},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tk=g,xk=Symbol.for("react.element"),Ik=Symbol.for("react.fragment"),Sk=Object.prototype.hasOwnProperty,Ck=Tk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bk={key:!0,ref:!0,__self:!0,__source:!0};function JT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Sk.call(e,r)&&!bk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:xk,type:t,key:s,ref:o,props:i,_owner:Ck.current}}oh.Fragment=Ik;oh.jsx=JT;oh.jsxs=JT;$T.exports=oh;var m=$T.exports,ZT={exports:{}},hn={},e1={exports:{}},t1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,F){var G=V.length;V.push(F);e:for(;0<G;){var q=G-1>>>1,Q=V[q];if(0<i(Q,F))V[q]=F,V[G]=Q,G=q;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var F=V[0],G=V.pop();if(G!==F){V[0]=G;e:for(var q=0,Q=V.length,Z=Q>>>1;q<Z;){var Ie=2*(q+1)-1,Ue=V[Ie],pe=Ie+1,Me=V[pe];if(0>i(Ue,G))pe<Q&&0>i(Me,Ue)?(V[q]=Me,V[pe]=G,q=pe):(V[q]=Ue,V[Ie]=G,q=Ie);else if(pe<Q&&0>i(Me,G))V[q]=Me,V[pe]=G,q=pe;else break e}}return F}function i(V,F){var G=V.sortIndex-F.sortIndex;return G!==0?G:V.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,h=3,y=!1,T=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(V){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=V)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function k(V){if(w=!1,I(V),!T)if(n(l)!==null)T=!0,J(O);else{var F=n(u);F!==null&&oe(k,F.startTime-V)}}function O(V,F){T=!1,w&&(w=!1,E(S),S=-1),y=!0;var G=h;try{for(I(F),f=n(l);f!==null&&(!(f.expirationTime>F)||V&&!N());){var q=f.callback;if(typeof q=="function"){f.callback=null,h=f.priorityLevel;var Q=q(f.expirationTime<=F);F=t.unstable_now(),typeof Q=="function"?f.callback=Q:f===n(l)&&r(l),I(F)}else r(l);f=n(l)}if(f!==null)var Z=!0;else{var Ie=n(u);Ie!==null&&oe(k,Ie.startTime-F),Z=!1}return Z}finally{f=null,h=G,y=!1}}var L=!1,b=null,S=-1,A=5,R=-1;function N(){return!(t.unstable_now()-R<A)}function D(){if(b!==null){var V=t.unstable_now();R=V;var F=!0;try{F=b(!0,V)}finally{F?P():(L=!1,b=null)}}else L=!1}var P;if(typeof _=="function")P=function(){_(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,se=H.port2;H.port1.onmessage=D,P=function(){se.postMessage(null)}}else P=function(){x(D,0)};function J(V){b=V,L||(L=!0,P())}function oe(V,F){S=x(function(){V(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){T||y||(T=!0,J(O))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var G=h;h=F;try{return V()}finally{h=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,F){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var G=h;h=V;try{return F()}finally{h=G}},t.unstable_scheduleCallback=function(V,F,G){var q=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?q+G:q):G=q,V){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=G+Q,V={id:d++,callback:F,priorityLevel:V,startTime:G,expirationTime:Q,sortIndex:-1},G>q?(V.sortIndex=G,e(u,V),n(l)===null&&V===n(u)&&(w?(E(S),S=-1):w=!0,oe(k,G-q))):(V.sortIndex=Q,e(l,V),T||y||(T=!0,J(O))),V},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(V){var F=h;return function(){var G=h;h=F;try{return V.apply(this,arguments)}finally{h=G}}}})(t1);e1.exports=t1;var Ak=e1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rk=g,dn=Ak;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n1=new Set,xl={};function Vs(t,e){Ko(t,e),Ko(t+"Capture",e)}function Ko(t,e){for(xl[t]=e,t=0;t<e.length;t++)n1.add(e[t])}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Np=Object.prototype.hasOwnProperty,Pk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W0={},K0={};function kk(t){return Np.call(K0,t)?!0:Np.call(W0,t)?!1:Pk.test(t)?K0[t]=!0:(W0[t]=!0,!1)}function Nk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Dk(t,e,n,r){if(e===null||typeof e>"u"||Nk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $t(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gt[t]=new $t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gt[e]=new $t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gt[t]=new $t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gt[t]=new $t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gt[t]=new $t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gt[t]=new $t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gt[t]=new $t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gt[t]=new $t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gt[t]=new $t(t,5,!1,t.toLowerCase(),null,!1,!1)});var Eg=/[\-:]([a-z])/g;function Tg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Eg,Tg);gt[e]=new $t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Eg,Tg);gt[e]=new $t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Eg,Tg);gt[e]=new $t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gt[t]=new $t(t,1,!1,t.toLowerCase(),null,!1,!1)});gt.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gt[t]=new $t(t,1,!1,t.toLowerCase(),null,!0,!0)});function xg(t,e,n,r){var i=gt.hasOwnProperty(e)?gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Dk(e,n,i,r)&&(n=null),r||i===null?kk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var qr=Rk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xc=Symbol.for("react.element"),co=Symbol.for("react.portal"),uo=Symbol.for("react.fragment"),Ig=Symbol.for("react.strict_mode"),Dp=Symbol.for("react.profiler"),r1=Symbol.for("react.provider"),i1=Symbol.for("react.context"),Sg=Symbol.for("react.forward_ref"),Op=Symbol.for("react.suspense"),Mp=Symbol.for("react.suspense_list"),Cg=Symbol.for("react.memo"),ai=Symbol.for("react.lazy"),s1=Symbol.for("react.offscreen"),q0=Symbol.iterator;function Fa(t){return t===null||typeof t!="object"?null:(t=q0&&t[q0]||t["@@iterator"],typeof t=="function"?t:null)}var je=Object.assign,bf;function Ya(t){if(bf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bf=e&&e[1]||""}return`
`+bf+t}var Af=!1;function Rf(t,e){if(!t||Af)return"";Af=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Af=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ya(t):""}function Ok(t){switch(t.tag){case 5:return Ya(t.type);case 16:return Ya("Lazy");case 13:return Ya("Suspense");case 19:return Ya("SuspenseList");case 0:case 2:case 15:return t=Rf(t.type,!1),t;case 11:return t=Rf(t.type.render,!1),t;case 1:return t=Rf(t.type,!0),t;default:return""}}function Lp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case uo:return"Fragment";case co:return"Portal";case Dp:return"Profiler";case Ig:return"StrictMode";case Op:return"Suspense";case Mp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case i1:return(t.displayName||"Context")+".Consumer";case r1:return(t._context.displayName||"Context")+".Provider";case Sg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cg:return e=t.displayName||null,e!==null?e:Lp(t.type)||"Memo";case ai:e=t._payload,t=t._init;try{return Lp(t(e))}catch{}}return null}function Mk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lp(e);case 8:return e===Ig?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function o1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Lk(t){var e=o1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jc(t){t._valueTracker||(t._valueTracker=Lk(t))}function a1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=o1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function rd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vp(t,e){var n=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function G0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Mi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function l1(t,e){e=e.checked,e!=null&&xg(t,"checked",e,!1)}function jp(t,e){l1(t,e);var n=Mi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fp(t,e.type,Mi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Q0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fp(t,e,n){(e!=="number"||rd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xa=Array.isArray;function xo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Mi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Up(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Y0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Xa(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Mi(n)}}function c1(t,e){var n=Mi(e.value),r=Mi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function X0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function u1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $p(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?u1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zc,d1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zc=Zc||document.createElement("div"),Zc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Il(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ol={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vk=["Webkit","ms","Moz","O"];Object.keys(ol).forEach(function(t){Vk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ol[e]=ol[t]})});function h1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ol.hasOwnProperty(t)&&ol[t]?(""+e).trim():e+"px"}function f1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=h1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var jk=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bp(t,e){if(e){if(jk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function zp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hp=null;function bg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wp=null,Io=null,So=null;function J0(t){if(t=hc(t)){if(typeof Wp!="function")throw Error(z(280));var e=t.stateNode;e&&(e=dh(e),Wp(t.stateNode,t.type,e))}}function p1(t){Io?So?So.push(t):So=[t]:Io=t}function m1(){if(Io){var t=Io,e=So;if(So=Io=null,J0(t),e)for(t=0;t<e.length;t++)J0(e[t])}}function g1(t,e){return t(e)}function v1(){}var Pf=!1;function y1(t,e,n){if(Pf)return t(e,n);Pf=!0;try{return g1(t,e,n)}finally{Pf=!1,(Io!==null||So!==null)&&(v1(),m1())}}function Sl(t,e){var n=t.stateNode;if(n===null)return null;var r=dh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Kp=!1;if(Vr)try{var Ua={};Object.defineProperty(Ua,"passive",{get:function(){Kp=!0}}),window.addEventListener("test",Ua,Ua),window.removeEventListener("test",Ua,Ua)}catch{Kp=!1}function Fk(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var al=!1,id=null,sd=!1,qp=null,Uk={onError:function(t){al=!0,id=t}};function $k(t,e,n,r,i,s,o,a,l){al=!1,id=null,Fk.apply(Uk,arguments)}function Bk(t,e,n,r,i,s,o,a,l){if($k.apply(this,arguments),al){if(al){var u=id;al=!1,id=null}else throw Error(z(198));sd||(sd=!0,qp=u)}}function js(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function w1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Z0(t){if(js(t)!==t)throw Error(z(188))}function zk(t){var e=t.alternate;if(!e){if(e=js(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Z0(i),t;if(s===r)return Z0(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function _1(t){return t=zk(t),t!==null?E1(t):null}function E1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=E1(t);if(e!==null)return e;t=t.sibling}return null}var T1=dn.unstable_scheduleCallback,ew=dn.unstable_cancelCallback,Hk=dn.unstable_shouldYield,Wk=dn.unstable_requestPaint,Qe=dn.unstable_now,Kk=dn.unstable_getCurrentPriorityLevel,Ag=dn.unstable_ImmediatePriority,x1=dn.unstable_UserBlockingPriority,od=dn.unstable_NormalPriority,qk=dn.unstable_LowPriority,I1=dn.unstable_IdlePriority,ah=null,rr=null;function Gk(t){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(ah,t,void 0,(t.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:Xk,Qk=Math.log,Yk=Math.LN2;function Xk(t){return t>>>=0,t===0?32:31-(Qk(t)/Yk|0)|0}var eu=64,tu=4194304;function Ja(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ad(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ja(a):(s&=o,s!==0&&(r=Ja(s)))}else o=n&~i,o!==0?r=Ja(o):s!==0&&(r=Ja(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vn(e),i=1<<n,r|=t[n],e&=~i;return r}function Jk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Vn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Jk(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Gp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function S1(){var t=eu;return eu<<=1,!(eu&4194240)&&(eu=64),t}function kf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vn(e),t[e]=n}function eN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Vn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Rg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Vn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ce=0;function C1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var b1,Pg,A1,R1,P1,Qp=!1,nu=[],Ii=null,Si=null,Ci=null,Cl=new Map,bl=new Map,ci=[],tN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tw(t,e){switch(t){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":Cl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(e.pointerId)}}function $a(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=hc(e),e!==null&&Pg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function nN(t,e,n,r,i){switch(e){case"focusin":return Ii=$a(Ii,t,e,n,r,i),!0;case"dragenter":return Si=$a(Si,t,e,n,r,i),!0;case"mouseover":return Ci=$a(Ci,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Cl.set(s,$a(Cl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,bl.set(s,$a(bl.get(s)||null,t,e,n,r,i)),!0}return!1}function k1(t){var e=ls(t.target);if(e!==null){var n=js(e);if(n!==null){if(e=n.tag,e===13){if(e=w1(n),e!==null){t.blockedOn=e,P1(t.priority,function(){A1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Du(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hp=r,n.target.dispatchEvent(r),Hp=null}else return e=hc(n),e!==null&&Pg(e),t.blockedOn=n,!1;e.shift()}return!0}function nw(t,e,n){Du(t)&&n.delete(e)}function rN(){Qp=!1,Ii!==null&&Du(Ii)&&(Ii=null),Si!==null&&Du(Si)&&(Si=null),Ci!==null&&Du(Ci)&&(Ci=null),Cl.forEach(nw),bl.forEach(nw)}function Ba(t,e){t.blockedOn===e&&(t.blockedOn=null,Qp||(Qp=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,rN)))}function Al(t){function e(i){return Ba(i,t)}if(0<nu.length){Ba(nu[0],t);for(var n=1;n<nu.length;n++){var r=nu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ii!==null&&Ba(Ii,t),Si!==null&&Ba(Si,t),Ci!==null&&Ba(Ci,t),Cl.forEach(e),bl.forEach(e),n=0;n<ci.length;n++)r=ci[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ci.length&&(n=ci[0],n.blockedOn===null);)k1(n),n.blockedOn===null&&ci.shift()}var Co=qr.ReactCurrentBatchConfig,ld=!0;function iN(t,e,n,r){var i=Ce,s=Co.transition;Co.transition=null;try{Ce=1,kg(t,e,n,r)}finally{Ce=i,Co.transition=s}}function sN(t,e,n,r){var i=Ce,s=Co.transition;Co.transition=null;try{Ce=4,kg(t,e,n,r)}finally{Ce=i,Co.transition=s}}function kg(t,e,n,r){if(ld){var i=Yp(t,e,n,r);if(i===null)$f(t,e,r,cd,n),tw(t,r);else if(nN(i,t,e,n,r))r.stopPropagation();else if(tw(t,r),e&4&&-1<tN.indexOf(t)){for(;i!==null;){var s=hc(i);if(s!==null&&b1(s),s=Yp(t,e,n,r),s===null&&$f(t,e,r,cd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else $f(t,e,r,null,n)}}var cd=null;function Yp(t,e,n,r){if(cd=null,t=bg(r),t=ls(t),t!==null)if(e=js(t),e===null)t=null;else if(n=e.tag,n===13){if(t=w1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cd=t,null}function N1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kk()){case Ag:return 1;case x1:return 4;case od:case qk:return 16;case I1:return 536870912;default:return 16}default:return 16}}var _i=null,Ng=null,Ou=null;function D1(){if(Ou)return Ou;var t,e=Ng,n=e.length,r,i="value"in _i?_i.value:_i.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ou=i.slice(t,1<r?1-r:void 0)}function Mu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ru(){return!0}function rw(){return!1}function fn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ru:rw,this.isPropagationStopped=rw,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ru)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ru)},persist:function(){},isPersistent:ru}),e}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dg=fn(ca),dc=je({},ca,{view:0,detail:0}),oN=fn(dc),Nf,Df,za,lh=je({},dc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Og,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==za&&(za&&t.type==="mousemove"?(Nf=t.screenX-za.screenX,Df=t.screenY-za.screenY):Df=Nf=0,za=t),Nf)},movementY:function(t){return"movementY"in t?t.movementY:Df}}),iw=fn(lh),aN=je({},lh,{dataTransfer:0}),lN=fn(aN),cN=je({},dc,{relatedTarget:0}),Of=fn(cN),uN=je({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),dN=fn(uN),hN=je({},ca,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fN=fn(hN),pN=je({},ca,{data:0}),sw=fn(pN),mN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vN[t])?!!e[t]:!1}function Og(){return yN}var wN=je({},dc,{key:function(t){if(t.key){var e=mN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Og,charCode:function(t){return t.type==="keypress"?Mu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_N=fn(wN),EN=je({},lh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ow=fn(EN),TN=je({},dc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Og}),xN=fn(TN),IN=je({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),SN=fn(IN),CN=je({},lh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bN=fn(CN),AN=[9,13,27,32],Mg=Vr&&"CompositionEvent"in window,ll=null;Vr&&"documentMode"in document&&(ll=document.documentMode);var RN=Vr&&"TextEvent"in window&&!ll,O1=Vr&&(!Mg||ll&&8<ll&&11>=ll),aw=" ",lw=!1;function M1(t,e){switch(t){case"keyup":return AN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ho=!1;function PN(t,e){switch(t){case"compositionend":return L1(e);case"keypress":return e.which!==32?null:(lw=!0,aw);case"textInput":return t=e.data,t===aw&&lw?null:t;default:return null}}function kN(t,e){if(ho)return t==="compositionend"||!Mg&&M1(t,e)?(t=D1(),Ou=Ng=_i=null,ho=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return O1&&e.locale!=="ko"?null:e.data;default:return null}}var NN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!NN[t.type]:e==="textarea"}function V1(t,e,n,r){p1(r),e=ud(e,"onChange"),0<e.length&&(n=new Dg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cl=null,Rl=null;function DN(t){G1(t,0)}function ch(t){var e=mo(t);if(a1(e))return t}function ON(t,e){if(t==="change")return e}var j1=!1;if(Vr){var Mf;if(Vr){var Lf="oninput"in document;if(!Lf){var uw=document.createElement("div");uw.setAttribute("oninput","return;"),Lf=typeof uw.oninput=="function"}Mf=Lf}else Mf=!1;j1=Mf&&(!document.documentMode||9<document.documentMode)}function dw(){cl&&(cl.detachEvent("onpropertychange",F1),Rl=cl=null)}function F1(t){if(t.propertyName==="value"&&ch(Rl)){var e=[];V1(e,Rl,t,bg(t)),y1(DN,e)}}function MN(t,e,n){t==="focusin"?(dw(),cl=e,Rl=n,cl.attachEvent("onpropertychange",F1)):t==="focusout"&&dw()}function LN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ch(Rl)}function VN(t,e){if(t==="click")return ch(e)}function jN(t,e){if(t==="input"||t==="change")return ch(e)}function FN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fn=typeof Object.is=="function"?Object.is:FN;function Pl(t,e){if(Fn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Np.call(e,i)||!Fn(t[i],e[i]))return!1}return!0}function hw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fw(t,e){var n=hw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hw(n)}}function U1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?U1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $1(){for(var t=window,e=rd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=rd(t.document)}return e}function Lg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function UN(t){var e=$1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&U1(n.ownerDocument.documentElement,n)){if(r!==null&&Lg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=fw(n,s);var o=fw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $N=Vr&&"documentMode"in document&&11>=document.documentMode,fo=null,Xp=null,ul=null,Jp=!1;function pw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jp||fo==null||fo!==rd(r)||(r=fo,"selectionStart"in r&&Lg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ul&&Pl(ul,r)||(ul=r,r=ud(Xp,"onSelect"),0<r.length&&(e=new Dg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fo)))}function iu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var po={animationend:iu("Animation","AnimationEnd"),animationiteration:iu("Animation","AnimationIteration"),animationstart:iu("Animation","AnimationStart"),transitionend:iu("Transition","TransitionEnd")},Vf={},B1={};Vr&&(B1=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function uh(t){if(Vf[t])return Vf[t];if(!po[t])return t;var e=po[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in B1)return Vf[t]=e[n];return t}var z1=uh("animationend"),H1=uh("animationiteration"),W1=uh("animationstart"),K1=uh("transitionend"),q1=new Map,mw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qi(t,e){q1.set(t,e),Vs(e,[t])}for(var jf=0;jf<mw.length;jf++){var Ff=mw[jf],BN=Ff.toLowerCase(),zN=Ff[0].toUpperCase()+Ff.slice(1);qi(BN,"on"+zN)}qi(z1,"onAnimationEnd");qi(H1,"onAnimationIteration");qi(W1,"onAnimationStart");qi("dblclick","onDoubleClick");qi("focusin","onFocus");qi("focusout","onBlur");qi(K1,"onTransitionEnd");Ko("onMouseEnter",["mouseout","mouseover"]);Ko("onMouseLeave",["mouseout","mouseover"]);Ko("onPointerEnter",["pointerout","pointerover"]);Ko("onPointerLeave",["pointerout","pointerover"]);Vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Za));function gw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Bk(r,e,void 0,t),t.currentTarget=null}function G1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;gw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;gw(i,a,u),s=l}}}if(sd)throw t=qp,sd=!1,qp=null,t}function Ne(t,e){var n=e[rm];n===void 0&&(n=e[rm]=new Set);var r=t+"__bubble";n.has(r)||(Q1(e,t,2,!1),n.add(r))}function Uf(t,e,n){var r=0;e&&(r|=4),Q1(n,t,r,e)}var su="_reactListening"+Math.random().toString(36).slice(2);function kl(t){if(!t[su]){t[su]=!0,n1.forEach(function(n){n!=="selectionchange"&&(HN.has(n)||Uf(n,!1,t),Uf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[su]||(e[su]=!0,Uf("selectionchange",!1,e))}}function Q1(t,e,n,r){switch(N1(e)){case 1:var i=iN;break;case 4:i=sN;break;default:i=kg}n=i.bind(null,e,n,t),i=void 0,!Kp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function $f(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ls(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}y1(function(){var u=s,d=bg(n),f=[];e:{var h=q1.get(t);if(h!==void 0){var y=Dg,T=t;switch(t){case"keypress":if(Mu(n)===0)break e;case"keydown":case"keyup":y=_N;break;case"focusin":T="focus",y=Of;break;case"focusout":T="blur",y=Of;break;case"beforeblur":case"afterblur":y=Of;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=iw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=lN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=xN;break;case z1:case H1:case W1:y=dN;break;case K1:y=SN;break;case"scroll":y=oN;break;case"wheel":y=bN;break;case"copy":case"cut":case"paste":y=fN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=ow}var w=(e&4)!==0,x=!w&&t==="scroll",E=w?h!==null?h+"Capture":null:h;w=[];for(var _=u,I;_!==null;){I=_;var k=I.stateNode;if(I.tag===5&&k!==null&&(I=k,E!==null&&(k=Sl(_,E),k!=null&&w.push(Nl(_,k,I)))),x)break;_=_.return}0<w.length&&(h=new y(h,T,null,n,d),f.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==Hp&&(T=n.relatedTarget||n.fromElement)&&(ls(T)||T[jr]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(T=n.relatedTarget||n.toElement,y=u,T=T?ls(T):null,T!==null&&(x=js(T),T!==x||T.tag!==5&&T.tag!==6)&&(T=null)):(y=null,T=u),y!==T)){if(w=iw,k="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(w=ow,k="onPointerLeave",E="onPointerEnter",_="pointer"),x=y==null?h:mo(y),I=T==null?h:mo(T),h=new w(k,_+"leave",y,n,d),h.target=x,h.relatedTarget=I,k=null,ls(d)===u&&(w=new w(E,_+"enter",T,n,d),w.target=I,w.relatedTarget=x,k=w),x=k,y&&T)t:{for(w=y,E=T,_=0,I=w;I;I=eo(I))_++;for(I=0,k=E;k;k=eo(k))I++;for(;0<_-I;)w=eo(w),_--;for(;0<I-_;)E=eo(E),I--;for(;_--;){if(w===E||E!==null&&w===E.alternate)break t;w=eo(w),E=eo(E)}w=null}else w=null;y!==null&&vw(f,h,y,w,!1),T!==null&&x!==null&&vw(f,x,T,w,!0)}}e:{if(h=u?mo(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var O=ON;else if(cw(h))if(j1)O=jN;else{O=LN;var L=MN}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=VN);if(O&&(O=O(t,u))){V1(f,O,n,d);break e}L&&L(t,h,u),t==="focusout"&&(L=h._wrapperState)&&L.controlled&&h.type==="number"&&Fp(h,"number",h.value)}switch(L=u?mo(u):window,t){case"focusin":(cw(L)||L.contentEditable==="true")&&(fo=L,Xp=u,ul=null);break;case"focusout":ul=Xp=fo=null;break;case"mousedown":Jp=!0;break;case"contextmenu":case"mouseup":case"dragend":Jp=!1,pw(f,n,d);break;case"selectionchange":if($N)break;case"keydown":case"keyup":pw(f,n,d)}var b;if(Mg)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ho?M1(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(O1&&n.locale!=="ko"&&(ho||S!=="onCompositionStart"?S==="onCompositionEnd"&&ho&&(b=D1()):(_i=d,Ng="value"in _i?_i.value:_i.textContent,ho=!0)),L=ud(u,S),0<L.length&&(S=new sw(S,t,null,n,d),f.push({event:S,listeners:L}),b?S.data=b:(b=L1(n),b!==null&&(S.data=b)))),(b=RN?PN(t,n):kN(t,n))&&(u=ud(u,"onBeforeInput"),0<u.length&&(d=new sw("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=b))}G1(f,e)})}function Nl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ud(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Sl(t,n),s!=null&&r.unshift(Nl(t,s,i)),s=Sl(t,e),s!=null&&r.push(Nl(t,s,i))),t=t.return}return r}function eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Sl(n,s),l!=null&&o.unshift(Nl(n,l,a))):i||(l=Sl(n,s),l!=null&&o.push(Nl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var WN=/\r\n?/g,KN=/\u0000|\uFFFD/g;function yw(t){return(typeof t=="string"?t:""+t).replace(WN,`
`).replace(KN,"")}function ou(t,e,n){if(e=yw(e),yw(t)!==e&&n)throw Error(z(425))}function dd(){}var Zp=null,em=null;function tm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var nm=typeof setTimeout=="function"?setTimeout:void 0,qN=typeof clearTimeout=="function"?clearTimeout:void 0,ww=typeof Promise=="function"?Promise:void 0,GN=typeof queueMicrotask=="function"?queueMicrotask:typeof ww<"u"?function(t){return ww.resolve(null).then(t).catch(QN)}:nm;function QN(t){setTimeout(function(){throw t})}function Bf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Al(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Al(e)}function bi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _w(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ua=Math.random().toString(36).slice(2),tr="__reactFiber$"+ua,Dl="__reactProps$"+ua,jr="__reactContainer$"+ua,rm="__reactEvents$"+ua,YN="__reactListeners$"+ua,XN="__reactHandles$"+ua;function ls(t){var e=t[tr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[jr]||n[tr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_w(t);t!==null;){if(n=t[tr])return n;t=_w(t)}return e}t=n,n=t.parentNode}return null}function hc(t){return t=t[tr]||t[jr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function dh(t){return t[Dl]||null}var im=[],go=-1;function Gi(t){return{current:t}}function De(t){0>go||(t.current=im[go],im[go]=null,go--)}function Re(t,e){go++,im[go]=t.current,t.current=e}var Li={},Nt=Gi(Li),Yt=Gi(!1),_s=Li;function qo(t,e){var n=t.type.contextTypes;if(!n)return Li;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Xt(t){return t=t.childContextTypes,t!=null}function hd(){De(Yt),De(Nt)}function Ew(t,e,n){if(Nt.current!==Li)throw Error(z(168));Re(Nt,e),Re(Yt,n)}function Y1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,Mk(t)||"Unknown",i));return je({},n,r)}function fd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Li,_s=Nt.current,Re(Nt,t),Re(Yt,Yt.current),!0}function Tw(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=Y1(t,e,_s),r.__reactInternalMemoizedMergedChildContext=t,De(Yt),De(Nt),Re(Nt,t)):De(Yt),Re(Yt,n)}var Ar=null,hh=!1,zf=!1;function X1(t){Ar===null?Ar=[t]:Ar.push(t)}function JN(t){hh=!0,X1(t)}function Qi(){if(!zf&&Ar!==null){zf=!0;var t=0,e=Ce;try{var n=Ar;for(Ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ar=null,hh=!1}catch(i){throw Ar!==null&&(Ar=Ar.slice(t+1)),T1(Ag,Qi),i}finally{Ce=e,zf=!1}}return null}var vo=[],yo=0,pd=null,md=0,mn=[],gn=0,Es=null,Rr=1,Pr="";function is(t,e){vo[yo++]=md,vo[yo++]=pd,pd=t,md=e}function J1(t,e,n){mn[gn++]=Rr,mn[gn++]=Pr,mn[gn++]=Es,Es=t;var r=Rr;t=Pr;var i=32-Vn(r)-1;r&=~(1<<i),n+=1;var s=32-Vn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Rr=1<<32-Vn(e)+i|n<<i|r,Pr=s+t}else Rr=1<<s|n<<i|r,Pr=t}function Vg(t){t.return!==null&&(is(t,1),J1(t,1,0))}function jg(t){for(;t===pd;)pd=vo[--yo],vo[yo]=null,md=vo[--yo],vo[yo]=null;for(;t===Es;)Es=mn[--gn],mn[gn]=null,Pr=mn[--gn],mn[gn]=null,Rr=mn[--gn],mn[gn]=null}var cn=null,ln=null,Oe=!1,Dn=null;function Z1(t,e){var n=yn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function xw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,cn=t,ln=bi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,cn=t,ln=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Es!==null?{id:Rr,overflow:Pr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,cn=t,ln=null,!0):!1;default:return!1}}function sm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function om(t){if(Oe){var e=ln;if(e){var n=e;if(!xw(t,e)){if(sm(t))throw Error(z(418));e=bi(n.nextSibling);var r=cn;e&&xw(t,e)?Z1(r,n):(t.flags=t.flags&-4097|2,Oe=!1,cn=t)}}else{if(sm(t))throw Error(z(418));t.flags=t.flags&-4097|2,Oe=!1,cn=t}}}function Iw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;cn=t}function au(t){if(t!==cn)return!1;if(!Oe)return Iw(t),Oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!tm(t.type,t.memoizedProps)),e&&(e=ln)){if(sm(t))throw ex(),Error(z(418));for(;e;)Z1(t,e),e=bi(e.nextSibling)}if(Iw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ln=bi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ln=null}}else ln=cn?bi(t.stateNode.nextSibling):null;return!0}function ex(){for(var t=ln;t;)t=bi(t.nextSibling)}function Go(){ln=cn=null,Oe=!1}function Fg(t){Dn===null?Dn=[t]:Dn.push(t)}var ZN=qr.ReactCurrentBatchConfig;function Ha(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function lu(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Sw(t){var e=t._init;return e(t._payload)}function tx(t){function e(E,_){if(t){var I=E.deletions;I===null?(E.deletions=[_],E.flags|=16):I.push(_)}}function n(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function r(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function i(E,_){return E=ki(E,_),E.index=0,E.sibling=null,E}function s(E,_,I){return E.index=I,t?(I=E.alternate,I!==null?(I=I.index,I<_?(E.flags|=2,_):I):(E.flags|=2,_)):(E.flags|=1048576,_)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,_,I,k){return _===null||_.tag!==6?(_=Yf(I,E.mode,k),_.return=E,_):(_=i(_,I),_.return=E,_)}function l(E,_,I,k){var O=I.type;return O===uo?d(E,_,I.props.children,k,I.key):_!==null&&(_.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ai&&Sw(O)===_.type)?(k=i(_,I.props),k.ref=Ha(E,_,I),k.return=E,k):(k=Bu(I.type,I.key,I.props,null,E.mode,k),k.ref=Ha(E,_,I),k.return=E,k)}function u(E,_,I,k){return _===null||_.tag!==4||_.stateNode.containerInfo!==I.containerInfo||_.stateNode.implementation!==I.implementation?(_=Xf(I,E.mode,k),_.return=E,_):(_=i(_,I.children||[]),_.return=E,_)}function d(E,_,I,k,O){return _===null||_.tag!==7?(_=ys(I,E.mode,k,O),_.return=E,_):(_=i(_,I),_.return=E,_)}function f(E,_,I){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Yf(""+_,E.mode,I),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Xc:return I=Bu(_.type,_.key,_.props,null,E.mode,I),I.ref=Ha(E,null,_),I.return=E,I;case co:return _=Xf(_,E.mode,I),_.return=E,_;case ai:var k=_._init;return f(E,k(_._payload),I)}if(Xa(_)||Fa(_))return _=ys(_,E.mode,I,null),_.return=E,_;lu(E,_)}return null}function h(E,_,I,k){var O=_!==null?_.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return O!==null?null:a(E,_,""+I,k);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Xc:return I.key===O?l(E,_,I,k):null;case co:return I.key===O?u(E,_,I,k):null;case ai:return O=I._init,h(E,_,O(I._payload),k)}if(Xa(I)||Fa(I))return O!==null?null:d(E,_,I,k,null);lu(E,I)}return null}function y(E,_,I,k,O){if(typeof k=="string"&&k!==""||typeof k=="number")return E=E.get(I)||null,a(_,E,""+k,O);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Xc:return E=E.get(k.key===null?I:k.key)||null,l(_,E,k,O);case co:return E=E.get(k.key===null?I:k.key)||null,u(_,E,k,O);case ai:var L=k._init;return y(E,_,I,L(k._payload),O)}if(Xa(k)||Fa(k))return E=E.get(I)||null,d(_,E,k,O,null);lu(_,k)}return null}function T(E,_,I,k){for(var O=null,L=null,b=_,S=_=0,A=null;b!==null&&S<I.length;S++){b.index>S?(A=b,b=null):A=b.sibling;var R=h(E,b,I[S],k);if(R===null){b===null&&(b=A);break}t&&b&&R.alternate===null&&e(E,b),_=s(R,_,S),L===null?O=R:L.sibling=R,L=R,b=A}if(S===I.length)return n(E,b),Oe&&is(E,S),O;if(b===null){for(;S<I.length;S++)b=f(E,I[S],k),b!==null&&(_=s(b,_,S),L===null?O=b:L.sibling=b,L=b);return Oe&&is(E,S),O}for(b=r(E,b);S<I.length;S++)A=y(b,E,S,I[S],k),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?S:A.key),_=s(A,_,S),L===null?O=A:L.sibling=A,L=A);return t&&b.forEach(function(N){return e(E,N)}),Oe&&is(E,S),O}function w(E,_,I,k){var O=Fa(I);if(typeof O!="function")throw Error(z(150));if(I=O.call(I),I==null)throw Error(z(151));for(var L=O=null,b=_,S=_=0,A=null,R=I.next();b!==null&&!R.done;S++,R=I.next()){b.index>S?(A=b,b=null):A=b.sibling;var N=h(E,b,R.value,k);if(N===null){b===null&&(b=A);break}t&&b&&N.alternate===null&&e(E,b),_=s(N,_,S),L===null?O=N:L.sibling=N,L=N,b=A}if(R.done)return n(E,b),Oe&&is(E,S),O;if(b===null){for(;!R.done;S++,R=I.next())R=f(E,R.value,k),R!==null&&(_=s(R,_,S),L===null?O=R:L.sibling=R,L=R);return Oe&&is(E,S),O}for(b=r(E,b);!R.done;S++,R=I.next())R=y(b,E,S,R.value,k),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?S:R.key),_=s(R,_,S),L===null?O=R:L.sibling=R,L=R);return t&&b.forEach(function(D){return e(E,D)}),Oe&&is(E,S),O}function x(E,_,I,k){if(typeof I=="object"&&I!==null&&I.type===uo&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Xc:e:{for(var O=I.key,L=_;L!==null;){if(L.key===O){if(O=I.type,O===uo){if(L.tag===7){n(E,L.sibling),_=i(L,I.props.children),_.return=E,E=_;break e}}else if(L.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ai&&Sw(O)===L.type){n(E,L.sibling),_=i(L,I.props),_.ref=Ha(E,L,I),_.return=E,E=_;break e}n(E,L);break}else e(E,L);L=L.sibling}I.type===uo?(_=ys(I.props.children,E.mode,k,I.key),_.return=E,E=_):(k=Bu(I.type,I.key,I.props,null,E.mode,k),k.ref=Ha(E,_,I),k.return=E,E=k)}return o(E);case co:e:{for(L=I.key;_!==null;){if(_.key===L)if(_.tag===4&&_.stateNode.containerInfo===I.containerInfo&&_.stateNode.implementation===I.implementation){n(E,_.sibling),_=i(_,I.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else e(E,_);_=_.sibling}_=Xf(I,E.mode,k),_.return=E,E=_}return o(E);case ai:return L=I._init,x(E,_,L(I._payload),k)}if(Xa(I))return T(E,_,I,k);if(Fa(I))return w(E,_,I,k);lu(E,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,_!==null&&_.tag===6?(n(E,_.sibling),_=i(_,I),_.return=E,E=_):(n(E,_),_=Yf(I,E.mode,k),_.return=E,E=_),o(E)):n(E,_)}return x}var Qo=tx(!0),nx=tx(!1),gd=Gi(null),vd=null,wo=null,Ug=null;function $g(){Ug=wo=vd=null}function Bg(t){var e=gd.current;De(gd),t._currentValue=e}function am(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bo(t,e){vd=t,Ug=wo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qt=!0),t.firstContext=null)}function Tn(t){var e=t._currentValue;if(Ug!==t)if(t={context:t,memoizedValue:e,next:null},wo===null){if(vd===null)throw Error(z(308));wo=t,vd.dependencies={lanes:0,firstContext:t}}else wo=wo.next=t;return e}var cs=null;function zg(t){cs===null?cs=[t]:cs.push(t)}function rx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,zg(e)):(n.next=i.next,i.next=n),e.interleaved=n,Fr(t,r)}function Fr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var li=!1;function Hg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ix(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Dr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ai(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Fr(t,n)}return i=r.interleaved,i===null?(e.next=e,zg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Fr(t,n)}function Lu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rg(t,n)}}function Cw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function yd(t,e,n,r){var i=t.updateQueue;li=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=u=l=null,a=s;do{var h=a.lane,y=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,w=a;switch(h=e,y=n,w.tag){case 1:if(T=w.payload,typeof T=="function"){f=T.call(y,f,h);break e}f=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=w.payload,h=typeof T=="function"?T.call(y,f,h):T,h==null)break e;f=je({},f,h);break e;case 2:li=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=y,l=f):d=d.next=y,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);xs|=o,t.lanes=o,t.memoizedState=f}}function bw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var fc={},ir=Gi(fc),Ol=Gi(fc),Ml=Gi(fc);function us(t){if(t===fc)throw Error(z(174));return t}function Wg(t,e){switch(Re(Ml,e),Re(Ol,t),Re(ir,fc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$p(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$p(e,t)}De(ir),Re(ir,e)}function Yo(){De(ir),De(Ol),De(Ml)}function sx(t){us(Ml.current);var e=us(ir.current),n=$p(e,t.type);e!==n&&(Re(Ol,t),Re(ir,n))}function Kg(t){Ol.current===t&&(De(ir),De(Ol))}var Le=Gi(0);function wd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hf=[];function qg(){for(var t=0;t<Hf.length;t++)Hf[t]._workInProgressVersionPrimary=null;Hf.length=0}var Vu=qr.ReactCurrentDispatcher,Wf=qr.ReactCurrentBatchConfig,Ts=0,Ve=null,rt=null,ct=null,_d=!1,dl=!1,Ll=0,e2=0;function It(){throw Error(z(321))}function Gg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fn(t[n],e[n]))return!1;return!0}function Qg(t,e,n,r,i,s){if(Ts=s,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vu.current=t===null||t.memoizedState===null?i2:s2,t=n(r,i),dl){s=0;do{if(dl=!1,Ll=0,25<=s)throw Error(z(301));s+=1,ct=rt=null,e.updateQueue=null,Vu.current=o2,t=n(r,i)}while(dl)}if(Vu.current=Ed,e=rt!==null&&rt.next!==null,Ts=0,ct=rt=Ve=null,_d=!1,e)throw Error(z(300));return t}function Yg(){var t=Ll!==0;return Ll=0,t}function Yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ve.memoizedState=ct=t:ct=ct.next=t,ct}function xn(){if(rt===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var e=ct===null?Ve.memoizedState:ct.next;if(e!==null)ct=e,rt=t;else{if(t===null)throw Error(z(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},ct===null?Ve.memoizedState=ct=t:ct=ct.next=t}return ct}function Vl(t,e){return typeof e=="function"?e(t):e}function Kf(t){var e=xn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=rt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Ts&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ve.lanes|=d,xs|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Fn(r,e.memoizedState)||(Qt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ve.lanes|=s,xs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qf(t){var e=xn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Fn(s,e.memoizedState)||(Qt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ox(){}function ax(t,e){var n=Ve,r=xn(),i=e(),s=!Fn(r.memoizedState,i);if(s&&(r.memoizedState=i,Qt=!0),r=r.queue,Xg(ux.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ct!==null&&ct.memoizedState.tag&1){if(n.flags|=2048,jl(9,cx.bind(null,n,r,i,e),void 0,null),ut===null)throw Error(z(349));Ts&30||lx(n,e,i)}return i}function lx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function cx(t,e,n,r){e.value=n,e.getSnapshot=r,dx(e)&&hx(t)}function ux(t,e,n){return n(function(){dx(e)&&hx(t)})}function dx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fn(t,n)}catch{return!0}}function hx(t){var e=Fr(t,1);e!==null&&jn(e,t,1,-1)}function Aw(t){var e=Yn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vl,lastRenderedState:t},e.queue=t,t=t.dispatch=r2.bind(null,Ve,t),[e.memoizedState,t]}function jl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function fx(){return xn().memoizedState}function ju(t,e,n,r){var i=Yn();Ve.flags|=t,i.memoizedState=jl(1|e,n,void 0,r===void 0?null:r)}function fh(t,e,n,r){var i=xn();r=r===void 0?null:r;var s=void 0;if(rt!==null){var o=rt.memoizedState;if(s=o.destroy,r!==null&&Gg(r,o.deps)){i.memoizedState=jl(e,n,s,r);return}}Ve.flags|=t,i.memoizedState=jl(1|e,n,s,r)}function Rw(t,e){return ju(8390656,8,t,e)}function Xg(t,e){return fh(2048,8,t,e)}function px(t,e){return fh(4,2,t,e)}function mx(t,e){return fh(4,4,t,e)}function gx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vx(t,e,n){return n=n!=null?n.concat([t]):null,fh(4,4,gx.bind(null,e,t),n)}function Jg(){}function yx(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function wx(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _x(t,e,n){return Ts&21?(Fn(n,e)||(n=S1(),Ve.lanes|=n,xs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qt=!0),t.memoizedState=n)}function t2(t,e){var n=Ce;Ce=n!==0&&4>n?n:4,t(!0);var r=Wf.transition;Wf.transition={};try{t(!1),e()}finally{Ce=n,Wf.transition=r}}function Ex(){return xn().memoizedState}function n2(t,e,n){var r=Pi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Tx(t))xx(e,n);else if(n=rx(t,e,n,r),n!==null){var i=Ft();jn(n,t,r,i),Ix(n,e,r)}}function r2(t,e,n){var r=Pi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Tx(t))xx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Fn(a,o)){var l=e.interleaved;l===null?(i.next=i,zg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=rx(t,e,i,r),n!==null&&(i=Ft(),jn(n,t,r,i),Ix(n,e,r))}}function Tx(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function xx(t,e){dl=_d=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ix(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rg(t,n)}}var Ed={readContext:Tn,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},i2={readContext:Tn,useCallback:function(t,e){return Yn().memoizedState=[t,e===void 0?null:e],t},useContext:Tn,useEffect:Rw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ju(4194308,4,gx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ju(4194308,4,t,e)},useInsertionEffect:function(t,e){return ju(4,2,t,e)},useMemo:function(t,e){var n=Yn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Yn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=n2.bind(null,Ve,t),[r.memoizedState,t]},useRef:function(t){var e=Yn();return t={current:t},e.memoizedState=t},useState:Aw,useDebugValue:Jg,useDeferredValue:function(t){return Yn().memoizedState=t},useTransition:function(){var t=Aw(!1),e=t[0];return t=t2.bind(null,t[1]),Yn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ve,i=Yn();if(Oe){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),ut===null)throw Error(z(349));Ts&30||lx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Rw(ux.bind(null,r,s,t),[t]),r.flags|=2048,jl(9,cx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Yn(),e=ut.identifierPrefix;if(Oe){var n=Pr,r=Rr;n=(r&~(1<<32-Vn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ll++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=e2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},s2={readContext:Tn,useCallback:yx,useContext:Tn,useEffect:Xg,useImperativeHandle:vx,useInsertionEffect:px,useLayoutEffect:mx,useMemo:wx,useReducer:Kf,useRef:fx,useState:function(){return Kf(Vl)},useDebugValue:Jg,useDeferredValue:function(t){var e=xn();return _x(e,rt.memoizedState,t)},useTransition:function(){var t=Kf(Vl)[0],e=xn().memoizedState;return[t,e]},useMutableSource:ox,useSyncExternalStore:ax,useId:Ex,unstable_isNewReconciler:!1},o2={readContext:Tn,useCallback:yx,useContext:Tn,useEffect:Xg,useImperativeHandle:vx,useInsertionEffect:px,useLayoutEffect:mx,useMemo:wx,useReducer:qf,useRef:fx,useState:function(){return qf(Vl)},useDebugValue:Jg,useDeferredValue:function(t){var e=xn();return rt===null?e.memoizedState=t:_x(e,rt.memoizedState,t)},useTransition:function(){var t=qf(Vl)[0],e=xn().memoizedState;return[t,e]},useMutableSource:ox,useSyncExternalStore:ax,useId:Ex,unstable_isNewReconciler:!1};function Rn(t,e){if(t&&t.defaultProps){e=je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function lm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ph={isMounted:function(t){return(t=t._reactInternals)?js(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ft(),i=Pi(t),s=Dr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ai(t,s,i),e!==null&&(jn(e,t,i,r),Lu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ft(),i=Pi(t),s=Dr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ai(t,s,i),e!==null&&(jn(e,t,i,r),Lu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ft(),r=Pi(t),i=Dr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ai(t,i,r),e!==null&&(jn(e,t,r,n),Lu(e,t,r))}};function Pw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Pl(n,r)||!Pl(i,s):!0}function Sx(t,e,n){var r=!1,i=Li,s=e.contextType;return typeof s=="object"&&s!==null?s=Tn(s):(i=Xt(e)?_s:Nt.current,r=e.contextTypes,s=(r=r!=null)?qo(t,i):Li),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ph,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function kw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ph.enqueueReplaceState(e,e.state,null)}function cm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Hg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Tn(s):(s=Xt(e)?_s:Nt.current,i.context=qo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(lm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ph.enqueueReplaceState(i,i.state,null),yd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xo(t,e){try{var n="",r=e;do n+=Ok(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Gf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function um(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var a2=typeof WeakMap=="function"?WeakMap:Map;function Cx(t,e,n){n=Dr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){xd||(xd=!0,_m=r),um(t,e)},n}function bx(t,e,n){n=Dr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){um(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){um(t,e),typeof r!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Nw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new a2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=E2.bind(null,t,e,n),e.then(t,t))}function Dw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ow(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Dr(-1,1),e.tag=2,Ai(n,e,1))),n.lanes|=1),t)}var l2=qr.ReactCurrentOwner,Qt=!1;function Vt(t,e,n,r){e.child=t===null?nx(e,null,n,r):Qo(e,t.child,n,r)}function Mw(t,e,n,r,i){n=n.render;var s=e.ref;return bo(e,i),r=Qg(t,e,n,r,s,i),n=Yg(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ur(t,e,i)):(Oe&&n&&Vg(e),e.flags|=1,Vt(t,e,r,i),e.child)}function Lw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ov(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Ax(t,e,s,r,i)):(t=Bu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Pl,n(o,r)&&t.ref===e.ref)return Ur(t,e,i)}return e.flags|=1,t=ki(s,r),t.ref=e.ref,t.return=e,e.child=t}function Ax(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Pl(s,r)&&t.ref===e.ref)if(Qt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Qt=!0);else return e.lanes=t.lanes,Ur(t,e,i)}return dm(t,e,n,r,i)}function Rx(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Eo,sn),sn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Re(Eo,sn),sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Re(Eo,sn),sn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Re(Eo,sn),sn|=r;return Vt(t,e,i,n),e.child}function Px(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function dm(t,e,n,r,i){var s=Xt(n)?_s:Nt.current;return s=qo(e,s),bo(e,i),n=Qg(t,e,n,r,s,i),r=Yg(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ur(t,e,i)):(Oe&&r&&Vg(e),e.flags|=1,Vt(t,e,n,i),e.child)}function Vw(t,e,n,r,i){if(Xt(n)){var s=!0;fd(e)}else s=!1;if(bo(e,i),e.stateNode===null)Fu(t,e),Sx(e,n,r),cm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Tn(u):(u=Xt(n)?_s:Nt.current,u=qo(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&kw(e,o,r,u),li=!1;var h=e.memoizedState;o.state=h,yd(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Yt.current||li?(typeof d=="function"&&(lm(e,n,d,r),l=e.memoizedState),(a=li||Pw(e,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ix(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Rn(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Tn(l):(l=Xt(n)?_s:Nt.current,l=qo(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&kw(e,o,r,l),li=!1,h=e.memoizedState,o.state=h,yd(e,r,o,i);var T=e.memoizedState;a!==f||h!==T||Yt.current||li?(typeof y=="function"&&(lm(e,n,y,r),T=e.memoizedState),(u=li||Pw(e,n,u,r,h,T,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return hm(t,e,n,r,s,i)}function hm(t,e,n,r,i,s){Px(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Tw(e,n,!1),Ur(t,e,s);r=e.stateNode,l2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Qo(e,t.child,null,s),e.child=Qo(e,null,a,s)):Vt(t,e,a,s),e.memoizedState=r.state,i&&Tw(e,n,!0),e.child}function kx(t){var e=t.stateNode;e.pendingContext?Ew(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ew(t,e.context,!1),Wg(t,e.containerInfo)}function jw(t,e,n,r,i){return Go(),Fg(i),e.flags|=256,Vt(t,e,n,r),e.child}var fm={dehydrated:null,treeContext:null,retryLane:0};function pm(t){return{baseLanes:t,cachePool:null,transitions:null}}function Nx(t,e,n){var r=e.pendingProps,i=Le.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Re(Le,i&1),t===null)return om(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=vh(o,r,0,null),t=ys(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=pm(n),e.memoizedState=fm,t):Zg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return c2(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ki(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ki(a,s):(s=ys(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?pm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=fm,r}return s=t.child,t=s.sibling,r=ki(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Zg(t,e){return e=vh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cu(t,e,n,r){return r!==null&&Fg(r),Qo(e,t.child,null,n),t=Zg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function c2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Gf(Error(z(422))),cu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=vh({mode:"visible",children:r.children},i,0,null),s=ys(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Qo(e,t.child,null,o),e.child.memoizedState=pm(o),e.memoizedState=fm,s);if(!(e.mode&1))return cu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=Gf(s,r,void 0),cu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Qt||a){if(r=ut,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Fr(t,i),jn(r,t,i,-1))}return sv(),r=Gf(Error(z(421))),cu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=T2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ln=bi(i.nextSibling),cn=e,Oe=!0,Dn=null,t!==null&&(mn[gn++]=Rr,mn[gn++]=Pr,mn[gn++]=Es,Rr=t.id,Pr=t.overflow,Es=e),e=Zg(e,r.children),e.flags|=4096,e)}function Fw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),am(t.return,e,n)}function Qf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Dx(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Vt(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fw(t,n,e);else if(t.tag===19)Fw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Re(Le,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&wd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qf(e,!0,n,null,s);break;case"together":Qf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ur(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=ki(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ki(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function u2(t,e,n){switch(e.tag){case 3:kx(e),Go();break;case 5:sx(e);break;case 1:Xt(e.type)&&fd(e);break;case 4:Wg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Re(gd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Re(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?Nx(t,e,n):(Re(Le,Le.current&1),t=Ur(t,e,n),t!==null?t.sibling:null);Re(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Dx(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Re(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,Rx(t,e,n)}return Ur(t,e,n)}var Ox,mm,Mx,Lx;Ox=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mm=function(){};Mx=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,us(ir.current);var s=null;switch(n){case"input":i=Vp(t,i),r=Vp(t,r),s=[];break;case"select":i=je({},i,{value:void 0}),r=je({},r,{value:void 0}),s=[];break;case"textarea":i=Up(t,i),r=Up(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=dd)}Bp(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ne("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Lx=function(t,e,n,r){n!==r&&(e.flags|=4)};function Wa(t,e){if(!Oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function St(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function d2(t,e,n){var r=e.pendingProps;switch(jg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(e),null;case 1:return Xt(e.type)&&hd(),St(e),null;case 3:return r=e.stateNode,Yo(),De(Yt),De(Nt),qg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(au(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dn!==null&&(xm(Dn),Dn=null))),mm(t,e),St(e),null;case 5:Kg(e);var i=us(Ml.current);if(n=e.type,t!==null&&e.stateNode!=null)Mx(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return St(e),null}if(t=us(ir.current),au(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[tr]=e,r[Dl]=s,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<Za.length;i++)Ne(Za[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":G0(r,s),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ne("invalid",r);break;case"textarea":Y0(r,s),Ne("invalid",r)}Bp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ou(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ou(r.textContent,a,t),i=["children",""+a]):xl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":Jc(r),Q0(r,s,!0);break;case"textarea":Jc(r),X0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=dd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=u1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[tr]=e,t[Dl]=r,Ox(t,e,!1,!1),e.stateNode=t;e:{switch(o=zp(n,r),n){case"dialog":Ne("cancel",t),Ne("close",t),i=r;break;case"iframe":case"object":case"embed":Ne("load",t),i=r;break;case"video":case"audio":for(i=0;i<Za.length;i++)Ne(Za[i],t);i=r;break;case"source":Ne("error",t),i=r;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),i=r;break;case"details":Ne("toggle",t),i=r;break;case"input":G0(t,r),i=Vp(t,r),Ne("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=je({},r,{value:void 0}),Ne("invalid",t);break;case"textarea":Y0(t,r),i=Up(t,r),Ne("invalid",t);break;default:i=r}Bp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?f1(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&d1(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Il(t,l):typeof l=="number"&&Il(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ne("scroll",t):l!=null&&xg(t,s,l,o))}switch(n){case"input":Jc(t),Q0(t,r,!1);break;case"textarea":Jc(t),X0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Mi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?xo(t,!!r.multiple,s,!1):r.defaultValue!=null&&xo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=dd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return St(e),null;case 6:if(t&&e.stateNode!=null)Lx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=us(Ml.current),us(ir.current),au(e)){if(r=e.stateNode,n=e.memoizedProps,r[tr]=e,(s=r.nodeValue!==n)&&(t=cn,t!==null))switch(t.tag){case 3:ou(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ou(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tr]=e,e.stateNode=r}return St(e),null;case 13:if(De(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Oe&&ln!==null&&e.mode&1&&!(e.flags&128))ex(),Go(),e.flags|=98560,s=!1;else if(s=au(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[tr]=e}else Go(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;St(e),s=!1}else Dn!==null&&(xm(Dn),Dn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?st===0&&(st=3):sv())),e.updateQueue!==null&&(e.flags|=4),St(e),null);case 4:return Yo(),mm(t,e),t===null&&kl(e.stateNode.containerInfo),St(e),null;case 10:return Bg(e.type._context),St(e),null;case 17:return Xt(e.type)&&hd(),St(e),null;case 19:if(De(Le),s=e.memoizedState,s===null)return St(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Wa(s,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wd(t),o!==null){for(e.flags|=128,Wa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Re(Le,Le.current&1|2),e.child}t=t.sibling}s.tail!==null&&Qe()>Jo&&(e.flags|=128,r=!0,Wa(s,!1),e.lanes=4194304)}else{if(!r)if(t=wd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Oe)return St(e),null}else 2*Qe()-s.renderingStartTime>Jo&&n!==1073741824&&(e.flags|=128,r=!0,Wa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Qe(),e.sibling=null,n=Le.current,Re(Le,r?n&1|2:n&1),e):(St(e),null);case 22:case 23:return iv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?sn&1073741824&&(St(e),e.subtreeFlags&6&&(e.flags|=8192)):St(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function h2(t,e){switch(jg(e),e.tag){case 1:return Xt(e.type)&&hd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yo(),De(Yt),De(Nt),qg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Kg(e),null;case 13:if(De(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Go()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De(Le),null;case 4:return Yo(),null;case 10:return Bg(e.type._context),null;case 22:case 23:return iv(),null;case 24:return null;default:return null}}var uu=!1,Rt=!1,f2=typeof WeakSet=="function"?WeakSet:Set,X=null;function _o(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(t,e,r)}else n.current=null}function gm(t,e,n){try{n()}catch(r){He(t,e,r)}}var Uw=!1;function p2(t,e){if(Zp=ld,t=$1(),Lg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var y;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++d===r&&(l=o),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(em={focusedElem:t,selectionRange:n},ld=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var w=T.memoizedProps,x=T.memoizedState,E=e.stateNode,_=E.getSnapshotBeforeUpdate(e.elementType===e.type?w:Rn(e.type,w),x);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(k){He(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return T=Uw,Uw=!1,T}function hl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&gm(e,n,s)}i=i.next}while(i!==r)}}function mh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function vm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Vx(t){var e=t.alternate;e!==null&&(t.alternate=null,Vx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[tr],delete e[Dl],delete e[rm],delete e[YN],delete e[XN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jx(t){return t.tag===5||t.tag===3||t.tag===4}function $w(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ym(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=dd));else if(r!==4&&(t=t.child,t!==null))for(ym(t,e,n),t=t.sibling;t!==null;)ym(t,e,n),t=t.sibling}function wm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wm(t,e,n),t=t.sibling;t!==null;)wm(t,e,n),t=t.sibling}var ht=null,Nn=!1;function ti(t,e,n){for(n=n.child;n!==null;)Fx(t,e,n),n=n.sibling}function Fx(t,e,n){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(ah,n)}catch{}switch(n.tag){case 5:Rt||_o(n,e);case 6:var r=ht,i=Nn;ht=null,ti(t,e,n),ht=r,Nn=i,ht!==null&&(Nn?(t=ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(Nn?(t=ht,n=n.stateNode,t.nodeType===8?Bf(t.parentNode,n):t.nodeType===1&&Bf(t,n),Al(t)):Bf(ht,n.stateNode));break;case 4:r=ht,i=Nn,ht=n.stateNode.containerInfo,Nn=!0,ti(t,e,n),ht=r,Nn=i;break;case 0:case 11:case 14:case 15:if(!Rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&gm(n,e,o),i=i.next}while(i!==r)}ti(t,e,n);break;case 1:if(!Rt&&(_o(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){He(n,e,a)}ti(t,e,n);break;case 21:ti(t,e,n);break;case 22:n.mode&1?(Rt=(r=Rt)||n.memoizedState!==null,ti(t,e,n),Rt=r):ti(t,e,n);break;default:ti(t,e,n)}}function Bw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new f2),e.forEach(function(r){var i=x2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function An(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ht=a.stateNode,Nn=!1;break e;case 3:ht=a.stateNode.containerInfo,Nn=!0;break e;case 4:ht=a.stateNode.containerInfo,Nn=!0;break e}a=a.return}if(ht===null)throw Error(z(160));Fx(s,o,i),ht=null,Nn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){He(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ux(e,t),e=e.sibling}function Ux(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(An(e,t),Qn(t),r&4){try{hl(3,t,t.return),mh(3,t)}catch(w){He(t,t.return,w)}try{hl(5,t,t.return)}catch(w){He(t,t.return,w)}}break;case 1:An(e,t),Qn(t),r&512&&n!==null&&_o(n,n.return);break;case 5:if(An(e,t),Qn(t),r&512&&n!==null&&_o(n,n.return),t.flags&32){var i=t.stateNode;try{Il(i,"")}catch(w){He(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&l1(i,s),zp(a,o);var u=zp(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?f1(i,f):d==="dangerouslySetInnerHTML"?d1(i,f):d==="children"?Il(i,f):xg(i,d,f,u)}switch(a){case"input":jp(i,s);break;case"textarea":c1(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?xo(i,!!s.multiple,y,!1):h!==!!s.multiple&&(s.defaultValue!=null?xo(i,!!s.multiple,s.defaultValue,!0):xo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Dl]=s}catch(w){He(t,t.return,w)}}break;case 6:if(An(e,t),Qn(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){He(t,t.return,w)}}break;case 3:if(An(e,t),Qn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Al(e.containerInfo)}catch(w){He(t,t.return,w)}break;case 4:An(e,t),Qn(t);break;case 13:An(e,t),Qn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(nv=Qe())),r&4&&Bw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Rt=(u=Rt)||d,An(e,t),Rt=u):An(e,t),Qn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(X=t,d=t.child;d!==null;){for(f=X=d;X!==null;){switch(h=X,y=h.child,h.tag){case 0:case 11:case 14:case 15:hl(4,h,h.return);break;case 1:_o(h,h.return);var T=h.stateNode;if(typeof T.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(w){He(r,n,w)}}break;case 5:_o(h,h.return);break;case 22:if(h.memoizedState!==null){Hw(f);continue}}y!==null?(y.return=h,X=y):Hw(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=h1("display",o))}catch(w){He(t,t.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){He(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:An(e,t),Qn(t),r&4&&Bw(t);break;case 21:break;default:An(e,t),Qn(t)}}function Qn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jx(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Il(i,""),r.flags&=-33);var s=$w(t);wm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=$w(t);ym(t,a,o);break;default:throw Error(z(161))}}catch(l){He(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function m2(t,e,n){X=t,$x(t)}function $x(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||uu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Rt;a=uu;var u=Rt;if(uu=o,(Rt=l)&&!u)for(X=i;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?Ww(i):l!==null?(l.return=o,X=l):Ww(i);for(;s!==null;)X=s,$x(s),s=s.sibling;X=i,uu=a,Rt=u}zw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):zw(t)}}function zw(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Rt||mh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Rt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Rn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&bw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Al(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Rt||e.flags&512&&vm(e)}catch(h){He(e,e.return,h)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function Hw(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function Ww(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{mh(4,e)}catch(l){He(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){He(e,i,l)}}var s=e.return;try{vm(e)}catch(l){He(e,s,l)}break;case 5:var o=e.return;try{vm(e)}catch(l){He(e,o,l)}}}catch(l){He(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var g2=Math.ceil,Td=qr.ReactCurrentDispatcher,ev=qr.ReactCurrentOwner,wn=qr.ReactCurrentBatchConfig,_e=0,ut=null,tt=null,mt=0,sn=0,Eo=Gi(0),st=0,Fl=null,xs=0,gh=0,tv=0,fl=null,Wt=null,nv=0,Jo=1/0,Cr=null,xd=!1,_m=null,Ri=null,du=!1,Ei=null,Id=0,pl=0,Em=null,Uu=-1,$u=0;function Ft(){return _e&6?Qe():Uu!==-1?Uu:Uu=Qe()}function Pi(t){return t.mode&1?_e&2&&mt!==0?mt&-mt:ZN.transition!==null?($u===0&&($u=S1()),$u):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:N1(t.type)),t):1}function jn(t,e,n,r){if(50<pl)throw pl=0,Em=null,Error(z(185));uc(t,n,r),(!(_e&2)||t!==ut)&&(t===ut&&(!(_e&2)&&(gh|=n),st===4&&ui(t,mt)),Jt(t,r),n===1&&_e===0&&!(e.mode&1)&&(Jo=Qe()+500,hh&&Qi()))}function Jt(t,e){var n=t.callbackNode;Zk(t,e);var r=ad(t,t===ut?mt:0);if(r===0)n!==null&&ew(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ew(n),e===1)t.tag===0?JN(Kw.bind(null,t)):X1(Kw.bind(null,t)),GN(function(){!(_e&6)&&Qi()}),n=null;else{switch(C1(r)){case 1:n=Ag;break;case 4:n=x1;break;case 16:n=od;break;case 536870912:n=I1;break;default:n=od}n=Qx(n,Bx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Bx(t,e){if(Uu=-1,$u=0,_e&6)throw Error(z(327));var n=t.callbackNode;if(Ao()&&t.callbackNode!==n)return null;var r=ad(t,t===ut?mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Sd(t,r);else{e=r;var i=_e;_e|=2;var s=Hx();(ut!==t||mt!==e)&&(Cr=null,Jo=Qe()+500,vs(t,e));do try{w2();break}catch(a){zx(t,a)}while(!0);$g(),Td.current=s,_e=i,tt!==null?e=0:(ut=null,mt=0,e=st)}if(e!==0){if(e===2&&(i=Gp(t),i!==0&&(r=i,e=Tm(t,i))),e===1)throw n=Fl,vs(t,0),ui(t,r),Jt(t,Qe()),n;if(e===6)ui(t,r);else{if(i=t.current.alternate,!(r&30)&&!v2(i)&&(e=Sd(t,r),e===2&&(s=Gp(t),s!==0&&(r=s,e=Tm(t,s))),e===1))throw n=Fl,vs(t,0),ui(t,r),Jt(t,Qe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:ss(t,Wt,Cr);break;case 3:if(ui(t,r),(r&130023424)===r&&(e=nv+500-Qe(),10<e)){if(ad(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ft(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=nm(ss.bind(null,t,Wt,Cr),e);break}ss(t,Wt,Cr);break;case 4:if(ui(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Vn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*g2(r/1960))-r,10<r){t.timeoutHandle=nm(ss.bind(null,t,Wt,Cr),r);break}ss(t,Wt,Cr);break;case 5:ss(t,Wt,Cr);break;default:throw Error(z(329))}}}return Jt(t,Qe()),t.callbackNode===n?Bx.bind(null,t):null}function Tm(t,e){var n=fl;return t.current.memoizedState.isDehydrated&&(vs(t,e).flags|=256),t=Sd(t,e),t!==2&&(e=Wt,Wt=n,e!==null&&xm(e)),t}function xm(t){Wt===null?Wt=t:Wt.push.apply(Wt,t)}function v2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Fn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ui(t,e){for(e&=~tv,e&=~gh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vn(e),r=1<<n;t[n]=-1,e&=~r}}function Kw(t){if(_e&6)throw Error(z(327));Ao();var e=ad(t,0);if(!(e&1))return Jt(t,Qe()),null;var n=Sd(t,e);if(t.tag!==0&&n===2){var r=Gp(t);r!==0&&(e=r,n=Tm(t,r))}if(n===1)throw n=Fl,vs(t,0),ui(t,e),Jt(t,Qe()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ss(t,Wt,Cr),Jt(t,Qe()),null}function rv(t,e){var n=_e;_e|=1;try{return t(e)}finally{_e=n,_e===0&&(Jo=Qe()+500,hh&&Qi())}}function Is(t){Ei!==null&&Ei.tag===0&&!(_e&6)&&Ao();var e=_e;_e|=1;var n=wn.transition,r=Ce;try{if(wn.transition=null,Ce=1,t)return t()}finally{Ce=r,wn.transition=n,_e=e,!(_e&6)&&Qi()}}function iv(){sn=Eo.current,De(Eo)}function vs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qN(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(jg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hd();break;case 3:Yo(),De(Yt),De(Nt),qg();break;case 5:Kg(r);break;case 4:Yo();break;case 13:De(Le);break;case 19:De(Le);break;case 10:Bg(r.type._context);break;case 22:case 23:iv()}n=n.return}if(ut=t,tt=t=ki(t.current,null),mt=sn=e,st=0,Fl=null,tv=gh=xs=0,Wt=fl=null,cs!==null){for(e=0;e<cs.length;e++)if(n=cs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}cs=null}return t}function zx(t,e){do{var n=tt;try{if($g(),Vu.current=Ed,_d){for(var r=Ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}_d=!1}if(Ts=0,ct=rt=Ve=null,dl=!1,Ll=0,ev.current=null,n===null||n.return===null){st=1,Fl=e,tt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Dw(o);if(y!==null){y.flags&=-257,Ow(y,o,a,s,e),y.mode&1&&Nw(s,u,e),e=y,l=u;var T=e.updateQueue;if(T===null){var w=new Set;w.add(l),e.updateQueue=w}else T.add(l);break e}else{if(!(e&1)){Nw(s,u,e),sv();break e}l=Error(z(426))}}else if(Oe&&a.mode&1){var x=Dw(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Ow(x,o,a,s,e),Fg(Xo(l,a));break e}}s=l=Xo(l,a),st!==4&&(st=2),fl===null?fl=[s]:fl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=Cx(s,l,e);Cw(s,E);break e;case 1:a=l;var _=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Ri===null||!Ri.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=bx(s,a,e);Cw(s,k);break e}}s=s.return}while(s!==null)}Kx(n)}catch(O){e=O,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(!0)}function Hx(){var t=Td.current;return Td.current=Ed,t===null?Ed:t}function sv(){(st===0||st===3||st===2)&&(st=4),ut===null||!(xs&268435455)&&!(gh&268435455)||ui(ut,mt)}function Sd(t,e){var n=_e;_e|=2;var r=Hx();(ut!==t||mt!==e)&&(Cr=null,vs(t,e));do try{y2();break}catch(i){zx(t,i)}while(!0);if($g(),_e=n,Td.current=r,tt!==null)throw Error(z(261));return ut=null,mt=0,st}function y2(){for(;tt!==null;)Wx(tt)}function w2(){for(;tt!==null&&!Hk();)Wx(tt)}function Wx(t){var e=Gx(t.alternate,t,sn);t.memoizedProps=t.pendingProps,e===null?Kx(t):tt=e,ev.current=null}function Kx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=h2(n,e),n!==null){n.flags&=32767,tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{st=6,tt=null;return}}else if(n=d2(n,e,sn),n!==null){tt=n;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=t}while(e!==null);st===0&&(st=5)}function ss(t,e,n){var r=Ce,i=wn.transition;try{wn.transition=null,Ce=1,_2(t,e,n,r)}finally{wn.transition=i,Ce=r}return null}function _2(t,e,n,r){do Ao();while(Ei!==null);if(_e&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(eN(t,s),t===ut&&(tt=ut=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||du||(du=!0,Qx(od,function(){return Ao(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=wn.transition,wn.transition=null;var o=Ce;Ce=1;var a=_e;_e|=4,ev.current=null,p2(t,n),Ux(n,t),UN(em),ld=!!Zp,em=Zp=null,t.current=n,m2(n),Wk(),_e=a,Ce=o,wn.transition=s}else t.current=n;if(du&&(du=!1,Ei=t,Id=i),s=t.pendingLanes,s===0&&(Ri=null),Gk(n.stateNode),Jt(t,Qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(xd)throw xd=!1,t=_m,_m=null,t;return Id&1&&t.tag!==0&&Ao(),s=t.pendingLanes,s&1?t===Em?pl++:(pl=0,Em=t):pl=0,Qi(),null}function Ao(){if(Ei!==null){var t=C1(Id),e=wn.transition,n=Ce;try{if(wn.transition=null,Ce=16>t?16:t,Ei===null)var r=!1;else{if(t=Ei,Ei=null,Id=0,_e&6)throw Error(z(331));var i=_e;for(_e|=4,X=t.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(X=u;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:hl(8,d,s)}var f=d.child;if(f!==null)f.return=d,X=f;else for(;X!==null;){d=X;var h=d.sibling,y=d.return;if(Vx(d),d===u){X=null;break}if(h!==null){h.return=y,X=h;break}X=y}}}var T=s.alternate;if(T!==null){var w=T.child;if(w!==null){T.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hl(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,X=E;break e}X=s.return}}var _=t.current;for(X=_;X!==null;){o=X;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,X=I;else e:for(o=_;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:mh(9,a)}}catch(O){He(a,a.return,O)}if(a===o){X=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,X=k;break e}X=a.return}}if(_e=i,Qi(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(ah,t)}catch{}r=!0}return r}finally{Ce=n,wn.transition=e}}return!1}function qw(t,e,n){e=Xo(n,e),e=Cx(t,e,1),t=Ai(t,e,1),e=Ft(),t!==null&&(uc(t,1,e),Jt(t,e))}function He(t,e,n){if(t.tag===3)qw(t,t,n);else for(;e!==null;){if(e.tag===3){qw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ri===null||!Ri.has(r))){t=Xo(n,t),t=bx(e,t,1),e=Ai(e,t,1),t=Ft(),e!==null&&(uc(e,1,t),Jt(e,t));break}}e=e.return}}function E2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ft(),t.pingedLanes|=t.suspendedLanes&n,ut===t&&(mt&n)===n&&(st===4||st===3&&(mt&130023424)===mt&&500>Qe()-nv?vs(t,0):tv|=n),Jt(t,e)}function qx(t,e){e===0&&(t.mode&1?(e=tu,tu<<=1,!(tu&130023424)&&(tu=4194304)):e=1);var n=Ft();t=Fr(t,e),t!==null&&(uc(t,e,n),Jt(t,n))}function T2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qx(t,n)}function x2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),qx(t,n)}var Gx;Gx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yt.current)Qt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qt=!1,u2(t,e,n);Qt=!!(t.flags&131072)}else Qt=!1,Oe&&e.flags&1048576&&J1(e,md,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fu(t,e),t=e.pendingProps;var i=qo(e,Nt.current);bo(e,n),i=Qg(null,e,r,t,i,n);var s=Yg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xt(r)?(s=!0,fd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hg(e),i.updater=ph,e.stateNode=i,i._reactInternals=e,cm(e,r,t,n),e=hm(null,e,r,!0,s,n)):(e.tag=0,Oe&&s&&Vg(e),Vt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=S2(r),t=Rn(r,t),i){case 0:e=dm(null,e,r,t,n);break e;case 1:e=Vw(null,e,r,t,n);break e;case 11:e=Mw(null,e,r,t,n);break e;case 14:e=Lw(null,e,r,Rn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),dm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),Vw(t,e,r,i,n);case 3:e:{if(kx(e),t===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ix(t,e),yd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Xo(Error(z(423)),e),e=jw(t,e,r,n,i);break e}else if(r!==i){i=Xo(Error(z(424)),e),e=jw(t,e,r,n,i);break e}else for(ln=bi(e.stateNode.containerInfo.firstChild),cn=e,Oe=!0,Dn=null,n=nx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Go(),r===i){e=Ur(t,e,n);break e}Vt(t,e,r,n)}e=e.child}return e;case 5:return sx(e),t===null&&om(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,tm(r,i)?o=null:s!==null&&tm(r,s)&&(e.flags|=32),Px(t,e),Vt(t,e,o,n),e.child;case 6:return t===null&&om(e),null;case 13:return Nx(t,e,n);case 4:return Wg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qo(e,null,r,n):Vt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),Mw(t,e,r,i,n);case 7:return Vt(t,e,e.pendingProps,n),e.child;case 8:return Vt(t,e,e.pendingProps.children,n),e.child;case 12:return Vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Re(gd,r._currentValue),r._currentValue=o,s!==null)if(Fn(s.value,o)){if(s.children===i.children&&!Yt.current){e=Ur(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Dr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),am(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),am(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Vt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,bo(e,n),i=Tn(i),r=r(i),e.flags|=1,Vt(t,e,r,n),e.child;case 14:return r=e.type,i=Rn(r,e.pendingProps),i=Rn(r.type,i),Lw(t,e,r,i,n);case 15:return Ax(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),Fu(t,e),e.tag=1,Xt(r)?(t=!0,fd(e)):t=!1,bo(e,n),Sx(e,r,i),cm(e,r,i,n),hm(null,e,r,!0,t,n);case 19:return Dx(t,e,n);case 22:return Rx(t,e,n)}throw Error(z(156,e.tag))};function Qx(t,e){return T1(t,e)}function I2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,e,n,r){return new I2(t,e,n,r)}function ov(t){return t=t.prototype,!(!t||!t.isReactComponent)}function S2(t){if(typeof t=="function")return ov(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sg)return 11;if(t===Cg)return 14}return 2}function ki(t,e){var n=t.alternate;return n===null?(n=yn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ov(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case uo:return ys(n.children,i,s,e);case Ig:o=8,i|=8;break;case Dp:return t=yn(12,n,e,i|2),t.elementType=Dp,t.lanes=s,t;case Op:return t=yn(13,n,e,i),t.elementType=Op,t.lanes=s,t;case Mp:return t=yn(19,n,e,i),t.elementType=Mp,t.lanes=s,t;case s1:return vh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case r1:o=10;break e;case i1:o=9;break e;case Sg:o=11;break e;case Cg:o=14;break e;case ai:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=yn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ys(t,e,n,r){return t=yn(7,t,r,e),t.lanes=n,t}function vh(t,e,n,r){return t=yn(22,t,r,e),t.elementType=s1,t.lanes=n,t.stateNode={isHidden:!1},t}function Yf(t,e,n){return t=yn(6,t,null,e),t.lanes=n,t}function Xf(t,e,n){return e=yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function C2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kf(0),this.expirationTimes=kf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function av(t,e,n,r,i,s,o,a,l){return t=new C2(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=yn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hg(s),t}function b2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:co,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Yx(t){if(!t)return Li;t=t._reactInternals;e:{if(js(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Xt(n))return Y1(t,n,e)}return e}function Xx(t,e,n,r,i,s,o,a,l){return t=av(n,r,!0,t,i,s,o,a,l),t.context=Yx(null),n=t.current,r=Ft(),i=Pi(n),s=Dr(r,i),s.callback=e??null,Ai(n,s,i),t.current.lanes=i,uc(t,i,r),Jt(t,r),t}function yh(t,e,n,r){var i=e.current,s=Ft(),o=Pi(i);return n=Yx(n),e.context===null?e.context=n:e.pendingContext=n,e=Dr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ai(i,e,o),t!==null&&(jn(t,i,o,s),Lu(t,i,o)),o}function Cd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Gw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lv(t,e){Gw(t,e),(t=t.alternate)&&Gw(t,e)}function A2(){return null}var Jx=typeof reportError=="function"?reportError:function(t){console.error(t)};function cv(t){this._internalRoot=t}wh.prototype.render=cv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));yh(t,e,null,null)};wh.prototype.unmount=cv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Is(function(){yh(null,t,null,null)}),e[jr]=null}};function wh(t){this._internalRoot=t}wh.prototype.unstable_scheduleHydration=function(t){if(t){var e=R1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ci.length&&e!==0&&e<ci[n].priority;n++);ci.splice(n,0,t),n===0&&k1(t)}};function uv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _h(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Qw(){}function R2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Cd(o);s.call(u)}}var o=Xx(e,r,t,0,null,!1,!1,"",Qw);return t._reactRootContainer=o,t[jr]=o.current,kl(t.nodeType===8?t.parentNode:t),Is(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Cd(l);a.call(u)}}var l=av(t,0,!1,null,null,!1,!1,"",Qw);return t._reactRootContainer=l,t[jr]=l.current,kl(t.nodeType===8?t.parentNode:t),Is(function(){yh(e,l,n,r)}),l}function Eh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Cd(o);a.call(l)}}yh(e,o,t,i)}else o=R2(n,e,t,i,r);return Cd(o)}b1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ja(e.pendingLanes);n!==0&&(Rg(e,n|1),Jt(e,Qe()),!(_e&6)&&(Jo=Qe()+500,Qi()))}break;case 13:Is(function(){var r=Fr(t,1);if(r!==null){var i=Ft();jn(r,t,1,i)}}),lv(t,1)}};Pg=function(t){if(t.tag===13){var e=Fr(t,134217728);if(e!==null){var n=Ft();jn(e,t,134217728,n)}lv(t,134217728)}};A1=function(t){if(t.tag===13){var e=Pi(t),n=Fr(t,e);if(n!==null){var r=Ft();jn(n,t,e,r)}lv(t,e)}};R1=function(){return Ce};P1=function(t,e){var n=Ce;try{return Ce=t,e()}finally{Ce=n}};Wp=function(t,e,n){switch(e){case"input":if(jp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=dh(r);if(!i)throw Error(z(90));a1(r),jp(r,i)}}}break;case"textarea":c1(t,n);break;case"select":e=n.value,e!=null&&xo(t,!!n.multiple,e,!1)}};g1=rv;v1=Is;var P2={usingClientEntryPoint:!1,Events:[hc,mo,dh,p1,m1,rv]},Ka={findFiberByHostInstance:ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k2={bundleType:Ka.bundleType,version:Ka.version,rendererPackageName:Ka.rendererPackageName,rendererConfig:Ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_1(t),t===null?null:t.stateNode},findFiberByHostInstance:Ka.findFiberByHostInstance||A2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hu.isDisabled&&hu.supportsFiber)try{ah=hu.inject(k2),rr=hu}catch{}}hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P2;hn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uv(e))throw Error(z(200));return b2(t,e,null,n)};hn.createRoot=function(t,e){if(!uv(t))throw Error(z(299));var n=!1,r="",i=Jx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=av(t,1,!1,null,null,n,!1,r,i),t[jr]=e.current,kl(t.nodeType===8?t.parentNode:t),new cv(e)};hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=_1(e),t=t===null?null:t.stateNode,t};hn.flushSync=function(t){return Is(t)};hn.hydrate=function(t,e,n){if(!_h(e))throw Error(z(200));return Eh(null,t,e,!0,n)};hn.hydrateRoot=function(t,e,n){if(!uv(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Jx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Xx(e,null,t,1,n??null,i,!1,s,o),t[jr]=e.current,kl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new wh(e)};hn.render=function(t,e,n){if(!_h(e))throw Error(z(200));return Eh(null,t,e,!1,n)};hn.unmountComponentAtNode=function(t){if(!_h(t))throw Error(z(40));return t._reactRootContainer?(Is(function(){Eh(null,null,t,!1,function(){t._reactRootContainer=null,t[jr]=null})}),!0):!1};hn.unstable_batchedUpdates=rv;hn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_h(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Eh(t,e,n,!1,r)};hn.version="18.3.1-next-f1338f8080-20240426";function Zx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zx)}catch(t){console.error(t)}}Zx(),ZT.exports=hn;var pc=ZT.exports;const eI=UT(pc);var tI,Yw=pc;tI=Yw.createRoot,Yw.hydrateRoot;const N2=1,D2=1e6;let Jf=0;function O2(){return Jf=(Jf+1)%Number.MAX_SAFE_INTEGER,Jf.toString()}const Zf=new Map,Xw=t=>{if(Zf.has(t))return;const e=setTimeout(()=>{Zf.delete(t),ml({type:"REMOVE_TOAST",toastId:t})},D2);Zf.set(t,e)},M2=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,N2)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Xw(n):t.toasts.forEach(r=>{Xw(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},zu=[];let Hu={toasts:[]};function ml(t){Hu=M2(Hu,t),zu.forEach(e=>{e(Hu)})}function dv({...t}){const e=O2(),n=i=>ml({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>ml({type:"DISMISS_TOAST",toastId:e});return ml({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function L2(){const[t,e]=g.useState(Hu);return g.useEffect(()=>(zu.push(e),()=>{const n=zu.indexOf(e);n>-1&&zu.splice(n,1)}),[t]),{...t,toast:dv,dismiss:n=>ml({type:"DISMISS_TOAST",toastId:n})}}function ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function V2(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Th(...t){return e=>t.forEach(n=>V2(n,e))}function Ke(...t){return g.useCallback(Th(...t),t)}function j2(t,e=[]){let n=[];function r(s,o){const a=g.createContext(o),l=n.length;n=[...n,o];function u(f){const{scope:h,children:y,...T}=f,w=(h==null?void 0:h[t][l])||a,x=g.useMemo(()=>T,Object.values(T));return m.jsx(w.Provider,{value:x,children:y})}function d(f,h){const y=(h==null?void 0:h[t][l])||a,T=g.useContext(y);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,F2(i,...e)]}function F2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Ss=g.forwardRef((t,e)=>{const{children:n,...r}=t,i=g.Children.toArray(n),s=i.find(U2);if(s){const o=s.props.children,a=i.map(l=>l===s?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:l);return m.jsx(Im,{...r,ref:e,children:g.isValidElement(o)?g.cloneElement(o,void 0,a):null})}return m.jsx(Im,{...r,ref:e,children:n})});Ss.displayName="Slot";var Im=g.forwardRef((t,e)=>{const{children:n,...r}=t;if(g.isValidElement(n)){const i=B2(n);return g.cloneElement(n,{...$2(r,n.props),ref:e?Th(e,i):i})}return g.Children.count(n)>1?g.Children.only(null):null});Im.displayName="SlotClone";var nI=({children:t})=>m.jsx(m.Fragment,{children:t});function U2(t){return g.isValidElement(t)&&t.type===nI}function $2(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function B2(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function hv(t){const e=t+"CollectionProvider",[n,r]=j2(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:T,children:w}=y,x=K.useRef(null),E=K.useRef(new Map).current;return m.jsx(i,{scope:T,itemMap:E,collectionRef:x,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=K.forwardRef((y,T)=>{const{scope:w,children:x}=y,E=s(a,w),_=Ke(T,E.collectionRef);return m.jsx(Ss,{ref:_,children:x})});l.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",f=K.forwardRef((y,T)=>{const{scope:w,children:x,...E}=y,_=K.useRef(null),I=Ke(T,_),k=s(u,w);return K.useEffect(()=>(k.itemMap.set(_,{ref:_,...E}),()=>void k.itemMap.delete(_))),m.jsx(Ss,{[d]:"",ref:I,children:x})});f.displayName=u;function h(y){const T=s(t+"CollectionConsumer",y);return K.useCallback(()=>{const x=T.collectionRef.current;if(!x)return[];const E=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(T.itemMap.values()).sort((k,O)=>E.indexOf(k.ref.current)-E.indexOf(O.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},h,r]}function z2(t,e){const n=g.createContext(e),r=s=>{const{children:o,...a}=s,l=g.useMemo(()=>a,Object.values(a));return m.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=g.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Fs(t,e=[]){let n=[];function r(s,o){const a=g.createContext(o),l=n.length;n=[...n,o];const u=f=>{var E;const{scope:h,children:y,...T}=f,w=((E=h==null?void 0:h[t])==null?void 0:E[l])||a,x=g.useMemo(()=>T,Object.values(T));return m.jsx(w.Provider,{value:x,children:y})};u.displayName=s+"Provider";function d(f,h){var w;const y=((w=h==null?void 0:h[t])==null?void 0:w[l])||a,T=g.useContext(y);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,H2(i,...e)]}function H2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var W2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],we=W2.reduce((t,e)=>{const n=g.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Ss:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function fv(t,e){t&&pc.flushSync(()=>t.dispatchEvent(e))}function Dt(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function K2(t,e=globalThis==null?void 0:globalThis.document){const n=Dt(t);g.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var q2="DismissableLayer",Sm="dismissableLayer.update",G2="dismissableLayer.pointerDownOutside",Q2="dismissableLayer.focusOutside",Jw,rI=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mc=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,u=g.useContext(rI),[d,f]=g.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=g.useState({}),T=Ke(e,b=>f(b)),w=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),E=w.indexOf(x),_=d?w.indexOf(d):-1,I=u.layersWithOutsidePointerEventsDisabled.size>0,k=_>=E,O=X2(b=>{const S=b.target,A=[...u.branches].some(R=>R.contains(S));!k||A||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},h),L=J2(b=>{const S=b.target;[...u.branches].some(R=>R.contains(S))||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},h);return K2(b=>{_===u.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},h),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Jw=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Zw(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Jw)}},[d,h,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Zw())},[d,u]),g.useEffect(()=>{const b=()=>y({});return document.addEventListener(Sm,b),()=>document.removeEventListener(Sm,b)},[]),m.jsx(we.div,{...l,ref:T,style:{pointerEvents:I?k?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,L.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,O.onPointerDownCapture)})});mc.displayName=q2;var Y2="DismissableLayerBranch",iI=g.forwardRef((t,e)=>{const n=g.useContext(rI),r=g.useRef(null),i=Ke(e,r);return g.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),m.jsx(we.div,{...t,ref:i})});iI.displayName=Y2;function X2(t,e=globalThis==null?void 0:globalThis.document){const n=Dt(t),r=g.useRef(!1),i=g.useRef(()=>{});return g.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){sI(G2,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function J2(t,e=globalThis==null?void 0:globalThis.document){const n=Dt(t),r=g.useRef(!1);return g.useEffect(()=>{const i=s=>{s.target&&!r.current&&sI(Q2,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Zw(){const t=new CustomEvent(Sm);document.dispatchEvent(t)}function sI(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?fv(i,s):i.dispatchEvent(s)}var Z2=mc,eD=iI,ur=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},tD="Portal",xh=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=g.useState(!1);ur(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?eI.createPortal(m.jsx(we.div,{...r,ref:e}),o):null});xh.displayName=tD;function nD(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var mr=t=>{const{present:e,children:n}=t,r=rD(e),i=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),s=Ke(r.ref,iD(i));return typeof n=="function"||r.isPresent?g.cloneElement(i,{ref:s}):null};mr.displayName="Presence";function rD(t){const[e,n]=g.useState(),r=g.useRef({}),i=g.useRef(t),s=g.useRef("none"),o=t?"mounted":"unmounted",[a,l]=nD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=fu(r.current);s.current=a==="mounted"?u:"none"},[a]),ur(()=>{const u=r.current,d=i.current;if(d!==t){const h=s.current,y=fu(u);t?l("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),ur(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=y=>{const w=fu(r.current).includes(y.animationName);if(y.target===e&&w&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},h=y=>{y.target===e&&(s.current=fu(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function fu(t){return(t==null?void 0:t.animationName)||"none"}function iD(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function gc({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=sD({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Dt(n),l=g.useCallback(u=>{if(s){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else i(u)},[s,t,i,a]);return[o,l]}function sD({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,i=g.useRef(r),s=Dt(e);return g.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var oD="VisuallyHidden",Ih=g.forwardRef((t,e)=>m.jsx(we.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Ih.displayName=oD;var aD=Ih,pv="ToastProvider",[mv,lD,cD]=hv("Toast"),[oI,I7]=Fs("Toast",[cD]),[uD,Sh]=oI(pv),aI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=g.useState(null),[u,d]=g.useState(0),f=g.useRef(!1),h=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${pv}\`. Expected non-empty \`string\`.`),m.jsx(mv.Provider,{scope:e,children:m.jsx(uD,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:g.useCallback(()=>d(y=>y+1),[]),onToastRemove:g.useCallback(()=>d(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};aI.displayName=pv;var lI="ToastViewport",dD=["F8"],Cm="toast.viewportPause",bm="toast.viewportResume",cI=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=dD,label:i="Notifications ({hotkey})",...s}=t,o=Sh(lI,n),a=lD(n),l=g.useRef(null),u=g.useRef(null),d=g.useRef(null),f=g.useRef(null),h=Ke(e,f,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;g.useEffect(()=>{const x=E=>{var I;r.length!==0&&r.every(k=>E[k]||E.code===k)&&((I=f.current)==null||I.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),g.useEffect(()=>{const x=l.current,E=f.current;if(T&&x&&E){const _=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(Cm);E.dispatchEvent(L),o.isClosePausedRef.current=!0}},I=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(bm);E.dispatchEvent(L),o.isClosePausedRef.current=!1}},k=L=>{!x.contains(L.relatedTarget)&&I()},O=()=>{x.contains(document.activeElement)||I()};return x.addEventListener("focusin",_),x.addEventListener("focusout",k),x.addEventListener("pointermove",_),x.addEventListener("pointerleave",O),window.addEventListener("blur",_),window.addEventListener("focus",I),()=>{x.removeEventListener("focusin",_),x.removeEventListener("focusout",k),x.removeEventListener("pointermove",_),x.removeEventListener("pointerleave",O),window.removeEventListener("blur",_),window.removeEventListener("focus",I)}}},[T,o.isClosePausedRef]);const w=g.useCallback(({tabbingDirection:x})=>{const _=a().map(I=>{const k=I.ref.current,O=[k,...ID(k)];return x==="forwards"?O:O.reverse()});return(x==="forwards"?_.reverse():_).flat()},[a]);return g.useEffect(()=>{const x=f.current;if(x){const E=_=>{var O,L,b;const I=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!I){const S=document.activeElement,A=_.shiftKey;if(_.target===x&&A){(O=u.current)==null||O.focus();return}const D=w({tabbingDirection:A?"backwards":"forwards"}),P=D.findIndex(H=>H===S);ep(D.slice(P+1))?_.preventDefault():A?(L=u.current)==null||L.focus():(b=d.current)==null||b.focus()}};return x.addEventListener("keydown",E),()=>x.removeEventListener("keydown",E)}},[a,w]),m.jsxs(eD,{ref:l,role:"region","aria-label":i.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&m.jsx(Am,{ref:u,onFocusFromOutsideViewport:()=>{const x=w({tabbingDirection:"forwards"});ep(x)}}),m.jsx(mv.Slot,{scope:n,children:m.jsx(we.ol,{tabIndex:-1,...s,ref:h})}),T&&m.jsx(Am,{ref:d,onFocusFromOutsideViewport:()=>{const x=w({tabbingDirection:"backwards"});ep(x)}})]})});cI.displayName=lI;var uI="ToastFocusProxy",Am=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Sh(uI,n);return m.jsx(Ih,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(a))&&r()}})});Am.displayName=uI;var Ch="Toast",hD="toast.swipeStart",fD="toast.swipeMove",pD="toast.swipeCancel",mD="toast.swipeEnd",dI=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=gc({prop:r,defaultProp:i,onChange:s});return m.jsx(mr,{present:n||a,children:m.jsx(yD,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Dt(t.onPause),onResume:Dt(t.onResume),onSwipeStart:ee(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ee(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});dI.displayName=Ch;var[gD,vD]=oI(Ch,{onClose(){}}),yD=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:y,...T}=t,w=Sh(Ch,n),[x,E]=g.useState(null),_=Ke(e,H=>E(H)),I=g.useRef(null),k=g.useRef(null),O=i||w.duration,L=g.useRef(0),b=g.useRef(O),S=g.useRef(0),{onToastAdd:A,onToastRemove:R}=w,N=Dt(()=>{var se;(x==null?void 0:x.contains(document.activeElement))&&((se=w.viewport)==null||se.focus()),o()}),D=g.useCallback(H=>{!H||H===1/0||(window.clearTimeout(S.current),L.current=new Date().getTime(),S.current=window.setTimeout(N,H))},[N]);g.useEffect(()=>{const H=w.viewport;if(H){const se=()=>{D(b.current),u==null||u()},J=()=>{const oe=new Date().getTime()-L.current;b.current=b.current-oe,window.clearTimeout(S.current),l==null||l()};return H.addEventListener(Cm,J),H.addEventListener(bm,se),()=>{H.removeEventListener(Cm,J),H.removeEventListener(bm,se)}}},[w.viewport,O,l,u,D]),g.useEffect(()=>{s&&!w.isClosePausedRef.current&&D(O)},[s,O,w.isClosePausedRef,D]),g.useEffect(()=>(A(),()=>R()),[A,R]);const P=g.useMemo(()=>x?yI(x):null,[x]);return w.viewport?m.jsxs(m.Fragment,{children:[P&&m.jsx(wD,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),m.jsx(gD,{scope:n,onClose:N,children:pc.createPortal(m.jsx(mv.ItemSlot,{scope:n,children:m.jsx(Z2,{asChild:!0,onEscapeKeyDown:ee(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||N(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(we.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":w.swipeDirection,...T,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ee(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:ee(t.onPointerDown,H=>{H.button===0&&(I.current={x:H.clientX,y:H.clientY})}),onPointerMove:ee(t.onPointerMove,H=>{if(!I.current)return;const se=H.clientX-I.current.x,J=H.clientY-I.current.y,oe=!!k.current,V=["left","right"].includes(w.swipeDirection),F=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,G=V?F(0,se):0,q=V?0:F(0,J),Q=H.pointerType==="touch"?10:2,Z={x:G,y:q},Ie={originalEvent:H,delta:Z};oe?(k.current=Z,pu(fD,f,Ie,{discrete:!1})):e_(Z,w.swipeDirection,Q)?(k.current=Z,pu(hD,d,Ie,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(se)>Q||Math.abs(J)>Q)&&(I.current=null)}),onPointerUp:ee(t.onPointerUp,H=>{const se=k.current,J=H.target;if(J.hasPointerCapture(H.pointerId)&&J.releasePointerCapture(H.pointerId),k.current=null,I.current=null,se){const oe=H.currentTarget,V={originalEvent:H,delta:se};e_(se,w.swipeDirection,w.swipeThreshold)?pu(mD,y,V,{discrete:!0}):pu(pD,h,V,{discrete:!0}),oe.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),wD=t=>{const{__scopeToast:e,children:n,...r}=t,i=Sh(Ch,e),[s,o]=g.useState(!1),[a,l]=g.useState(!1);return TD(()=>o(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:m.jsx(xh,{asChild:!0,children:m.jsx(Ih,{...r,children:s&&m.jsxs(m.Fragment,{children:[i.label," ",n]})})})},_D="ToastTitle",hI=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(we.div,{...r,ref:e})});hI.displayName=_D;var ED="ToastDescription",fI=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(we.div,{...r,ref:e})});fI.displayName=ED;var pI="ToastAction",mI=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?m.jsx(vI,{altText:n,asChild:!0,children:m.jsx(gv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${pI}\`. Expected non-empty \`string\`.`),null)});mI.displayName=pI;var gI="ToastClose",gv=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=vD(gI,n);return m.jsx(vI,{asChild:!0,children:m.jsx(we.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,i.onClose)})})});gv.displayName=gI;var vI=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return m.jsx(we.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function yI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),xD(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...yI(r))}}),e}function pu(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?fv(i,s):i.dispatchEvent(s)}var e_=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function TD(t=()=>{}){const e=Dt(t);ur(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function xD(t){return t.nodeType===t.ELEMENT_NODE}function ID(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ep(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var SD=aI,wI=cI,_I=dI,EI=hI,TI=fI,xI=mI,II=gv;function SI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=SI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function CI(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=SI(t))&&(r&&(r+=" "),r+=e);return r}const t_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,n_=CI,bh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return n_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const h=t_(d)||t_(f);return i[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...y}=d;return Object.entries(y).every(T=>{let[w,x]=T;return Array.isArray(x)?x.includes({...s,...a}[w]):{...s,...a}[w]===x})?[...u,f,h]:u},[]);return n_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>g.createElement("svg",{ref:l,...bD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:bI("lucide",i),...a},[...o.map(([u,d])=>g.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(t,e)=>{const n=g.forwardRef(({className:r,...i},s)=>g.createElement(AD,{ref:s,iconNode:e,className:bI(`lucide-${CD(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=qe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=qe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=qe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=qe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=qe("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=qe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=qe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=qe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=qe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=qe("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=qe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=qe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),yv="-",zD=t=>{const e=WD(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(yv);return a[0]===""&&a.length!==1&&a.shift(),DI(a,e)||HD(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},DI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?DI(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(yv);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},r_=/^\[(.+)\]$/,HD=t=>{if(r_.test(t)){const e=r_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},WD=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return qD(Object.entries(t.classGroups),n).forEach(([s,o])=>{Pm(o,r,s,e)}),r},Pm=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:i_(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(KD(i)){Pm(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Pm(o,i_(e,s),n,r)})})},i_=(t,e)=>{let n=t;return e.split(yv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},KD=t=>t.isThemeGetter,qD=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,GD=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},OI="!",QD=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let u=0,d=0,f;for(let x=0;x<a.length;x++){let E=a[x];if(u===0){if(E===i&&(r||a.slice(x,x+s)===e)){l.push(a.slice(d,x)),d=x+s;continue}if(E==="/"){f=x;continue}}E==="["?u++:E==="]"&&u--}const h=l.length===0?a:a.substring(d),y=h.startsWith(OI),T=y?h.substring(1):h,w=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:T,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:o}):o},YD=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},XD=t=>({cache:GD(t.cacheSize),parseClassName:QD(t),...zD(t)}),JD=/\s+/,ZD=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(JD);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:y}=n(u);let T=!!y,w=r(T?h.substring(0,y):h);if(!w){if(!T){a=u+(a.length>0?" "+a:a);continue}if(w=r(h),!w){a=u+(a.length>0?" "+a:a);continue}T=!1}const x=YD(d).join(":"),E=f?x+OI:x,_=E+w;if(s.includes(_))continue;s.push(_);const I=i(w,T);for(let k=0;k<I.length;++k){const O=I[k];s.push(E+O)}a=u+(a.length>0?" "+a:a)}return a};function eO(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=MI(e))&&(r&&(r+=" "),r+=n);return r}const MI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=MI(t[r]))&&(n&&(n+=" "),n+=e);return n};function tO(t,...e){let n,r,i,s=o;function o(l){const u=e.reduce((d,f)=>f(d),t());return n=XD(u),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=ZD(l,n);return i(l,d),d}return function(){return s(eO.apply(null,arguments))}}const ke=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},LI=/^\[(?:([a-z-]+):)?(.+)\]$/i,nO=/^\d+\/\d+$/,rO=new Set(["px","full","screen"]),iO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,aO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ir=t=>Ro(t)||rO.has(t)||nO.test(t),ni=t=>da(t,"length",gO),Ro=t=>!!t&&!Number.isNaN(Number(t)),tp=t=>da(t,"number",Ro),qa=t=>!!t&&Number.isInteger(Number(t)),cO=t=>t.endsWith("%")&&Ro(t.slice(0,-1)),ue=t=>LI.test(t),ri=t=>iO.test(t),uO=new Set(["length","size","percentage"]),dO=t=>da(t,uO,VI),hO=t=>da(t,"position",VI),fO=new Set(["image","url"]),pO=t=>da(t,fO,yO),mO=t=>da(t,"",vO),Ga=()=>!0,da=(t,e,n)=>{const r=LI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},gO=t=>sO.test(t)&&!oO.test(t),VI=()=>!1,vO=t=>aO.test(t),yO=t=>lO.test(t),wO=()=>{const t=ke("colors"),e=ke("spacing"),n=ke("blur"),r=ke("brightness"),i=ke("borderColor"),s=ke("borderRadius"),o=ke("borderSpacing"),a=ke("borderWidth"),l=ke("contrast"),u=ke("grayscale"),d=ke("hueRotate"),f=ke("invert"),h=ke("gap"),y=ke("gradientColorStops"),T=ke("gradientColorStopPositions"),w=ke("inset"),x=ke("margin"),E=ke("opacity"),_=ke("padding"),I=ke("saturate"),k=ke("scale"),O=ke("sepia"),L=ke("skew"),b=ke("space"),S=ke("translate"),A=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",ue,e],D=()=>[ue,e],P=()=>["",Ir,ni],H=()=>["auto",Ro,ue],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",ue],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[Ro,ue];return{cacheSize:500,separator:":",theme:{colors:[Ga],spacing:[Ir,ni],blur:["none","",ri,ue],brightness:q(),borderColor:[t],borderRadius:["none","","full",ri,ue],borderSpacing:D(),borderWidth:P(),contrast:q(),grayscale:F(),hueRotate:q(),invert:F(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[cO,ni],inset:N(),margin:N(),opacity:q(),padding:D(),saturate:q(),scale:q(),sepia:F(),skew:q(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[ri]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),ue]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",qa,ue]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",qa,ue]}],"grid-cols":[{"grid-cols":[Ga]}],"col-start-end":[{col:["auto",{span:["full",qa,ue]},ue]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Ga]}],"row-start-end":[{row:["auto",{span:[qa,ue]},ue]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,e]}],"min-w":[{"min-w":[ue,e,"min","max","fit"]}],"max-w":[{"max-w":[ue,e,"none","full","min","max","fit","prose",{screen:[ri]},ri]}],h:[{h:[ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ri,ni]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",tp]}],"font-family":[{font:[Ga]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",Ro,tp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ir,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ir,ni]}],"underline-offset":[{"underline-offset":["auto",Ir,ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),hO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",dO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},pO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:J()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[Ir,ue]}],"outline-w":[{outline:[Ir,ni]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Ir,ni]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ri,mO]}],"shadow-color":[{shadow:[Ga]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ri,ue]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[I]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[qa,ue]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ir,ni,tp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_O=tO(wO);function fe(...t){return _O(CI(t))}const EO=SD,jI=g.forwardRef(({className:t,...e},n)=>m.jsx(wI,{ref:n,className:fe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));jI.displayName=wI.displayName;const TO=bh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),FI=g.forwardRef(({className:t,variant:e,...n},r)=>m.jsx(_I,{ref:r,className:fe(TO({variant:e}),t),...n}));FI.displayName=_I.displayName;const xO=g.forwardRef(({className:t,...e},n)=>m.jsx(xI,{ref:n,className:fe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));xO.displayName=xI.displayName;const UI=g.forwardRef(({className:t,...e},n)=>m.jsx(II,{ref:n,className:fe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:m.jsx(NI,{className:"h-4 w-4"})}));UI.displayName=II.displayName;const $I=g.forwardRef(({className:t,...e},n)=>m.jsx(EI,{ref:n,className:fe("text-sm font-semibold",t),...e}));$I.displayName=EI.displayName;const BI=g.forwardRef(({className:t,...e},n)=>m.jsx(TI,{ref:n,className:fe("text-sm opacity-90",t),...e}));BI.displayName=TI.displayName;function km(){const{toasts:t}=L2();return m.jsxs(EO,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return m.jsxs(FI,{...s,children:[m.jsxs("div",{className:"grid gap-1",children:[n&&m.jsx($I,{children:n}),r&&m.jsx(BI,{children:r})]}),i,m.jsx(UI,{})]},e)}),m.jsx(jI,{})]})}var s_=["light","dark"],IO="(prefers-color-scheme: dark)",SO=g.createContext(void 0),CO={setTheme:t=>{},themes:[]},bO=()=>{var t;return(t=g.useContext(SO))!=null?t:CO};g.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let u=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?s_.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(T,w=!1,x=!0)=>{let E=o?o[T]:T,_=w?T+"|| ''":`'${E}'`,I="";return i&&x&&!w&&s_.includes(T)&&(I+=`d.style.colorScheme = '${T}';`),n==="class"?w||E?I+=`c.add(${_})`:I+="null":E&&(I+=`d[s](n,${_})`),I},y=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${IO}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return g.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:y}})});var AO=t=>{switch(t){case"success":return kO;case"info":return DO;case"warning":return NO;case"error":return OO;default:return null}},RO=Array(12).fill(0),PO=({visible:t})=>K.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},K.createElement("div",{className:"sonner-spinner"},RO.map((e,n)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),kO=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),NO=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),DO=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),OO=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),MO=()=>{let[t,e]=K.useState(document.hidden);return K.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Nm=1,LO=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Nm++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0;return i.then(async o=>{if(jO(o)&&!o.ok){s=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:l})}else if(n.success!==void 0){s=!1;let a=typeof n.success=="function"?await n.success(o):n.success,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:l})}}).catch(async o=>{if(n.error!==void 0){s=!1;let a=typeof n.error=="function"?await n.error(o):n.error,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:l})}}).finally(()=>{var o;s&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Nm++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},rn=new LO,VO=(t,e)=>{let n=(e==null?void 0:e.id)||Nm++;return rn.addToast({title:t,...e,id:n}),n},jO=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",FO=VO,UO=()=>rn.toasts,to=Object.assign(FO,{success:rn.success,info:rn.info,warning:rn.warning,error:rn.error,custom:rn.custom,message:rn.message,promise:rn.promise,dismiss:rn.dismiss,loading:rn.loading},{getHistory:UO});function $O(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}$O(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function mu(t){return t.label!==void 0}var BO=3,zO="32px",HO=4e3,WO=356,KO=14,qO=20,GO=200;function QO(...t){return t.filter(Boolean).join(" ")}var YO=t=>{var e,n,r,i,s,o,a,l,u,d;let{invert:f,toast:h,unstyled:y,interacting:T,setHeights:w,visibleToasts:x,heights:E,index:_,toasts:I,expanded:k,removeToast:O,defaultRichColors:L,closeButton:b,style:S,cancelButtonStyle:A,actionButtonStyle:R,className:N="",descriptionClassName:D="",duration:P,position:H,gap:se,loadingIcon:J,expandByDefault:oe,classNames:V,icons:F,closeButtonAriaLabel:G="Close toast",pauseWhenPageIsHidden:q,cn:Q}=t,[Z,Ie]=K.useState(!1),[Ue,pe]=K.useState(!1),[Me,en]=K.useState(!1),[Xe,wt]=K.useState(!1),[yr,Kn]=K.useState(0),[Sn,wr]=K.useState(0),Gr=K.useRef(null),Cn=K.useRef(null),Ta=_===0,xa=_+1<=x,Je=h.type,qn=h.dismissible!==!1,Nc=h.className||"",uf=h.descriptionClassName||"",Qr=K.useMemo(()=>E.findIndex(ae=>ae.toastId===h.id)||0,[E,h.id]),Ia=K.useMemo(()=>{var ae;return(ae=h.closeButton)!=null?ae:b},[h.closeButton,b]),Sa=K.useMemo(()=>h.duration||P||HO,[h.duration,P]),Ze=K.useRef(0),$e=K.useRef(0),Zi=K.useRef(0),_r=K.useRef(null),[Ca,df]=H.split("-"),Yr=K.useMemo(()=>E.reduce((ae,be,Se)=>Se>=Qr?ae:ae+be.height,0),[E,Qr]),ba=MO(),Dc=h.invert||f,es=Je==="loading";$e.current=K.useMemo(()=>Qr*se+Yr,[Qr,Yr]),K.useEffect(()=>{Ie(!0)},[]),K.useLayoutEffect(()=>{if(!Z)return;let ae=Cn.current,be=ae.style.height;ae.style.height="auto";let Se=ae.getBoundingClientRect().height;ae.style.height=be,wr(Se),w(_t=>_t.find(zt=>zt.toastId===h.id)?_t.map(zt=>zt.toastId===h.id?{...zt,height:Se}:zt):[{toastId:h.id,height:Se,position:h.position},..._t])},[Z,h.title,h.description,w,h.id]);let Gn=K.useCallback(()=>{pe(!0),Kn($e.current),w(ae=>ae.filter(be=>be.toastId!==h.id)),setTimeout(()=>{O(h)},GO)},[h,O,w,$e]);K.useEffect(()=>{if(h.promise&&Je==="loading"||h.duration===1/0||h.type==="loading")return;let ae,be=Sa;return k||T||q&&ba?(()=>{if(Zi.current<Ze.current){let Se=new Date().getTime()-Ze.current;be=be-Se}Zi.current=new Date().getTime()})():be!==1/0&&(Ze.current=new Date().getTime(),ae=setTimeout(()=>{var Se;(Se=h.onAutoClose)==null||Se.call(h,h),Gn()},be)),()=>clearTimeout(ae)},[k,T,oe,h,Sa,Gn,h.promise,Je,q,ba]),K.useEffect(()=>{let ae=Cn.current;if(ae){let be=ae.getBoundingClientRect().height;return wr(be),w(Se=>[{toastId:h.id,height:be,position:h.position},...Se]),()=>w(Se=>Se.filter(_t=>_t.toastId!==h.id))}},[w,h.id]),K.useEffect(()=>{h.delete&&Gn()},[Gn,h.delete]);function hf(){return F!=null&&F.loading?K.createElement("div",{className:"sonner-loader","data-visible":Je==="loading"},F.loading):J?K.createElement("div",{className:"sonner-loader","data-visible":Je==="loading"},J):K.createElement(PO,{visible:Je==="loading"})}return K.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Cn,className:Q(N,Nc,V==null?void 0:V.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,V==null?void 0:V.default,V==null?void 0:V[Je],(n=h==null?void 0:h.classNames)==null?void 0:n[Je]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:L,"data-styled":!(h.jsx||h.unstyled||y),"data-mounted":Z,"data-promise":!!h.promise,"data-removed":Ue,"data-visible":xa,"data-y-position":Ca,"data-x-position":df,"data-index":_,"data-front":Ta,"data-swiping":Me,"data-dismissible":qn,"data-type":Je,"data-invert":Dc,"data-swipe-out":Xe,"data-expanded":!!(k||oe&&Z),style:{"--index":_,"--toasts-before":_,"--z-index":I.length-_,"--offset":`${Ue?yr:$e.current}px`,"--initial-height":oe?"auto":`${Sn}px`,...S,...h.style},onPointerDown:ae=>{es||!qn||(Gr.current=new Date,Kn($e.current),ae.target.setPointerCapture(ae.pointerId),ae.target.tagName!=="BUTTON"&&(en(!0),_r.current={x:ae.clientX,y:ae.clientY}))},onPointerUp:()=>{var ae,be,Se,_t;if(Xe||!qn)return;_r.current=null;let zt=Number(((ae=Cn.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Xr=new Date().getTime()-((be=Gr.current)==null?void 0:be.getTime()),Er=Math.abs(zt)/Xr;if(Math.abs(zt)>=qO||Er>.11){Kn($e.current),(Se=h.onDismiss)==null||Se.call(h,h),Gn(),wt(!0);return}(_t=Cn.current)==null||_t.style.setProperty("--swipe-amount","0px"),en(!1)},onPointerMove:ae=>{var be;if(!_r.current||!qn)return;let Se=ae.clientY-_r.current.y,_t=ae.clientX-_r.current.x,zt=(Ca==="top"?Math.min:Math.max)(0,Se),Xr=ae.pointerType==="touch"?10:2;Math.abs(zt)>Xr?(be=Cn.current)==null||be.style.setProperty("--swipe-amount",`${Se}px`):Math.abs(_t)>Xr&&(_r.current=null)}},Ia&&!h.jsx?K.createElement("button",{"aria-label":G,"data-disabled":es,"data-close-button":!0,onClick:es||!qn?()=>{}:()=>{var ae;Gn(),(ae=h.onDismiss)==null||ae.call(h,h)},className:Q(V==null?void 0:V.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||K.isValidElement(h.title)?h.jsx||h.title:K.createElement(K.Fragment,null,Je||h.icon||h.promise?K.createElement("div",{"data-icon":"",className:Q(V==null?void 0:V.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||hf():null,h.type!=="loading"?h.icon||(F==null?void 0:F[Je])||AO(Je):null):null,K.createElement("div",{"data-content":"",className:Q(V==null?void 0:V.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},K.createElement("div",{"data-title":"",className:Q(V==null?void 0:V.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?K.createElement("div",{"data-description":"",className:Q(D,uf,V==null?void 0:V.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),K.isValidElement(h.cancel)?h.cancel:h.cancel&&mu(h.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||A,onClick:ae=>{var be,Se;mu(h.cancel)&&qn&&((Se=(be=h.cancel).onClick)==null||Se.call(be,ae),Gn())},className:Q(V==null?void 0:V.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,K.isValidElement(h.action)?h.action:h.action&&mu(h.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||R,onClick:ae=>{var be,Se;mu(h.action)&&(ae.defaultPrevented||((Se=(be=h.action).onClick)==null||Se.call(be,ae),Gn()))},className:Q(V==null?void 0:V.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function o_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var XO=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:l="light",richColors:u,duration:d,style:f,visibleToasts:h=BO,toastOptions:y,dir:T=o_(),gap:w=KO,loadingIcon:x,icons:E,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:I,cn:k=QO}=t,[O,L]=K.useState([]),b=K.useMemo(()=>Array.from(new Set([n].concat(O.filter(q=>q.position).map(q=>q.position)))),[O,n]),[S,A]=K.useState([]),[R,N]=K.useState(!1),[D,P]=K.useState(!1),[H,se]=K.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=K.useRef(null),oe=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=K.useRef(null),F=K.useRef(!1),G=K.useCallback(q=>{var Q;(Q=O.find(Z=>Z.id===q.id))!=null&&Q.delete||rn.dismiss(q.id),L(Z=>Z.filter(({id:Ie})=>Ie!==q.id))},[O]);return K.useEffect(()=>rn.subscribe(q=>{if(q.dismiss){L(Q=>Q.map(Z=>Z.id===q.id?{...Z,delete:!0}:Z));return}setTimeout(()=>{eI.flushSync(()=>{L(Q=>{let Z=Q.findIndex(Ie=>Ie.id===q.id);return Z!==-1?[...Q.slice(0,Z),{...Q[Z],...q},...Q.slice(Z+1)]:[q,...Q]})})})}),[]),K.useEffect(()=>{if(l!=="system"){se(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?se("dark"):se("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:q})=>{se(q?"dark":"light")})},[l]),K.useEffect(()=>{O.length<=1&&N(!1)},[O]),K.useEffect(()=>{let q=Q=>{var Z,Ie;r.every(Ue=>Q[Ue]||Q.code===Ue)&&(N(!0),(Z=J.current)==null||Z.focus()),Q.code==="Escape"&&(document.activeElement===J.current||(Ie=J.current)!=null&&Ie.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[r]),K.useEffect(()=>{if(J.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,F.current=!1)}},[J.current]),O.length?K.createElement("section",{"aria-label":`${_} ${oe}`,tabIndex:-1},b.map((q,Q)=>{var Z;let[Ie,Ue]=q.split("-");return K.createElement("ol",{key:q,dir:T==="auto"?o_():T,tabIndex:-1,ref:J,className:o,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":Ie,"data-x-position":Ue,style:{"--front-toast-height":`${((Z=S[0])==null?void 0:Z.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||zO,"--width":`${WO}px`,"--gap":`${w}px`,...f},onBlur:pe=>{F.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(F.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||F.current||(F.current=!0,V.current=pe.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{D||N(!1)},onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},O.filter(pe=>!pe.position&&Q===0||pe.position===q).map((pe,Me)=>{var en,Xe;return K.createElement(YO,{key:pe.id,icons:E,index:Me,toast:pe,defaultRichColors:u,duration:(en=y==null?void 0:y.duration)!=null?en:d,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:e,visibleToasts:h,closeButton:(Xe=y==null?void 0:y.closeButton)!=null?Xe:s,interacting:D,position:q,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:G,toasts:O.filter(wt=>wt.position==pe.position),heights:S.filter(wt=>wt.position==pe.position),setHeights:A,expandByDefault:i,gap:w,loadingIcon:x,expanded:R,pauseWhenPageIsHidden:I,cn:k})}))})):null};const JO=({...t})=>{const{theme:e="system"}=bO();return m.jsx(XO,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var ZO=XT.useId||(()=>{}),eM=0;function Po(t){const[e,n]=g.useState(ZO());return ur(()=>{n(r=>r??String(eM++))},[t]),e?`radix-${e}`:""}const tM=["top","right","bottom","left"],Vi=Math.min,on=Math.max,bd=Math.round,gu=Math.floor,ji=t=>({x:t,y:t}),nM={left:"right",right:"left",bottom:"top",top:"bottom"},rM={start:"end",end:"start"};function Dm(t,e,n){return on(t,Vi(e,n))}function $r(t,e){return typeof t=="function"?t(e):t}function Br(t){return t.split("-")[0]}function ha(t){return t.split("-")[1]}function wv(t){return t==="x"?"y":"x"}function _v(t){return t==="y"?"height":"width"}function Fi(t){return["top","bottom"].includes(Br(t))?"y":"x"}function Ev(t){return wv(Fi(t))}function iM(t,e,n){n===void 0&&(n=!1);const r=ha(t),i=Ev(t),s=_v(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Ad(o)),[o,Ad(o)]}function sM(t){const e=Ad(t);return[Om(t),e,Om(e)]}function Om(t){return t.replace(/start|end/g,e=>rM[e])}function oM(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function aM(t,e,n,r){const i=ha(t);let s=oM(Br(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Om)))),s}function Ad(t){return t.replace(/left|right|bottom|top/g,e=>nM[e])}function lM(t){return{top:0,right:0,bottom:0,left:0,...t}}function zI(t){return typeof t!="number"?lM(t):{top:t,right:t,bottom:t,left:t}}function Rd(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function a_(t,e,n){let{reference:r,floating:i}=t;const s=Fi(e),o=Ev(e),a=_v(o),l=Br(e),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let y;switch(l){case"top":y={x:d,y:r.y-i.height};break;case"bottom":y={x:d,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-i.width,y:f};break;default:y={x:r.x,y:r.y}}switch(ha(e)){case"start":y[o]-=h*(n&&u?-1:1);break;case"end":y[o]+=h*(n&&u?-1:1);break}return y}const cM=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=a_(u,r,l),h=r,y={},T=0;for(let w=0;w<a.length;w++){const{name:x,fn:E}=a[w],{x:_,y:I,data:k,reset:O}=await E({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:y,rects:u,platform:o,elements:{reference:t,floating:e}});d=_??d,f=I??f,y={...y,[x]:{...y[x],...k}},O&&T<=50&&(T++,typeof O=="object"&&(O.placement&&(h=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:d,y:f}=a_(u,h,l)),w=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:y}};async function Ul(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:y=0}=$r(e,t),T=zI(y),x=a[h?f==="floating"?"reference":"floating":f],E=Rd(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),_=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,I=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),k=await(s.isElement==null?void 0:s.isElement(I))?await(s.getScale==null?void 0:s.getScale(I))||{x:1,y:1}:{x:1,y:1},O=Rd(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:I,strategy:l}):_);return{top:(E.top-O.top+T.top)/k.y,bottom:(O.bottom-E.bottom+T.bottom)/k.y,left:(E.left-O.left+T.left)/k.x,right:(O.right-E.right+T.right)/k.x}}const uM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=$r(t,e)||{};if(u==null)return{};const f=zI(d),h={x:n,y:r},y=Ev(i),T=_v(y),w=await o.getDimensions(u),x=y==="y",E=x?"top":"left",_=x?"bottom":"right",I=x?"clientHeight":"clientWidth",k=s.reference[T]+s.reference[y]-h[y]-s.floating[T],O=h[y]-s.reference[y],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let b=L?L[I]:0;(!b||!await(o.isElement==null?void 0:o.isElement(L)))&&(b=a.floating[I]||s.floating[T]);const S=k/2-O/2,A=b/2-w[T]/2-1,R=Vi(f[E],A),N=Vi(f[_],A),D=R,P=b-w[T]-N,H=b/2-w[T]/2+S,se=Dm(D,H,P),J=!l.arrow&&ha(i)!=null&&H!==se&&s.reference[T]/2-(H<D?R:N)-w[T]/2<0,oe=J?H<D?H-D:H-P:0;return{[y]:h[y]+oe,data:{[y]:se,centerOffset:H-se-oe,...J&&{alignmentOffset:oe}},reset:J}}}),dM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:w=!0,...x}=$r(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const E=Br(i),_=Fi(a),I=Br(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(u.floating)),O=h||(I||!w?[Ad(a)]:sM(a)),L=T!=="none";!h&&L&&O.push(...aM(a,w,T,k));const b=[a,...O],S=await Ul(e,x),A=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&A.push(S[E]),f){const H=iM(i,o,k);A.push(S[H[0]],S[H[1]])}if(R=[...R,{placement:i,overflows:A}],!A.every(H=>H<=0)){var N,D;const H=(((N=s.flip)==null?void 0:N.index)||0)+1,se=b[H];if(se)return{data:{index:H,overflows:R},reset:{placement:se}};let J=(D=R.filter(oe=>oe.overflows[0]<=0).sort((oe,V)=>oe.overflows[1]-V.overflows[1])[0])==null?void 0:D.placement;if(!J)switch(y){case"bestFit":{var P;const oe=(P=R.filter(V=>{if(L){const F=Fi(V.placement);return F===_||F==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(F=>F>0).reduce((F,G)=>F+G,0)]).sort((V,F)=>V[1]-F[1])[0])==null?void 0:P[0];oe&&(J=oe);break}case"initialPlacement":J=a;break}if(i!==J)return{reset:{placement:J}}}return{}}}};function l_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function c_(t){return tM.some(e=>t[e]>=0)}const hM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=$r(t,e);switch(r){case"referenceHidden":{const s=await Ul(e,{...i,elementContext:"reference"}),o=l_(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:c_(o)}}}case"escaped":{const s=await Ul(e,{...i,altBoundary:!0}),o=l_(s,n.floating);return{data:{escapedOffsets:o,escaped:c_(o)}}}default:return{}}}}};async function fM(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Br(n),a=ha(n),l=Fi(n)==="y",u=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,f=$r(e,t);let{mainAxis:h,crossAxis:y,alignmentAxis:T}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof T=="number"&&(y=a==="end"?T*-1:T),l?{x:y*d,y:h*u}:{x:h*u,y:y*d}}const pM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await fM(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},mM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:E,y:_}=x;return{x:E,y:_}}},...l}=$r(t,e),u={x:n,y:r},d=await Ul(e,l),f=Fi(Br(i)),h=wv(f);let y=u[h],T=u[f];if(s){const x=h==="y"?"top":"left",E=h==="y"?"bottom":"right",_=y+d[x],I=y-d[E];y=Dm(_,y,I)}if(o){const x=f==="y"?"top":"left",E=f==="y"?"bottom":"right",_=T+d[x],I=T-d[E];T=Dm(_,T,I)}const w=a.fn({...e,[h]:y,[f]:T});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[h]:s,[f]:o}}}}}},gM=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=$r(t,e),d={x:n,y:r},f=Fi(i),h=wv(f);let y=d[h],T=d[f];const w=$r(a,e),x=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const I=h==="y"?"height":"width",k=s.reference[h]-s.floating[I]+x.mainAxis,O=s.reference[h]+s.reference[I]-x.mainAxis;y<k?y=k:y>O&&(y=O)}if(u){var E,_;const I=h==="y"?"width":"height",k=["top","left"].includes(Br(i)),O=s.reference[f]-s.floating[I]+(k&&((E=o.offset)==null?void 0:E[f])||0)+(k?0:x.crossAxis),L=s.reference[f]+s.reference[I]+(k?0:((_=o.offset)==null?void 0:_[f])||0)-(k?x.crossAxis:0);T<O?T=O:T>L&&(T=L)}return{[h]:y,[f]:T}}}},vM=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=$r(t,e),d=await Ul(e,u),f=Br(i),h=ha(i),y=Fi(i)==="y",{width:T,height:w}=s.floating;let x,E;f==="top"||f==="bottom"?(x=f,E=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=f,x=h==="end"?"top":"bottom");const _=w-d.top-d.bottom,I=T-d.left-d.right,k=Vi(w-d[x],_),O=Vi(T-d[E],I),L=!e.middlewareData.shift;let b=k,S=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=I),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=_),L&&!h){const R=on(d.left,0),N=on(d.right,0),D=on(d.top,0),P=on(d.bottom,0);y?S=T-2*(R!==0||N!==0?R+N:on(d.left,d.right)):b=w-2*(D!==0||P!==0?D+P:on(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:b});const A=await o.getDimensions(a.floating);return T!==A.width||w!==A.height?{reset:{rects:!0}}:{}}}};function Rh(){return typeof window<"u"}function fa(t){return HI(t)?(t.nodeName||"").toLowerCase():"#document"}function un(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function gr(t){var e;return(e=(HI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function HI(t){return Rh()?t instanceof Node||t instanceof un(t).Node:!1}function Un(t){return Rh()?t instanceof Element||t instanceof un(t).Element:!1}function dr(t){return Rh()?t instanceof HTMLElement||t instanceof un(t).HTMLElement:!1}function u_(t){return!Rh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof un(t).ShadowRoot}function vc(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=$n(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function yM(t){return["table","td","th"].includes(fa(t))}function Ph(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Tv(t){const e=xv(),n=Un(t)?$n(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function wM(t){let e=Ui(t);for(;dr(e)&&!Zo(e);){if(Tv(e))return e;if(Ph(e))return null;e=Ui(e)}return null}function xv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zo(t){return["html","body","#document"].includes(fa(t))}function $n(t){return un(t).getComputedStyle(t)}function kh(t){return Un(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ui(t){if(fa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||u_(t)&&t.host||gr(t);return u_(e)?e.host:e}function WI(t){const e=Ui(t);return Zo(e)?t.ownerDocument?t.ownerDocument.body:t.body:dr(e)&&vc(e)?e:WI(e)}function $l(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=WI(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=un(i);if(s){const a=Mm(o);return e.concat(o,o.visualViewport||[],vc(i)?i:[],a&&n?$l(a):[])}return e.concat(i,$l(i,[],n))}function Mm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function KI(t){const e=$n(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=dr(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=bd(n)!==s||bd(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Iv(t){return Un(t)?t:t.contextElement}function ko(t){const e=Iv(t);if(!dr(e))return ji(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=KI(e);let o=(s?bd(n.width):n.width)/r,a=(s?bd(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const _M=ji(0);function qI(t){const e=un(t);return!xv()||!e.visualViewport?_M:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function EM(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==un(t)?!1:e}function Cs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Iv(t);let o=ji(1);e&&(r?Un(r)&&(o=ko(r)):o=ko(t));const a=EM(s,n,r)?qI(s):ji(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const h=un(s),y=r&&Un(r)?un(r):r;let T=h,w=Mm(T);for(;w&&r&&y!==T;){const x=ko(w),E=w.getBoundingClientRect(),_=$n(w),I=E.left+(w.clientLeft+parseFloat(_.paddingLeft))*x.x,k=E.top+(w.clientTop+parseFloat(_.paddingTop))*x.y;l*=x.x,u*=x.y,d*=x.x,f*=x.y,l+=I,u+=k,T=un(w),w=Mm(T)}}return Rd({width:d,height:f,x:l,y:u})}function TM(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=gr(r),a=e?Ph(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=ji(1);const d=ji(0),f=dr(r);if((f||!f&&!s)&&((fa(r)!=="body"||vc(o))&&(l=kh(r)),dr(r))){const h=Cs(r);u=ko(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function xM(t){return Array.from(t.getClientRects())}function Lm(t,e){const n=kh(t).scrollLeft;return e?e.left+n:Cs(gr(t)).left+n}function IM(t){const e=gr(t),n=kh(t),r=t.ownerDocument.body,i=on(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=on(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Lm(t);const a=-n.scrollTop;return $n(r).direction==="rtl"&&(o+=on(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function SM(t,e){const n=un(t),r=gr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=xv();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function CM(t,e){const n=Cs(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=dr(t)?ko(t):ji(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function d_(t,e,n){let r;if(e==="viewport")r=SM(t,n);else if(e==="document")r=IM(gr(t));else if(Un(e))r=CM(e,n);else{const i=qI(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Rd(r)}function GI(t,e){const n=Ui(t);return n===e||!Un(n)||Zo(n)?!1:$n(n).position==="fixed"||GI(n,e)}function bM(t,e){const n=e.get(t);if(n)return n;let r=$l(t,[],!1).filter(a=>Un(a)&&fa(a)!=="body"),i=null;const s=$n(t).position==="fixed";let o=s?Ui(t):t;for(;Un(o)&&!Zo(o);){const a=$n(o),l=Tv(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||vc(o)&&!l&&GI(t,o))?r=r.filter(d=>d!==o):i=a,o=Ui(o)}return e.set(t,r),r}function AM(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Ph(e)?[]:bM(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const f=d_(e,d,i);return u.top=on(f.top,u.top),u.right=Vi(f.right,u.right),u.bottom=Vi(f.bottom,u.bottom),u.left=on(f.left,u.left),u},d_(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function RM(t){const{width:e,height:n}=KI(t);return{width:e,height:n}}function PM(t,e,n){const r=dr(e),i=gr(e),s=n==="fixed",o=Cs(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=ji(0);if(r||!r&&!s)if((fa(e)!=="body"||vc(i))&&(a=kh(e)),r){const y=Cs(e,!0,s,e);l.x=y.x+e.clientLeft,l.y=y.y+e.clientTop}else i&&(l.x=Lm(i));let u=0,d=0;if(i&&!r&&!s){const y=i.getBoundingClientRect();d=y.top+a.scrollTop,u=y.left+a.scrollLeft-Lm(i,y)}const f=o.left+a.scrollLeft-l.x-u,h=o.top+a.scrollTop-l.y-d;return{x:f,y:h,width:o.width,height:o.height}}function np(t){return $n(t).position==="static"}function h_(t,e){if(!dr(t)||$n(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return gr(t)===n&&(n=n.ownerDocument.body),n}function QI(t,e){const n=un(t);if(Ph(t))return n;if(!dr(t)){let i=Ui(t);for(;i&&!Zo(i);){if(Un(i)&&!np(i))return i;i=Ui(i)}return n}let r=h_(t,e);for(;r&&yM(r)&&np(r);)r=h_(r,e);return r&&Zo(r)&&np(r)&&!Tv(r)?n:r||wM(t)||n}const kM=async function(t){const e=this.getOffsetParent||QI,n=this.getDimensions,r=await n(t.floating);return{reference:PM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function NM(t){return $n(t).direction==="rtl"}const DM={convertOffsetParentRelativeRectToViewportRelativeRect:TM,getDocumentElement:gr,getClippingRect:AM,getOffsetParent:QI,getElementRects:kM,getClientRects:xM,getDimensions:RM,getScale:ko,isElement:Un,isRTL:NM};function OM(t,e){let n=null,r;const i=gr(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:d,width:f,height:h}=t.getBoundingClientRect();if(a||e(),!f||!h)return;const y=gu(d),T=gu(i.clientWidth-(u+f)),w=gu(i.clientHeight-(d+h)),x=gu(u),_={rootMargin:-y+"px "+-T+"px "+-w+"px "+-x+"px",threshold:on(0,Vi(1,l))||1};let I=!0;function k(O){const L=O[0].intersectionRatio;if(L!==l){if(!I)return o();L?o(!1,L):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I=!1}try{n=new IntersectionObserver(k,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(k,_)}n.observe(t)}return o(!0),s}function MM(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Iv(t),d=i||s?[...u?$l(u):[],...$l(e)]:[];d.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),s&&E.addEventListener("resize",n)});const f=u&&a?OM(u,n):null;let h=-1,y=null;o&&(y=new ResizeObserver(E=>{let[_]=E;_&&_.target===u&&y&&(y.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var I;(I=y)==null||I.observe(e)})),n()}),u&&!l&&y.observe(u),y.observe(e));let T,w=l?Cs(t):null;l&&x();function x(){const E=Cs(t);w&&(E.x!==w.x||E.y!==w.y||E.width!==w.width||E.height!==w.height)&&n(),w=E,T=requestAnimationFrame(x)}return n(),()=>{var E;d.forEach(_=>{i&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),f==null||f(),(E=y)==null||E.disconnect(),y=null,l&&cancelAnimationFrame(T)}}const LM=pM,VM=mM,jM=dM,FM=vM,UM=hM,f_=uM,$M=gM,BM=(t,e,n)=>{const r=new Map,i={platform:DM,...n},s={...i.platform,_c:r};return cM(t,e,{...i,platform:s})};var Wu=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Pd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Pd(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Pd(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function YI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function p_(t,e){const n=YI(t);return Math.round(e*n)/n}function rp(t){const e=g.useRef(t);return Wu(()=>{e.current=t}),e}function zM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,f]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,y]=g.useState(r);Pd(h,r)||y(r);const[T,w]=g.useState(null),[x,E]=g.useState(null),_=g.useCallback(V=>{V!==L.current&&(L.current=V,w(V))},[]),I=g.useCallback(V=>{V!==b.current&&(b.current=V,E(V))},[]),k=s||T,O=o||x,L=g.useRef(null),b=g.useRef(null),S=g.useRef(d),A=l!=null,R=rp(l),N=rp(i),D=rp(u),P=g.useCallback(()=>{if(!L.current||!b.current)return;const V={placement:e,strategy:n,middleware:h};N.current&&(V.platform=N.current),BM(L.current,b.current,V).then(F=>{const G={...F,isPositioned:D.current!==!1};H.current&&!Pd(S.current,G)&&(S.current=G,pc.flushSync(()=>{f(G)}))})},[h,e,n,N,D]);Wu(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[u]);const H=g.useRef(!1);Wu(()=>(H.current=!0,()=>{H.current=!1}),[]),Wu(()=>{if(k&&(L.current=k),O&&(b.current=O),k&&O){if(R.current)return R.current(k,O,P);P()}},[k,O,P,R,A]);const se=g.useMemo(()=>({reference:L,floating:b,setReference:_,setFloating:I}),[_,I]),J=g.useMemo(()=>({reference:k,floating:O}),[k,O]),oe=g.useMemo(()=>{const V={position:n,left:0,top:0};if(!J.floating)return V;const F=p_(J.floating,d.x),G=p_(J.floating,d.y);return a?{...V,transform:"translate("+F+"px, "+G+"px)",...YI(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:G}},[n,a,J.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:P,refs:se,elements:J,floatingStyles:oe}),[d,P,se,J,oe])}const HM=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?f_({element:r.current,padding:i}).fn(n):{}:r?f_({element:r,padding:i}).fn(n):{}}}},WM=(t,e)=>({...LM(t),options:[t,e]}),KM=(t,e)=>({...VM(t),options:[t,e]}),qM=(t,e)=>({...$M(t),options:[t,e]}),GM=(t,e)=>({...jM(t),options:[t,e]}),QM=(t,e)=>({...FM(t),options:[t,e]}),YM=(t,e)=>({...UM(t),options:[t,e]}),XM=(t,e)=>({...HM(t),options:[t,e]});var JM="Arrow",XI=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return m.jsx(we.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});XI.displayName=JM;var ZM=XI;function eL(t,e=[]){let n=[];function r(s,o){const a=g.createContext(o),l=n.length;n=[...n,o];function u(f){const{scope:h,children:y,...T}=f,w=(h==null?void 0:h[t][l])||a,x=g.useMemo(()=>T,Object.values(T));return m.jsx(w.Provider,{value:x,children:y})}function d(f,h){const y=(h==null?void 0:h[t][l])||a,T=g.useContext(y);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,tL(i,...e)]}function tL(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function JI(t){const[e,n]=g.useState(void 0);return ur(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Sv="Popper",[ZI,Nh]=eL(Sv),[nL,eS]=ZI(Sv),tS=t=>{const{__scopePopper:e,children:n}=t,[r,i]=g.useState(null);return m.jsx(nL,{scope:e,anchor:r,onAnchorChange:i,children:n})};tS.displayName=Sv;var nS="PopperAnchor",rS=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=eS(nS,n),o=g.useRef(null),a=Ke(e,o);return g.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:m.jsx(we.div,{...i,ref:a})});rS.displayName=nS;var Cv="PopperContent",[rL,iL]=ZI(Cv),iS=g.forwardRef((t,e)=>{var Me,en,Xe,wt,yr,Kn;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:y="optimized",onPlaced:T,...w}=t,x=eS(Cv,n),[E,_]=g.useState(null),I=Ke(e,Sn=>_(Sn)),[k,O]=g.useState(null),L=JI(k),b=(L==null?void 0:L.width)??0,S=(L==null?void 0:L.height)??0,A=r+(s!=="center"?"-"+s:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],D=N.length>0,P={padding:R,boundary:N.filter(oL),altBoundary:D},{refs:H,floatingStyles:se,placement:J,isPositioned:oe,middlewareData:V}=zM({strategy:"fixed",placement:A,whileElementsMounted:(...Sn)=>MM(...Sn,{animationFrame:y==="always"}),elements:{reference:x.anchor},middleware:[WM({mainAxis:i+S,alignmentAxis:o}),l&&KM({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?qM():void 0,...P}),l&&GM({...P}),QM({...P,apply:({elements:Sn,rects:wr,availableWidth:Gr,availableHeight:Cn})=>{const{width:Ta,height:xa}=wr.reference,Je=Sn.floating.style;Je.setProperty("--radix-popper-available-width",`${Gr}px`),Je.setProperty("--radix-popper-available-height",`${Cn}px`),Je.setProperty("--radix-popper-anchor-width",`${Ta}px`),Je.setProperty("--radix-popper-anchor-height",`${xa}px`)}}),k&&XM({element:k,padding:a}),aL({arrowWidth:b,arrowHeight:S}),h&&YM({strategy:"referenceHidden",...P})]}),[F,G]=aS(J),q=Dt(T);ur(()=>{oe&&(q==null||q())},[oe,q]);const Q=(Me=V.arrow)==null?void 0:Me.x,Z=(en=V.arrow)==null?void 0:en.y,Ie=((Xe=V.arrow)==null?void 0:Xe.centerOffset)!==0,[Ue,pe]=g.useState();return ur(()=>{E&&pe(window.getComputedStyle(E).zIndex)},[E]),m.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:oe?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ue,"--radix-popper-transform-origin":[(wt=V.transformOrigin)==null?void 0:wt.x,(yr=V.transformOrigin)==null?void 0:yr.y].join(" "),...((Kn=V.hide)==null?void 0:Kn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(rL,{scope:n,placedSide:F,onArrowChange:O,arrowX:Q,arrowY:Z,shouldHideArrow:Ie,children:m.jsx(we.div,{"data-side":F,"data-align":G,...w,ref:I,style:{...w.style,animation:oe?void 0:"none"}})})})});iS.displayName=Cv;var sS="PopperArrow",sL={top:"bottom",right:"left",bottom:"top",left:"right"},oS=g.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=iL(sS,r),o=sL[s.placedSide];return m.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:m.jsx(ZM,{...i,ref:n,style:{...i.style,display:"block"}})})});oS.displayName=sS;function oL(t){return t!==null}var aL=t=>({name:"transformOrigin",options:t,fn(e){var x,E,_;const{placement:n,rects:r,middlewareData:i}=e,o=((x=i.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=aS(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((E=i.arrow)==null?void 0:E.x)??0)+a/2,y=(((_=i.arrow)==null?void 0:_.y)??0)+l/2;let T="",w="";return u==="bottom"?(T=o?f:`${h}px`,w=`${-l}px`):u==="top"?(T=o?f:`${h}px`,w=`${r.floating.height+l}px`):u==="right"?(T=`${-l}px`,w=o?f:`${y}px`):u==="left"&&(T=`${r.floating.width+l}px`,w=o?f:`${y}px`),{data:{x:T,y:w}}}});function aS(t){const[e,n="center"]=t.split("-");return[e,n]}var lL=tS,lS=rS,cS=iS,uS=oS,[Dh,C7]=Fs("Tooltip",[Nh]),bv=Nh(),dS="TooltipProvider",cL=700,m_="tooltip.open",[uL,hS]=Dh(dS),fS=t=>{const{__scopeTooltip:e,delayDuration:n=cL,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=g.useState(!0),l=g.useRef(!1),u=g.useRef(0);return g.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),m.jsx(uL,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:g.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};fS.displayName=dS;var pS="Tooltip",[b7,Oh]=Dh(pS),Vm="TooltipTrigger",dL=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Oh(Vm,n),s=hS(Vm,n),o=bv(n),a=g.useRef(null),l=Ke(e,a,i.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),f=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),m.jsx(lS,{asChild:!0,...o,children:m.jsx(we.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:ee(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:ee(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:ee(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ee(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:ee(t.onBlur,i.onClose),onClick:ee(t.onClick,i.onClose)})})});dL.displayName=Vm;var hL="TooltipPortal",[A7,fL]=Dh(hL,{forceMount:void 0}),ea="TooltipContent",mS=g.forwardRef((t,e)=>{const n=fL(ea,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Oh(ea,t.__scopeTooltip);return m.jsx(mr,{present:r||o.open,children:o.disableHoverableContent?m.jsx(gS,{side:i,...s,ref:e}):m.jsx(pL,{side:i,...s,ref:e})})}),pL=g.forwardRef((t,e)=>{const n=Oh(ea,t.__scopeTooltip),r=hS(ea,t.__scopeTooltip),i=g.useRef(null),s=Ke(e,i),[o,a]=g.useState(null),{trigger:l,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,h=g.useCallback(()=>{a(null),f(!1)},[f]),y=g.useCallback((T,w)=>{const x=T.currentTarget,E={x:T.clientX,y:T.clientY},_=yL(E,x.getBoundingClientRect()),I=wL(E,_),k=_L(w.getBoundingClientRect()),O=TL([...I,...k]);a(O),f(!0)},[f]);return g.useEffect(()=>()=>h(),[h]),g.useEffect(()=>{if(l&&d){const T=x=>y(x,d),w=x=>y(x,l);return l.addEventListener("pointerleave",T),d.addEventListener("pointerleave",w),()=>{l.removeEventListener("pointerleave",T),d.removeEventListener("pointerleave",w)}}},[l,d,y,h]),g.useEffect(()=>{if(o){const T=w=>{const x=w.target,E={x:w.clientX,y:w.clientY},_=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),I=!EL(E,o);_?h():I&&(h(),u())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[l,d,o,u,h]),m.jsx(gS,{...t,ref:s})}),[mL,gL]=Dh(pS,{isInside:!1}),gS=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=Oh(ea,n),u=bv(n),{onClose:d}=l;return g.useEffect(()=>(document.addEventListener(m_,d),()=>document.removeEventListener(m_,d)),[d]),g.useEffect(()=>{if(l.trigger){const f=h=>{const y=h.target;y!=null&&y.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),m.jsx(mc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:m.jsxs(cS,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(nI,{children:r}),m.jsx(mL,{scope:n,isInside:!0,children:m.jsx(aD,{id:l.contentId,role:"tooltip",children:i||r})})]})})});mS.displayName=ea;var vS="TooltipArrow",vL=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=bv(n);return gL(vS,n).isInside?null:m.jsx(uS,{...i,...r,ref:e})});vL.displayName=vS;function yL(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function wL(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function _L(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function EL(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function TL(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),xL(e)}function xL(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var IL=fS,yS=mS;const SL=IL,CL=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>m.jsx(yS,{ref:r,sideOffset:e,className:fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));CL.displayName=yS.displayName;var Mh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Lh=typeof window>"u"||"Deno"in globalThis;function Pn(){}function bL(t,e){return typeof t=="function"?t(e):t}function AL(t){return typeof t=="number"&&t>=0&&t!==1/0}function RL(t,e){return Math.max(t+(e||0)-Date.now(),0)}function g_(t,e){return typeof t=="function"?t(e):t}function PL(t,e){return typeof t=="function"?t(e):t}function v_(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Av(o,e.options))return!1}else if(!zl(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function y_(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Bl(e.options.mutationKey)!==Bl(s))return!1}else if(!zl(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Av(t,e){return((e==null?void 0:e.queryKeyHashFn)||Bl)(t)}function Bl(t){return JSON.stringify(t,(e,n)=>jm(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function zl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!zl(t[n],e[n])):!1}function wS(t,e){if(t===e)return t;const n=w_(t)&&w_(e);if(n||jm(t)&&jm(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const d=n?u:s[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=wS(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function w_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function jm(t){if(!__(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!__(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function __(t){return Object.prototype.toString.call(t)==="[object Object]"}function kL(t){return new Promise(e=>{setTimeout(e,t)})}function NL(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?wS(t,e):e}function DL(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function OL(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Rv=Symbol();function _S(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Rv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var fs,mi,Vo,NT,ML=(NT=class extends Mh{constructor(){super();Te(this,fs);Te(this,mi);Te(this,Vo);de(this,Vo,e=>{if(!Lh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){$(this,mi)||this.setEventListener($(this,Vo))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,mi))==null||e.call(this),de(this,mi,void 0))}setEventListener(e){var n;de(this,Vo,e),(n=$(this,mi))==null||n.call(this),de(this,mi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){$(this,fs)!==e&&(de(this,fs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof $(this,fs)=="boolean"?$(this,fs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},fs=new WeakMap,mi=new WeakMap,Vo=new WeakMap,NT),ES=new ML,jo,gi,Fo,DT,LL=(DT=class extends Mh{constructor(){super();Te(this,jo,!0);Te(this,gi);Te(this,Fo);de(this,Fo,e=>{if(!Lh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){$(this,gi)||this.setEventListener($(this,Fo))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,gi))==null||e.call(this),de(this,gi,void 0))}setEventListener(e){var n;de(this,Fo,e),(n=$(this,gi))==null||n.call(this),de(this,gi,e(this.setOnline.bind(this)))}setOnline(e){$(this,jo)!==e&&(de(this,jo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return $(this,jo)}},jo=new WeakMap,gi=new WeakMap,Fo=new WeakMap,DT),kd=new LL;function VL(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function jL(t){return Math.min(1e3*2**t,3e4)}function TS(t){return(t??"online")==="online"?kd.isOnline():!0}var xS=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ip(t){return t instanceof xS}function IS(t){let e=!1,n=0,r=!1,i;const s=VL(),o=w=>{var x;r||(h(new xS(w)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>ES.isFocused()&&(t.networkMode==="always"||kd.isOnline())&&t.canRun(),d=()=>TS(t.networkMode)&&t.canRun(),f=w=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,w),i==null||i(),s.resolve(w))},h=w=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,w),i==null||i(),s.reject(w))},y=()=>new Promise(w=>{var x;i=E=>{(r||u())&&w(E)},(x=t.onPause)==null||x.call(t)}).then(()=>{var w;i=void 0,r||(w=t.onContinue)==null||w.call(t)}),T=()=>{if(r)return;let w;const x=n===0?t.initialPromise:void 0;try{w=x??t.fn()}catch(E){w=Promise.reject(E)}Promise.resolve(w).then(f).catch(E=>{var L;if(r)return;const _=t.retry??(Lh?0:3),I=t.retryDelay??jL,k=typeof I=="function"?I(n,E):I,O=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,E);if(e||!O){h(E);return}n++,(L=t.onFail)==null||L.call(t,n,E),kL(k).then(()=>u()?void 0:y()).then(()=>{e?h(E):T()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?T():y().then(T),s)}}function FL(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var jt=FL(),ps,OT,SS=(OT=class{constructor(){Te(this,ps)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),AL(this.gcTime)&&de(this,ps,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Lh?1/0:5*60*1e3))}clearGcTimeout(){$(this,ps)&&(clearTimeout($(this,ps)),de(this,ps,void 0))}},ps=new WeakMap,OT),Uo,$o,pn,bt,ac,ms,kn,Sr,MT,UL=(MT=class extends SS{constructor(n){super();Te(this,kn);Te(this,Uo);Te(this,$o);Te(this,pn);Te(this,bt);Te(this,ac);Te(this,ms);de(this,ms,!1),de(this,ac,n.defaultOptions),this.setOptions(n.options),this.observers=[],de(this,pn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,de(this,Uo,BL(this.options)),this.state=n.state??$(this,Uo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=$(this,bt))==null?void 0:n.promise}setOptions(n){this.options={...$(this,ac),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,pn).remove(this)}setData(n,r){const i=NL(this.state.data,n,this.options);return xt(this,kn,Sr).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){xt(this,kn,Sr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=$(this,bt))==null?void 0:i.promise;return(s=$(this,bt))==null||s.cancel(n),r?r.then(Pn).catch(Pn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,Uo))}isActive(){return this.observers.some(n=>PL(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Rv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!RL(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,bt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,bt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),$(this,pn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||($(this,bt)&&($(this,ms)?$(this,bt).cancel({revert:!0}):$(this,bt).cancelRetry()),this.scheduleGc()),$(this,pn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||xt(this,kn,Sr).call(this,{type:"invalidate"})}fetch(n,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,bt))return $(this,bt).continueRetry(),$(this,bt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(y=>y.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(de(this,ms,!0),i.signal)})},o=()=>{const h=_S(this.options,r),y={queryKey:this.queryKey,meta:this.meta};return s(y),de(this,ms,!1),this.options.persister?this.options.persister(h,y,this):h(y)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(u=this.options.behavior)==null||u.onFetch(a,this),de(this,$o,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&xt(this,kn,Sr).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=h=>{var y,T,w,x;ip(h)&&h.silent||xt(this,kn,Sr).call(this,{type:"error",error:h}),ip(h)||((T=(y=$(this,pn).config).onError)==null||T.call(y,h,this),(x=(w=$(this,pn).config).onSettled)==null||x.call(w,this.state.data,h,this)),this.scheduleGc()};return de(this,bt,IS({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var y,T,w,x;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(E){l(E);return}(T=(y=$(this,pn).config).onSuccess)==null||T.call(y,h,this),(x=(w=$(this,pn).config).onSettled)==null||x.call(w,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,y)=>{xt(this,kn,Sr).call(this,{type:"failed",failureCount:h,error:y})},onPause:()=>{xt(this,kn,Sr).call(this,{type:"pause"})},onContinue:()=>{xt(this,kn,Sr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),$(this,bt).start()}},Uo=new WeakMap,$o=new WeakMap,pn=new WeakMap,bt=new WeakMap,ac=new WeakMap,ms=new WeakMap,kn=new WeakSet,Sr=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...$L(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return ip(s)&&s.revert&&$(this,$o)?{...$(this,$o),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),jt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),$(this,pn).notify({query:this,type:"updated",action:n})})},MT);function $L(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:TS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function BL(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Jn,LT,zL=(LT=class extends Mh{constructor(e={}){super();Te(this,Jn);this.config=e,de(this,Jn,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??Av(i,n);let o=this.get(s);return o||(o=new UL({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){$(this,Jn).has(e.queryHash)||($(this,Jn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=$(this,Jn).get(e.queryHash);n&&(e.destroy(),n===e&&$(this,Jn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){jt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return $(this,Jn).get(e)}getAll(){return[...$(this,Jn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>v_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>v_(e,r)):n}notify(e){jt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){jt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){jt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Jn=new WeakMap,LT),Zn,Lt,gs,er,si,VT,HL=(VT=class extends SS{constructor(n){super();Te(this,er);Te(this,Zn);Te(this,Lt);Te(this,gs);this.mutationId=n.mutationId,de(this,Lt,n.mutationCache),de(this,Zn,[]),this.state=n.state||WL(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){$(this,Zn).includes(n)||($(this,Zn).push(n),this.clearGcTimeout(),$(this,Lt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){de(this,Zn,$(this,Zn).filter(r=>r!==n)),this.scheduleGc(),$(this,Lt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){$(this,Zn).length||(this.state.status==="pending"?this.scheduleGc():$(this,Lt).remove(this))}continue(){var n;return((n=$(this,gs))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,l,u,d,f,h,y,T,w,x,E,_,I,k,O,L,b,S;de(this,gs,IS({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,R)=>{xt(this,er,si).call(this,{type:"failed",failureCount:A,error:R})},onPause:()=>{xt(this,er,si).call(this,{type:"pause"})},onContinue:()=>{xt(this,er,si).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Lt).canRun(this)}));const r=this.state.status==="pending",i=!$(this,gs).canStart();try{if(!r){xt(this,er,si).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=$(this,Lt).config).onMutate)==null?void 0:o.call(s,n,this));const R=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));R!==this.state.context&&xt(this,er,si).call(this,{type:"pending",context:R,variables:n,isPaused:i})}const A=await $(this,gs).start();return await((d=(u=$(this,Lt).config).onSuccess)==null?void 0:d.call(u,A,n,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,A,n,this.state.context)),await((T=(y=$(this,Lt).config).onSettled)==null?void 0:T.call(y,A,null,this.state.variables,this.state.context,this)),await((x=(w=this.options).onSettled)==null?void 0:x.call(w,A,null,n,this.state.context)),xt(this,er,si).call(this,{type:"success",data:A}),A}catch(A){try{throw await((_=(E=$(this,Lt).config).onError)==null?void 0:_.call(E,A,n,this.state.context,this)),await((k=(I=this.options).onError)==null?void 0:k.call(I,A,n,this.state.context)),await((L=(O=$(this,Lt).config).onSettled)==null?void 0:L.call(O,void 0,A,this.state.variables,this.state.context,this)),await((S=(b=this.options).onSettled)==null?void 0:S.call(b,void 0,A,n,this.state.context)),A}finally{xt(this,er,si).call(this,{type:"error",error:A})}}finally{$(this,Lt).runNext(this)}}},Zn=new WeakMap,Lt=new WeakMap,gs=new WeakMap,er=new WeakSet,si=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),jt.batch(()=>{$(this,Zn).forEach(i=>{i.onMutationUpdate(n)}),$(this,Lt).notify({mutation:this,type:"updated",action:n})})},VT);function WL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var nn,lc,jT,KL=(jT=class extends Mh{constructor(e={}){super();Te(this,nn);Te(this,lc);this.config=e,de(this,nn,new Map),de(this,lc,Date.now())}build(e,n,r){const i=new HL({mutationCache:this,mutationId:++Qc(this,lc)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=vu(e),r=$(this,nn).get(n)??[];r.push(e),$(this,nn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=vu(e);if($(this,nn).has(n)){const i=(r=$(this,nn).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?$(this,nn).delete(n):$(this,nn).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=$(this,nn).get(vu(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=$(this,nn).get(vu(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){jt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...$(this,nn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>y_(n,r))}findAll(e={}){return this.getAll().filter(n=>y_(e,n))}notify(e){jt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return jt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Pn))))}},nn=new WeakMap,lc=new WeakMap,jT);function vu(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function E_(t){return{onFetch:(e,n)=>{var d,f,h,y,T;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((y=e.state.data)==null?void 0:y.pages)||[],o=((T=e.state.data)==null?void 0:T.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let w=!1;const x=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},E=_S(e.options,e.fetchOptions),_=async(I,k,O)=>{if(w)return Promise.reject();if(k==null&&I.pages.length)return Promise.resolve(I);const L={queryKey:e.queryKey,pageParam:k,direction:O?"backward":"forward",meta:e.options.meta};x(L);const b=await E(L),{maxPages:S}=e.options,A=O?OL:DL;return{pages:A(I.pages,b,S),pageParams:A(I.pageParams,k,S)}};if(i&&s.length){const I=i==="backward",k=I?qL:T_,O={pages:s,pageParams:o},L=k(r,O);a=await _(O,L,I)}else{const I=t??s.length;do{const k=l===0?o[0]??r.initialPageParam:T_(r,a);if(l>0&&k==null)break;a=await _(a,k),l++}while(l<I)}return a};e.options.persister?e.fetchFn=()=>{var w,x;return(x=(w=e.options).persister)==null?void 0:x.call(w,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function T_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function qL(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ze,vi,yi,Bo,zo,wi,Ho,Wo,FT,GL=(FT=class{constructor(t={}){Te(this,ze);Te(this,vi);Te(this,yi);Te(this,Bo);Te(this,zo);Te(this,wi);Te(this,Ho);Te(this,Wo);de(this,ze,t.queryCache||new zL),de(this,vi,t.mutationCache||new KL),de(this,yi,t.defaultOptions||{}),de(this,Bo,new Map),de(this,zo,new Map),de(this,wi,0)}mount(){Qc(this,wi)._++,$(this,wi)===1&&(de(this,Ho,ES.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,ze).onFocus())})),de(this,Wo,kd.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,ze).onOnline())})))}unmount(){var t,e;Qc(this,wi)._--,$(this,wi)===0&&((t=$(this,Ho))==null||t.call(this),de(this,Ho,void 0),(e=$(this,Wo))==null||e.call(this),de(this,Wo,void 0))}isFetching(t){return $(this,ze).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,vi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,ze).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=$(this,ze).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(g_(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return $(this,ze).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=$(this,ze).get(r.queryHash),s=i==null?void 0:i.state.data,o=bL(e,s);if(o!==void 0)return $(this,ze).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return jt.batch(()=>$(this,ze).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,ze).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=$(this,ze);jt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=$(this,ze),r={type:"active",...t};return jt.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=jt.batch(()=>$(this,ze).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Pn).catch(Pn)}invalidateQueries(t={},e={}){return jt.batch(()=>{if($(this,ze).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=jt.batch(()=>$(this,ze).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Pn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Pn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=$(this,ze).build(this,e);return n.isStaleByTime(g_(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Pn).catch(Pn)}fetchInfiniteQuery(t){return t.behavior=E_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Pn).catch(Pn)}ensureInfiniteQueryData(t){return t.behavior=E_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return kd.isOnline()?$(this,vi).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,ze)}getMutationCache(){return $(this,vi)}getDefaultOptions(){return $(this,yi)}setDefaultOptions(t){de(this,yi,t)}setQueryDefaults(t,e){$(this,Bo).set(Bl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...$(this,Bo).values()];let n={};return e.forEach(r=>{zl(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){$(this,zo).set(Bl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...$(this,zo).values()];let n={};return e.forEach(r=>{zl(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...$(this,yi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Av(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Rv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,yi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,ze).clear(),$(this,vi).clear()}},ze=new WeakMap,vi=new WeakMap,yi=new WeakMap,Bo=new WeakMap,zo=new WeakMap,wi=new WeakMap,Ho=new WeakMap,Wo=new WeakMap,FT),QL=g.createContext(void 0),YL=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(QL.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hl(){return Hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hl.apply(this,arguments)}var Ti;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ti||(Ti={}));const x_="popstate";function XL(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Fm("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:bS(i)}return ZL(e,n,null,t)}function nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function CS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JL(){return Math.random().toString(36).substr(2,8)}function I_(t,e){return{usr:t.state,key:t.key,idx:e}}function Fm(t,e,n,r){return n===void 0&&(n=null),Hl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pa(e):e,{state:n,key:e&&e.key||r||JL()})}function bS(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ZL(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ti.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Hl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Ti.Pop;let x=d(),E=x==null?null:x-u;u=x,l&&l({action:a,location:w.location,delta:E})}function h(x,E){a=Ti.Push;let _=Fm(w.location,x,E);u=d()+1;let I=I_(_,u),k=w.createHref(_);try{o.pushState(I,"",k)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(k)}s&&l&&l({action:a,location:w.location,delta:1})}function y(x,E){a=Ti.Replace;let _=Fm(w.location,x,E);u=d();let I=I_(_,u),k=w.createHref(_);o.replaceState(I,"",k),s&&l&&l({action:a,location:w.location,delta:0})}function T(x){let E=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof x=="string"?x:bS(x);return _=_.replace(/ $/,"%20"),nt(E,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,E)}let w={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(x_,f),l=x,()=>{i.removeEventListener(x_,f),l=null}},createHref(x){return e(i,x)},createURL:T,encodeLocation(x){let E=T(x);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:h,replace:y,go(x){return o.go(x)}};return w}var S_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(S_||(S_={}));function eV(t,e,n){return n===void 0&&(n="/"),tV(t,e,n,!1)}function tV(t,e,n,r){let i=typeof e=="string"?pa(e):e,s=PS(i.pathname||"/",n);if(s==null)return null;let o=AS(t);nV(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=fV(s);a=dV(o[l],u,r)}return a}function AS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(nt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ws([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(nt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),AS(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:cV(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of RS(s.path))i(s,o,l)}),e}function RS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=RS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function nV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rV=/^:[\w-]+$/,iV=3,sV=2,oV=1,aV=10,lV=-2,C_=t=>t==="*";function cV(t,e){let n=t.split("/"),r=n.length;return n.some(C_)&&(r+=lV),e&&(r+=sV),n.filter(i=>!C_(i)).reduce((i,s)=>i+(rV.test(s)?iV:s===""?oV:aV),r)}function uV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function dV(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=b_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=b_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:ws([s,f.pathname]),pathnameBase:vV(ws([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=ws([s,f.pathnameBase]))}return o}function b_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=hV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:y}=d;if(h==="*"){let w=a[f]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const T=a[f];return y&&!T?u[h]=void 0:u[h]=(T||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function hV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),CS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function fV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return CS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function PS(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function pV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?pa(t):t;return{pathname:n?n.startsWith("/")?n:mV(n,e):e,search:yV(r),hash:wV(i)}}function mV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function sp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kS(t,e){let n=gV(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function NS(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=pa(t):(i=Hl({},t),nt(!i.pathname||!i.pathname.includes("?"),sp("?","pathname","search",i)),nt(!i.pathname||!i.pathname.includes("#"),sp("#","pathname","hash",i)),nt(!i.search||!i.search.includes("#"),sp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=pV(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const ws=t=>t.join("/").replace(/\/\/+/g,"/"),vV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _V(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const DS=["post","put","patch","delete"];new Set(DS);const EV=["get",...DS];new Set(EV);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wl.apply(this,arguments)}const Pv=g.createContext(null),TV=g.createContext(null),yc=g.createContext(null),Vh=g.createContext(null),Yi=g.createContext({outlet:null,matches:[],isDataRoute:!1}),OS=g.createContext(null);function wc(){return g.useContext(Vh)!=null}function jh(){return wc()||nt(!1),g.useContext(Vh).location}function MS(t){g.useContext(yc).static||g.useLayoutEffect(t)}function kv(){let{isDataRoute:t}=g.useContext(Yi);return t?LV():xV()}function xV(){wc()||nt(!1);let t=g.useContext(Pv),{basename:e,future:n,navigator:r}=g.useContext(yc),{matches:i}=g.useContext(Yi),{pathname:s}=jh(),o=JSON.stringify(kS(i,n.v7_relativeSplatPath)),a=g.useRef(!1);return MS(()=>{a.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=NS(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ws([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}function IV(){let{matches:t}=g.useContext(Yi),e=t[t.length-1];return e?e.params:{}}function SV(t,e){return CV(t,e)}function CV(t,e,n,r){wc()||nt(!1);let{navigator:i}=g.useContext(yc),{matches:s}=g.useContext(Yi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=jh(),d;if(e){var f;let x=typeof e=="string"?pa(e):e;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||nt(!1),d=x}else d=u;let h=d.pathname||"/",y=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let T=eV(t,{pathname:y}),w=kV(T&&T.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:ws([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:ws([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&w?g.createElement(Vh.Provider,{value:{location:Wl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ti.Pop}},w):w}function bV(){let t=MV(),e=_V(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:i},n):null,null)}const AV=g.createElement(bV,null);class RV extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(Yi.Provider,{value:this.props.routeContext},g.createElement(OS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PV(t){let{routeContext:e,match:n,children:r}=t,i=g.useContext(Pv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Yi.Provider,{value:e},r)}function kV(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||nt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:y}=n,T=f.route.loader&&h[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||T){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let y,T=!1,w=null,x=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,w=f.route.errorElement||AV,l&&(u<0&&h===0?(T=!0,x=null):u===h&&(T=!0,x=f.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,h+1)),_=()=>{let I;return y?I=w:T?I=x:f.route.Component?I=g.createElement(f.route.Component,null):f.route.element?I=f.route.element:I=d,g.createElement(PV,{match:f,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:I})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?g.createElement(RV,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):_()},null)}var LS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(LS||{}),Nd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Nd||{});function NV(t){let e=g.useContext(Pv);return e||nt(!1),e}function DV(t){let e=g.useContext(TV);return e||nt(!1),e}function OV(t){let e=g.useContext(Yi);return e||nt(!1),e}function VS(t){let e=OV(),n=e.matches[e.matches.length-1];return n.route.id||nt(!1),n.route.id}function MV(){var t;let e=g.useContext(OS),n=DV(Nd.UseRouteError),r=VS(Nd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function LV(){let{router:t}=NV(LS.UseNavigateStable),e=VS(Nd.UseNavigateStable),n=g.useRef(!1);return MS(()=>{n.current=!0}),g.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Wl({fromRouteId:e},s)))},[t,e])}function VV(t){let{to:e,replace:n,state:r,relative:i}=t;wc()||nt(!1);let{future:s,static:o}=g.useContext(yc),{matches:a}=g.useContext(Yi),{pathname:l}=jh(),u=kv(),d=NS(e,kS(a,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return g.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function as(t){nt(!1)}function jV(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ti.Pop,navigator:s,static:o=!1,future:a}=t;wc()&&nt(!1);let l=e.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:l,navigator:s,static:o,future:Wl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=pa(r));let{pathname:d="/",search:f="",hash:h="",state:y=null,key:T="default"}=r,w=g.useMemo(()=>{let x=PS(d,l);return x==null?null:{location:{pathname:x,search:f,hash:h,state:y,key:T},navigationType:i}},[l,d,f,h,y,T,i]);return w==null?null:g.createElement(yc.Provider,{value:u},g.createElement(Vh.Provider,{children:n,value:w}))}function jS(t){let{children:e,location:n}=t;return SV(Um(e),n)}new Promise(()=>{});function Um(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,i)=>{if(!g.isValidElement(r))return;let s=[...e,i];if(r.type===g.Fragment){n.push.apply(n,Um(r.props.children,s));return}r.type!==as&&nt(!1),!r.props.index||!r.props.children||nt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Um(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const FV="6";try{window.__reactRouterVersion=FV}catch{}const UV="startTransition",A_=XT[UV];function $V(t){let{basename:e,children:n,future:r,window:i}=t,s=g.useRef();s.current==null&&(s.current=XL({window:i,v5Compat:!0}));let o=s.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=g.useCallback(f=>{u&&A_?A_(()=>l(f)):l(f)},[l,u]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.createElement(jV,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var R_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(R_||(R_={}));var P_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(P_||(P_={}));const BV=()=>{};var k_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},US={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,y=u&63;l||(y=64,o||(h=64)),r.push(n[d],n[f],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new HV;const h=s<<2|a>>4;if(r.push(h),u!==64){const y=a<<4&240|u>>2;if(r.push(y),f!==64){const T=u<<6&192|f;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WV=function(t){const e=FS(t);return US.encodeByteArray(e,!0)},Dd=function(t){return WV(t).replace(/\./g,"")},$S=function(t){try{return US.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=()=>KV().__FIREBASE_DEFAULTS__,GV=()=>{if(typeof process>"u"||typeof k_>"u")return;const t=k_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$S(t[1]);return e&&JSON.parse(e)},Fh=()=>{try{return BV()||qV()||GV()||QV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BS=t=>{var e,n;return(n=(e=Fh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},zS=t=>{const e=BS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},HS=()=>{var t;return(t=Fh())===null||t===void 0?void 0:t.config},WS=t=>{var e;return(e=Fh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t){return t.endsWith(".cloudworkstations.dev")}async function Nv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dd(JSON.stringify(n)),Dd(JSON.stringify(o)),""].join(".")}const gl={};function XV(){const t={prod:[],emulator:[]};for(const e of Object.keys(gl))gl[e]?t.emulator.push(e):t.prod.push(e);return t}function JV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let N_=!1;function Dv(t,e){if(typeof window>"u"||typeof document>"u"||!ma(window.location.host)||gl[t]===e||gl[t]||N_)return;gl[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=XV().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,y){h.setAttribute("width","24"),h.setAttribute("id",y),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{N_=!0,o()},h}function d(h,y){h.setAttribute("id",y),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=JV(r),y=n("text"),T=document.getElementById(y)||document.createElement("span"),w=n("learnmore"),x=document.getElementById(w)||document.createElement("a"),E=n("preprendIcon"),_=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const I=h.element;a(I),d(x,w);const k=u();l(_,E),I.append(_,T,x,k),document.body.appendChild(I)}s?(T.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function e4(){var t;const e=(t=Fh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function t4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function n4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function r4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function i4(){const t=Ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function s4(){return!e4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qS(){try{return typeof indexedDB=="object"}catch{return!1}}function GS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function o4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="FirebaseError";class Hn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=a4,Object.setPrototypeOf(this,Hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Us.prototype.create)}}class Us{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?l4(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Hn(i,a,r)}}function l4(t,e){return t.replace(c4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const c4=/\{\$([^}]+)}/g;function u4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(D_(s)&&D_(o)){if(!bs(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function D_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function el(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function tl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function d4(t,e){const n=new h4(t,e);return n.subscribe.bind(n)}class h4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");f4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=op),i.error===void 0&&(i.error=op),i.complete===void 0&&(i.complete=op);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function op(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t){return t&&t._delegate?t._delegate:t}class In{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new YV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(g4(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:m4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m4(t){return t===os?void 0:t}function g4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new p4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const y4={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},w4=ge.INFO,_4={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},E4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=_4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ov{constructor(e){this.name=e,this._logLevel=w4,this._logHandler=E4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const T4=(t,e)=>e.some(n=>t instanceof n);let O_,M_;function x4(){return O_||(O_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function I4(){return M_||(M_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QS=new WeakMap,$m=new WeakMap,YS=new WeakMap,ap=new WeakMap,Mv=new WeakMap;function S4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Or(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&QS.set(n,t)}).catch(()=>{}),Mv.set(e,t),e}function C4(t){if($m.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});$m.set(t,e)}let Bm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $m.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Or(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function b4(t){Bm=t(Bm)}function A4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lp(this),e,...n);return YS.set(r,e.sort?e.sort():[e]),Or(r)}:I4().includes(t)?function(...e){return t.apply(lp(this),e),Or(QS.get(this))}:function(...e){return Or(t.apply(lp(this),e))}}function R4(t){return typeof t=="function"?A4(t):(t instanceof IDBTransaction&&C4(t),T4(t,x4())?new Proxy(t,Bm):t)}function Or(t){if(t instanceof IDBRequest)return S4(t);if(ap.has(t))return ap.get(t);const e=R4(t);return e!==t&&(ap.set(t,e),Mv.set(e,t)),e}const lp=t=>Mv.get(t);function Uh(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Or(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Or(o.result),l.oldVersion,l.newVersion,Or(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}function cp(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),Or(n).then(()=>{})}const P4=["get","getKey","getAll","getAllKeys","count"],k4=["put","add","delete","clear"],up=new Map;function L_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(up.get(e))return up.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=k4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||P4.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return up.set(e,s),s}b4(t=>({...t,get:(e,n,r)=>L_(e,n)||t.get(e,n,r),has:(e,n)=>!!L_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(D4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function D4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zm="@firebase/app",V_="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new Ov("@firebase/app"),O4="@firebase/app-compat",M4="@firebase/analytics-compat",L4="@firebase/analytics",V4="@firebase/app-check-compat",j4="@firebase/app-check",F4="@firebase/auth",U4="@firebase/auth-compat",$4="@firebase/database",B4="@firebase/data-connect",z4="@firebase/database-compat",H4="@firebase/functions",W4="@firebase/functions-compat",K4="@firebase/installations",q4="@firebase/installations-compat",G4="@firebase/messaging",Q4="@firebase/messaging-compat",Y4="@firebase/performance",X4="@firebase/performance-compat",J4="@firebase/remote-config",Z4="@firebase/remote-config-compat",ej="@firebase/storage",tj="@firebase/storage-compat",nj="@firebase/firestore",rj="@firebase/ai",ij="@firebase/firestore-compat",sj="firebase",oj="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="[DEFAULT]",aj={[zm]:"fire-core",[O4]:"fire-core-compat",[L4]:"fire-analytics",[M4]:"fire-analytics-compat",[j4]:"fire-app-check",[V4]:"fire-app-check-compat",[F4]:"fire-auth",[U4]:"fire-auth-compat",[$4]:"fire-rtdb",[B4]:"fire-data-connect",[z4]:"fire-rtdb-compat",[H4]:"fire-fn",[W4]:"fire-fn-compat",[K4]:"fire-iid",[q4]:"fire-iid-compat",[G4]:"fire-fcm",[Q4]:"fire-fcm-compat",[Y4]:"fire-perf",[X4]:"fire-perf-compat",[J4]:"fire-rc",[Z4]:"fire-rc-compat",[ej]:"fire-gcs",[tj]:"fire-gcs-compat",[nj]:"fire-fst",[ij]:"fire-fst-compat",[rj]:"fire-vertex","fire-js":"fire-js",[sj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od=new Map,lj=new Map,Wm=new Map;function j_(t,e){try{t.container.addComponent(e)}catch(n){zr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bn(t){const e=t.name;if(Wm.has(e))return zr.debug(`There were multiple attempts to register component ${e}.`),!1;Wm.set(e,t);for(const n of Od.values())j_(n,t);for(const n of lj.values())j_(n,t);return!0}function $s(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function an(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ni=new Us("app","Firebase",cj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new In("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=oj;function XS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Hm,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ni.create("bad-app-name",{appName:String(i)});if(n||(n=HS()),!n)throw Ni.create("no-options");const s=Od.get(i);if(s){if(bs(n,s.options)&&bs(r,s.config))return s;throw Ni.create("duplicate-app",{appName:i})}const o=new v4(i);for(const l of Wm.values())o.addComponent(l);const a=new uj(n,r,o);return Od.set(i,a),a}function $h(t=Hm){const e=Od.get(t);if(!e&&t===Hm&&HS())return XS();if(!e)throw Ni.create("no-app",{appName:t});return e}function Zt(t,e,n){var r;let i=(r=aj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zr.warn(a.join(" "));return}Bn(new In(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj="firebase-heartbeat-database",hj=1,Kl="firebase-heartbeat-store";let dp=null;function JS(){return dp||(dp=Uh(dj,hj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ni.create("idb-open",{originalErrorMessage:t.message})})),dp}async function fj(t){try{const n=(await JS()).transaction(Kl),r=await n.objectStore(Kl).get(ZS(t));return await n.done,r}catch(e){if(e instanceof Hn)zr.warn(e.message);else{const n=Ni.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zr.warn(n.message)}}}async function F_(t,e){try{const r=(await JS()).transaction(Kl,"readwrite");await r.objectStore(Kl).put(e,ZS(t)),await r.done}catch(n){if(n instanceof Hn)zr.warn(n.message);else{const r=Ni.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zr.warn(r.message)}}}function ZS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=1024,mj=30;class gj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=U_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>mj){const o=wj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){zr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=U_(),{heartbeatsToSend:r,unsentEntries:i}=vj(this._heartbeatsCache.heartbeats),s=Dd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return zr.warn(n),""}}}function U_(){return new Date().toISOString().substring(0,10)}function vj(t,e=pj){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),$_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qS()?GS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return F_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return F_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $_(t){return Dd(JSON.stringify({version:2,heartbeats:t})).length}function wj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(t){Bn(new In("platform-logger",e=>new N4(e),"PRIVATE")),Bn(new In("heartbeat",e=>new gj(e),"PRIVATE")),Zt(zm,V_,t),Zt(zm,V_,"esm2017"),Zt("fire-js","")}_j("");var nr=function(){return nr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},nr.apply(this,arguments)};function Ec(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ej(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function eC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Tj=eC,tC=new Us("auth","Firebase",eC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=new Ov("@firebase/auth");function xj(t,...e){Md.logLevel<=ge.WARN&&Md.warn(`Auth (${Bs}): ${t}`,...e)}function Ku(t,...e){Md.logLevel<=ge.ERROR&&Md.error(`Auth (${Bs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(t,...e){throw Lv(t,...e)}function sr(t,...e){return Lv(t,...e)}function nC(t,e,n){const r=Object.assign(Object.assign({},Tj()),{[e]:n});return new Us("auth","Firebase",r).create(e,{appName:t.name})}function Mr(t){return nC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tC.create(t,...e)}function re(t,e,...n){if(!t)throw Lv(e,...n)}function kr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ku(e),new Error(e)}function Hr(t,e){t||kr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Ij(){return B_()==="http:"||B_()==="https:"}function B_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ij()||n4()||"connection"in navigator)?navigator.onLine:!0}function Cj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hr(n>e,"Short delay should be less than long delay!"),this.isMobile=ZV()||r4()}get(){return Sj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t,e){Hr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Rj=new Tc(3e4,6e4);function Xi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ji(t,e,n,r,i={}){return iC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=_c(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return t4()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&ma(t.emulatorConfig.host)&&(u.credentials="include"),rC.fetch()(await sC(t,t.config.apiHost,n,a),u)})}async function iC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},bj),e);try{const i=new kj(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw yu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw yu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw yu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw yu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw nC(t,d,u);zn(t,d)}}catch(i){if(i instanceof Hn)throw i;zn(t,"network-request-failed",{message:String(i)})}}async function xc(t,e,n,r,i={}){const s=await Ji(t,e,n,r,i);return"mfaPendingCredential"in s&&zn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function sC(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Vv(t.config,i):`${t.config.apiScheme}://${i}`;return Aj.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function Pj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(sr(this.auth,"network-request-failed")),Rj.get())})}}function yu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=sr(t,e,r);return i.customData._tokenResponse=n,i}function z_(t){return t!==void 0&&t.enterprise!==void 0}class Nj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Pj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Dj(t,e){return Ji(t,"GET","/v2/recaptchaConfig",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oj(t,e){return Ji(t,"POST","/v1/accounts:delete",e)}async function Ld(t,e){return Ji(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Mj(t,e=!1){const n=vt(t),r=await n.getIdToken(e),i=jv(r);re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:vl(hp(i.auth_time)),issuedAtTime:vl(hp(i.iat)),expirationTime:vl(hp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function hp(t){return Number(t)*1e3}function jv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ku("JWT malformed, contained fewer than 3 sections"),null;try{const i=$S(n);return i?JSON.parse(i):(Ku("Failed to decode base64 JWT payload"),null)}catch(i){return Ku("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function H_(t){const e=jv(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Hn&&Lj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Lj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vl(this.lastLoginAt),this.creationTime=vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ql(t,Ld(n,{idToken:r}));re(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?oC(s.providerUserInfo):[],a=Fj(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new qm(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function jj(t){const e=vt(t);await Vd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Fj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oC(t){return t.map(e=>{var{providerId:n}=e,r=Ec(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uj(t,e){const n=await iC(t,{},async()=>{const r=_c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await sC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",rC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $j(t,e){return Ji(t,"POST","/v2/accounts:revokeToken",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):H_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=H_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Uj(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new No;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(re(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new No,this.toJSON())}_performRefresh(){return kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class On{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ec(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new qm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ql(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Mj(this,e)}reload(){return jj(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new On(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(an(this.auth.app))return Promise.reject(Mr(this.auth));const e=await this.getIdToken();return await ql(this,Oj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,T=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:I,emailVerified:k,isAnonymous:O,providerData:L,stsTokenManager:b}=n;re(I&&b,e,"internal-error");const S=No.fromJSON(this.name,b);re(typeof I=="string",e,"internal-error"),ii(f,e.name),ii(h,e.name),re(typeof k=="boolean",e,"internal-error"),re(typeof O=="boolean",e,"internal-error"),ii(y,e.name),ii(T,e.name),ii(w,e.name),ii(x,e.name),ii(E,e.name),ii(_,e.name);const A=new On({uid:I,auth:e,email:h,emailVerified:k,displayName:f,isAnonymous:O,photoURL:T,phoneNumber:y,tenantId:w,stsTokenManager:S,createdAt:E,lastLoginAt:_});return L&&Array.isArray(L)&&(A.providerData=L.map(R=>Object.assign({},R))),x&&(A._redirectEventId=x),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new No;i.updateFromServerResponse(n);const s=new On({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];re(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?oC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new No;a.updateFromIdToken(r);const l=new On({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new qm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=new Map;function Nr(t){Hr(t instanceof Function,"Expected a class definition");let e=W_.get(t);return e?(Hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,W_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aC.type="NONE";const K_=aC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(t,e,n){return`firebase:${t}:${e}:${n}`}class Do{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=qu(this.userKey,i.apiKey,s),this.fullPersistenceKey=qu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ld(this.auth,{idToken:e}).catch(()=>{});return n?On._fromGetAccountInfoResponse(this.auth,n,e):null}return On._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Do(Nr(K_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Nr(K_);const o=qu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const h=await Ld(e,{idToken:d}).catch(()=>{});if(!h)break;f=await On._fromGetAccountInfoResponse(e,h,d)}else f=On._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Do(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Do(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fC(e))return"Blackberry";if(pC(e))return"Webos";if(cC(e))return"Safari";if((e.includes("chrome/")||uC(e))&&!e.includes("edge/"))return"Chrome";if(hC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lC(t=Ot()){return/firefox\//i.test(t)}function cC(t=Ot()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uC(t=Ot()){return/crios\//i.test(t)}function dC(t=Ot()){return/iemobile/i.test(t)}function hC(t=Ot()){return/android/i.test(t)}function fC(t=Ot()){return/blackberry/i.test(t)}function pC(t=Ot()){return/webos/i.test(t)}function Fv(t=Ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Bj(t=Ot()){var e;return Fv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zj(){return i4()&&document.documentMode===10}function mC(t=Ot()){return Fv(t)||hC(t)||pC(t)||fC(t)||/windows phone/i.test(t)||dC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t,e=[]){let n;switch(t){case"Browser":n=q_(Ot());break;case"Worker":n=`${q_(Ot())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wj(t,e={}){return Ji(t,"GET","/v2/passwordPolicy",Xi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=6;class qj{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Kj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new G_(this),this.idTokenSubscription=new G_(this),this.beforeStateQueue=new Hj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Nr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Do.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ld(this,{idToken:e}),r=await On._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(an(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Cj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(an(this.app))return Promise.reject(Mr(this));const n=e?vt(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return an(this.app)?Promise.reject(Mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return an(this.app)?Promise.reject(Mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Wj(this),n=new qj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Us("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $j(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Nr(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[Nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(an(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&xj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function zs(t){return vt(t)}class G_{constructor(e){this.auth=e,this.observer=null,this.addObserver=d4(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Qj(t){Bh=t}function vC(t){return Bh.loadJS(t)}function Yj(){return Bh.recaptchaEnterpriseScript}function Xj(){return Bh.gapiScript}function Jj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Zj{constructor(){this.enterprise=new eF}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class eF{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const tF="recaptcha-enterprise",yC="NO_RECAPTCHA";class nF{constructor(e){this.type=tF,this.auth=zs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Dj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new Nj(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;z_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(yC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Zj().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&z_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Yj();l.length!==0&&(l+=a),vC(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Q_(t,e,n,r=!1,i=!1){const s=new nF(t);let o;if(i)o=yC;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Gm(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Q_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Q_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(t,e){const n=$s(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(bs(s,e??{}))return i;zn(i,"already-initialized")}return n.initialize({options:e})}function iF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function sF(t,e,n){const r=zs(t);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=wC(e),{host:o,port:a}=oF(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(bs(u,r.config.emulator)&&bs(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,ma(o)?(Nv(`${s}//${o}${l}`),Dv("Auth",!0)):aF()}function wC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oF(t){const e=wC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Y_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Y_(o)}}}function Y_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return kr("not implemented")}_getIdTokenResponse(e){return kr("not implemented")}_linkToIdToken(e,n){return kr("not implemented")}_getReauthenticationResolver(e){return kr("not implemented")}}async function lF(t,e){return Ji(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cF(t,e){return xc(t,"POST","/v1/accounts:signInWithPassword",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uF(t,e){return xc(t,"POST","/v1/accounts:signInWithEmailLink",Xi(t,e))}async function dF(t,e){return xc(t,"POST","/v1/accounts:signInWithEmailLink",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends Uv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Gl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Gl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gm(e,n,"signInWithPassword",cF);case"emailLink":return uF(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gm(e,r,"signUpPassword",lF);case"emailLink":return dF(e,{idToken:n,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(t,e){return xc(t,"POST","/v1/accounts:signInWithIdp",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF="http://localhost";class As extends Uv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new As(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ec(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new As(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Oo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Oo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Oo(e,n)}buildRequest(){const e={requestUri:hF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_c(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pF(t){const e=el(tl(t)).link,n=e?el(tl(e)).deep_link_id:null,r=el(tl(t)).deep_link_id;return(r?el(tl(r)).link:null)||r||n||e||t}class $v{constructor(e){var n,r,i,s,o,a;const l=el(tl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=fF((i=l.mode)!==null&&i!==void 0?i:null);re(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=pF(e);try{return new $v(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(){this.providerId=ga.PROVIDER_ID}static credential(e,n){return Gl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=$v.parseLink(n);return re(r,"argument-error"),Gl._fromEmailAndCode(e,r.code,r.tenantId)}}ga.PROVIDER_ID="password";ga.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ga.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends _C{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Ic{constructor(){super("facebook.com")}static credential(e){return As._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.FACEBOOK_SIGN_IN_METHOD="facebook.com";di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Ic{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return As._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return hi.credential(n,r)}catch{return null}}}hi.GOOGLE_SIGN_IN_METHOD="google.com";hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Ic{constructor(){super("github.com")}static credential(e){return As._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.GITHUB_SIGN_IN_METHOD="github.com";fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Ic{constructor(){super("twitter.com")}static credential(e,n){return As._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return pi.credential(n,r)}catch{return null}}}pi.TWITTER_SIGN_IN_METHOD="twitter.com";pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mF(t,e){return xc(t,"POST","/v1/accounts:signUp",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await On._fromIdTokenResponse(e,r,i),o=X_(r);return new Rs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=X_(r);return new Rs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function X_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends Hn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,jd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new jd(e,n,r,i)}}function EC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?jd._fromErrorAndOperation(t,s,e,r):s})}async function gF(t,e,n=!1){const r=await ql(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Rs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vF(t,e,n=!1){const{auth:r}=t;if(an(r.app))return Promise.reject(Mr(r));const i="reauthenticate";try{const s=await ql(t,EC(r,i,e,t),n);re(s.idToken,r,"internal-error");const o=jv(s.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),Rs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&zn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(t,e,n=!1){if(an(t.app))return Promise.reject(Mr(t));const r="signIn",i=await EC(t,r,e),s=await Rs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function yF(t,e){return TC(zs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xC(t){const e=zs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wF(t,e,n){if(an(t.app))return Promise.reject(Mr(t));const r=zs(t),o=await Gm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mF).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&xC(t),l}),a=await Rs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function _F(t,e,n){return an(t.app)?Promise.reject(Mr(t)):yF(vt(t),ga.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&xC(t),r})}function EF(t,e,n,r){return vt(t).onIdTokenChanged(e,n,r)}function TF(t,e,n){return vt(t).beforeAuthStateChanged(e,n)}function xF(t,e,n,r){return vt(t).onAuthStateChanged(e,n,r)}function IF(t){return vt(t).signOut()}const Fd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fd,"1"),this.storage.removeItem(Fd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=1e3,CF=10;class SC extends IC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);zj()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,CF):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},SF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}SC.type="LOCAL";const bF=SC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC extends IC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}CC.type="SESSION";const bC=CC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new zh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await AF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Bv("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return window}function PF(t){or().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(){return typeof or().WorkerGlobalScope<"u"&&typeof or().importScripts=="function"}async function kF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function DF(){return AC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="firebaseLocalStorageDb",OF=1,Ud="firebaseLocalStorage",PC="fbase_key";class Sc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hh(t,e){return t.transaction([Ud],e?"readwrite":"readonly").objectStore(Ud)}function MF(){const t=indexedDB.deleteDatabase(RC);return new Sc(t).toPromise()}function Qm(){const t=indexedDB.open(RC,OF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ud,{keyPath:PC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ud)?e(r):(r.close(),await MF(),e(await Qm()))})})}async function J_(t,e,n){const r=Hh(t,!0).put({[PC]:e,value:n});return new Sc(r).toPromise()}async function LF(t,e){const n=Hh(t,!1).get(e),r=await new Sc(n).toPromise();return r===void 0?null:r.value}function Z_(t,e){const n=Hh(t,!0).delete(e);return new Sc(n).toPromise()}const VF=800,jF=3;class kC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>jF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zh._getInstance(DF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await kF(),!this.activeServiceWorker)return;this.sender=new RF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qm();return await J_(e,Fd,"1"),await Z_(e,Fd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>J_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>LF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Z_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Hh(i,!1).getAll();return new Sc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kC.type="LOCAL";const FF=kC;new Tc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(t,e){return e?Nr(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv extends Uv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $F(t){return TC(t.auth,new zv(t),t.bypassAuthState)}function BF(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),vF(n,new zv(t),t.bypassAuthState)}async function zF(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),gF(n,new zv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $F;case"linkViaPopup":case"linkViaRedirect":return zF;case"reauthViaPopup":case"reauthViaRedirect":return BF;default:zn(this.auth,"internal-error")}}resolve(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=new Tc(2e3,1e4);class To extends NC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){Hr(this.filter.length===1,"Popup operations only handle one event");const e=Bv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HF.get())};e()}}To.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF="pendingRedirect",Gu=new Map;class KF extends NC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gu.get(this.auth._key());if(!e){try{const r=await qF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gu.set(this.auth._key(),e)}return this.bypassAuthState||Gu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qF(t,e){const n=YF(e),r=QF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function GF(t,e){Gu.set(t._key(),e)}function QF(t){return Nr(t._redirectPersistence)}function YF(t){return qu(WF,t.config.apiKey,t.name)}async function XF(t,e,n=!1){if(an(t.app))return Promise.reject(Mr(t));const r=zs(t),i=UF(r,e),o=await new KF(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF=10*60*1e3;class ZF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!e3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!DC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(sr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JF&&this.cachedEventUids.clear(),this.cachedEventUids.has(eE(e))}saveEventToCache(e){this.cachedEventUids.add(eE(e)),this.lastProcessedEventTime=Date.now()}}function eE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function DC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function e3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t3(t,e={}){return Ji(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r3=/^https?/;async function i3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await t3(t);for(const n of e)try{if(s3(n))return}catch{}zn(t,"unauthorized-domain")}function s3(t){const e=Km(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!r3.test(n))return!1;if(n3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=new Tc(3e4,6e4);function tE(){const t=or().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function a3(t){return new Promise((e,n)=>{var r,i,s;function o(){tE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tE(),n(sr(t,"network-request-failed"))},timeout:o3.get()})}if(!((i=(r=or().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=or().gapi)===null||s===void 0)&&s.load)o();else{const a=Jj("iframefcb");return or()[a]=()=>{gapi.load?o():n(sr(t,"network-request-failed"))},vC(`${Xj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Qu=null,e})}let Qu=null;function l3(t){return Qu=Qu||a3(t),Qu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=new Tc(5e3,15e3),u3="__/auth/iframe",d3="emulator/auth/iframe",h3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},f3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p3(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Vv(e,d3):`https://${t.config.authDomain}/${u3}`,r={apiKey:e.apiKey,appName:t.name,v:Bs},i=f3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${_c(r).slice(1)}`}async function m3(t){const e=await l3(t),n=or().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:p3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:h3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=sr(t,"network-request-failed"),a=or().setTimeout(()=>{s(o)},c3.get());function l(){or().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v3=500,y3=600,w3="_blank",_3="http://localhost";class nE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function E3(t,e,n,r=v3,i=y3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},g3),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ot().toLowerCase();n&&(a=uC(u)?w3:n),lC(u)&&(e=e||_3,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[y,T])=>`${h}${y}=${T},`,"");if(Bj(u)&&a!=="_self")return T3(e||"",a),new nE(null);const f=window.open(e||"",a,d);re(f,t,"popup-blocked");try{f.focus()}catch{}return new nE(f)}function T3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3="__/auth/handler",I3="emulator/auth/handler",S3=encodeURIComponent("fac");async function rE(t,e,n,r,i,s){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Bs,eventId:i};if(e instanceof _C){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",u4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Ic){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${S3}=${encodeURIComponent(l)}`:"";return`${C3(t)}?${_c(a).slice(1)}${u}`}function C3({config:t}){return t.emulator?Vv(t,I3):`https://${t.authDomain}/${x3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="webStorageSupport";class b3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bC,this._completeRedirectFn=XF,this._overrideRedirectResult=GF}async _openPopup(e,n,r,i){var s;Hr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await rE(e,n,r,Km(),i);return E3(e,o,Bv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await rE(e,n,r,Km(),i);return PF(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Hr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await m3(e),r=new ZF(e);return n.register("authEvent",i=>(re(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fp,{type:fp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[fp];o!==void 0&&n(!!o),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=i3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mC()||cC()||Fv()}}const A3=b3;var iE="@firebase/auth",sE="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function k3(t){Bn(new In("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gC(t)},u=new Gj(r,i,s,l);return iF(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Bn(new In("auth-internal",e=>{const n=zs(e.getProvider("auth").getImmediate());return(r=>new R3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zt(iE,sE,P3(t)),Zt(iE,sE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=5*60,D3=WS("authIdTokenMaxAge")||N3;let oE=null;const O3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>D3)return;const i=n==null?void 0:n.token;oE!==i&&(oE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function M3(t=$h()){const e=$s(t,"auth");if(e.isInitialized())return e.getImmediate();const n=rF(t,{popupRedirectResolver:A3,persistence:[FF,bF,bC]}),r=WS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=O3(s.toString());TF(n,o,()=>o(n.currentUser)),EF(n,a=>o(a))}}const i=BS("auth");return i&&sF(n,`http://${i}`),n}function L3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Qj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=sr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",L3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});k3("Browser");var aE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Di,OC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,S){function A(){}A.prototype=S.prototype,b.D=S.prototype,b.prototype=new A,b.prototype.constructor=b,b.C=function(R,N,D){for(var P=Array(arguments.length-2),H=2;H<arguments.length;H++)P[H-2]=arguments[H];return S.prototype[N].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,S,A){A||(A=0);var R=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)R[N]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(N=0;16>N;++N)R[N]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=b.g[0],A=b.g[1],N=b.g[2];var D=b.g[3],P=S+(D^A&(N^D))+R[0]+3614090360&4294967295;S=A+(P<<7&4294967295|P>>>25),P=D+(N^S&(A^N))+R[1]+3905402710&4294967295,D=S+(P<<12&4294967295|P>>>20),P=N+(A^D&(S^A))+R[2]+606105819&4294967295,N=D+(P<<17&4294967295|P>>>15),P=A+(S^N&(D^S))+R[3]+3250441966&4294967295,A=N+(P<<22&4294967295|P>>>10),P=S+(D^A&(N^D))+R[4]+4118548399&4294967295,S=A+(P<<7&4294967295|P>>>25),P=D+(N^S&(A^N))+R[5]+1200080426&4294967295,D=S+(P<<12&4294967295|P>>>20),P=N+(A^D&(S^A))+R[6]+2821735955&4294967295,N=D+(P<<17&4294967295|P>>>15),P=A+(S^N&(D^S))+R[7]+4249261313&4294967295,A=N+(P<<22&4294967295|P>>>10),P=S+(D^A&(N^D))+R[8]+1770035416&4294967295,S=A+(P<<7&4294967295|P>>>25),P=D+(N^S&(A^N))+R[9]+2336552879&4294967295,D=S+(P<<12&4294967295|P>>>20),P=N+(A^D&(S^A))+R[10]+4294925233&4294967295,N=D+(P<<17&4294967295|P>>>15),P=A+(S^N&(D^S))+R[11]+2304563134&4294967295,A=N+(P<<22&4294967295|P>>>10),P=S+(D^A&(N^D))+R[12]+1804603682&4294967295,S=A+(P<<7&4294967295|P>>>25),P=D+(N^S&(A^N))+R[13]+4254626195&4294967295,D=S+(P<<12&4294967295|P>>>20),P=N+(A^D&(S^A))+R[14]+2792965006&4294967295,N=D+(P<<17&4294967295|P>>>15),P=A+(S^N&(D^S))+R[15]+1236535329&4294967295,A=N+(P<<22&4294967295|P>>>10),P=S+(N^D&(A^N))+R[1]+4129170786&4294967295,S=A+(P<<5&4294967295|P>>>27),P=D+(A^N&(S^A))+R[6]+3225465664&4294967295,D=S+(P<<9&4294967295|P>>>23),P=N+(S^A&(D^S))+R[11]+643717713&4294967295,N=D+(P<<14&4294967295|P>>>18),P=A+(D^S&(N^D))+R[0]+3921069994&4294967295,A=N+(P<<20&4294967295|P>>>12),P=S+(N^D&(A^N))+R[5]+3593408605&4294967295,S=A+(P<<5&4294967295|P>>>27),P=D+(A^N&(S^A))+R[10]+38016083&4294967295,D=S+(P<<9&4294967295|P>>>23),P=N+(S^A&(D^S))+R[15]+3634488961&4294967295,N=D+(P<<14&4294967295|P>>>18),P=A+(D^S&(N^D))+R[4]+3889429448&4294967295,A=N+(P<<20&4294967295|P>>>12),P=S+(N^D&(A^N))+R[9]+568446438&4294967295,S=A+(P<<5&4294967295|P>>>27),P=D+(A^N&(S^A))+R[14]+3275163606&4294967295,D=S+(P<<9&4294967295|P>>>23),P=N+(S^A&(D^S))+R[3]+4107603335&4294967295,N=D+(P<<14&4294967295|P>>>18),P=A+(D^S&(N^D))+R[8]+1163531501&4294967295,A=N+(P<<20&4294967295|P>>>12),P=S+(N^D&(A^N))+R[13]+2850285829&4294967295,S=A+(P<<5&4294967295|P>>>27),P=D+(A^N&(S^A))+R[2]+4243563512&4294967295,D=S+(P<<9&4294967295|P>>>23),P=N+(S^A&(D^S))+R[7]+1735328473&4294967295,N=D+(P<<14&4294967295|P>>>18),P=A+(D^S&(N^D))+R[12]+2368359562&4294967295,A=N+(P<<20&4294967295|P>>>12),P=S+(A^N^D)+R[5]+4294588738&4294967295,S=A+(P<<4&4294967295|P>>>28),P=D+(S^A^N)+R[8]+2272392833&4294967295,D=S+(P<<11&4294967295|P>>>21),P=N+(D^S^A)+R[11]+1839030562&4294967295,N=D+(P<<16&4294967295|P>>>16),P=A+(N^D^S)+R[14]+4259657740&4294967295,A=N+(P<<23&4294967295|P>>>9),P=S+(A^N^D)+R[1]+2763975236&4294967295,S=A+(P<<4&4294967295|P>>>28),P=D+(S^A^N)+R[4]+1272893353&4294967295,D=S+(P<<11&4294967295|P>>>21),P=N+(D^S^A)+R[7]+4139469664&4294967295,N=D+(P<<16&4294967295|P>>>16),P=A+(N^D^S)+R[10]+3200236656&4294967295,A=N+(P<<23&4294967295|P>>>9),P=S+(A^N^D)+R[13]+681279174&4294967295,S=A+(P<<4&4294967295|P>>>28),P=D+(S^A^N)+R[0]+3936430074&4294967295,D=S+(P<<11&4294967295|P>>>21),P=N+(D^S^A)+R[3]+3572445317&4294967295,N=D+(P<<16&4294967295|P>>>16),P=A+(N^D^S)+R[6]+76029189&4294967295,A=N+(P<<23&4294967295|P>>>9),P=S+(A^N^D)+R[9]+3654602809&4294967295,S=A+(P<<4&4294967295|P>>>28),P=D+(S^A^N)+R[12]+3873151461&4294967295,D=S+(P<<11&4294967295|P>>>21),P=N+(D^S^A)+R[15]+530742520&4294967295,N=D+(P<<16&4294967295|P>>>16),P=A+(N^D^S)+R[2]+3299628645&4294967295,A=N+(P<<23&4294967295|P>>>9),P=S+(N^(A|~D))+R[0]+4096336452&4294967295,S=A+(P<<6&4294967295|P>>>26),P=D+(A^(S|~N))+R[7]+1126891415&4294967295,D=S+(P<<10&4294967295|P>>>22),P=N+(S^(D|~A))+R[14]+2878612391&4294967295,N=D+(P<<15&4294967295|P>>>17),P=A+(D^(N|~S))+R[5]+4237533241&4294967295,A=N+(P<<21&4294967295|P>>>11),P=S+(N^(A|~D))+R[12]+1700485571&4294967295,S=A+(P<<6&4294967295|P>>>26),P=D+(A^(S|~N))+R[3]+2399980690&4294967295,D=S+(P<<10&4294967295|P>>>22),P=N+(S^(D|~A))+R[10]+4293915773&4294967295,N=D+(P<<15&4294967295|P>>>17),P=A+(D^(N|~S))+R[1]+2240044497&4294967295,A=N+(P<<21&4294967295|P>>>11),P=S+(N^(A|~D))+R[8]+1873313359&4294967295,S=A+(P<<6&4294967295|P>>>26),P=D+(A^(S|~N))+R[15]+4264355552&4294967295,D=S+(P<<10&4294967295|P>>>22),P=N+(S^(D|~A))+R[6]+2734768916&4294967295,N=D+(P<<15&4294967295|P>>>17),P=A+(D^(N|~S))+R[13]+1309151649&4294967295,A=N+(P<<21&4294967295|P>>>11),P=S+(N^(A|~D))+R[4]+4149444226&4294967295,S=A+(P<<6&4294967295|P>>>26),P=D+(A^(S|~N))+R[11]+3174756917&4294967295,D=S+(P<<10&4294967295|P>>>22),P=N+(S^(D|~A))+R[2]+718787259&4294967295,N=D+(P<<15&4294967295|P>>>17),P=A+(D^(N|~S))+R[9]+3951481745&4294967295,b.g[0]=b.g[0]+S&4294967295,b.g[1]=b.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,b.g[2]=b.g[2]+N&4294967295,b.g[3]=b.g[3]+D&4294967295}r.prototype.u=function(b,S){S===void 0&&(S=b.length);for(var A=S-this.blockSize,R=this.B,N=this.h,D=0;D<S;){if(N==0)for(;D<=A;)i(this,b,D),D+=this.blockSize;if(typeof b=="string"){for(;D<S;)if(R[N++]=b.charCodeAt(D++),N==this.blockSize){i(this,R),N=0;break}}else for(;D<S;)if(R[N++]=b[D++],N==this.blockSize){i(this,R),N=0;break}}this.h=N,this.o+=S},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var S=1;S<b.length-8;++S)b[S]=0;var A=8*this.o;for(S=b.length-8;S<b.length;++S)b[S]=A&255,A/=256;for(this.u(b),b=Array(16),S=A=0;4>S;++S)for(var R=0;32>R;R+=8)b[A++]=this.g[S]>>>R&255;return b};function s(b,S){var A=a;return Object.prototype.hasOwnProperty.call(A,b)?A[b]:A[b]=S(b)}function o(b,S){this.h=S;for(var A=[],R=!0,N=b.length-1;0<=N;N--){var D=b[N]|0;R&&D==S||(A[N]=D,R=!1)}this.g=A}var a={};function l(b){return-128<=b&&128>b?s(b,function(S){return new o([S|0],0>S?-1:0)}):new o([b|0],0>b?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return f;if(0>b)return x(u(-b));for(var S=[],A=1,R=0;b>=A;R++)S[R]=b/A|0,A*=4294967296;return new o(S,0)}function d(b,S){if(b.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(b.charAt(0)=="-")return x(d(b.substring(1),S));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(S,8)),R=f,N=0;N<b.length;N+=8){var D=Math.min(8,b.length-N),P=parseInt(b.substring(N,N+D),S);8>D?(D=u(Math.pow(S,D)),R=R.j(D).add(u(P))):(R=R.j(A),R=R.add(u(P)))}return R}var f=l(0),h=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-x(this).m();for(var b=0,S=1,A=0;A<this.g.length;A++){var R=this.i(A);b+=(0<=R?R:4294967296+R)*S,S*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(T(this))return"0";if(w(this))return"-"+x(this).toString(b);for(var S=u(Math.pow(b,6)),A=this,R="";;){var N=k(A,S).g;A=E(A,N.j(S));var D=((0<A.g.length?A.g[0]:A.h)>>>0).toString(b);if(A=N,T(A))return D+R;for(;6>D.length;)D="0"+D;R=D+R}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function T(b){if(b.h!=0)return!1;for(var S=0;S<b.g.length;S++)if(b.g[S]!=0)return!1;return!0}function w(b){return b.h==-1}t.l=function(b){return b=E(this,b),w(b)?-1:T(b)?0:1};function x(b){for(var S=b.g.length,A=[],R=0;R<S;R++)A[R]=~b.g[R];return new o(A,~b.h).add(h)}t.abs=function(){return w(this)?x(this):this},t.add=function(b){for(var S=Math.max(this.g.length,b.g.length),A=[],R=0,N=0;N<=S;N++){var D=R+(this.i(N)&65535)+(b.i(N)&65535),P=(D>>>16)+(this.i(N)>>>16)+(b.i(N)>>>16);R=P>>>16,D&=65535,P&=65535,A[N]=P<<16|D}return new o(A,A[A.length-1]&-2147483648?-1:0)};function E(b,S){return b.add(x(S))}t.j=function(b){if(T(this)||T(b))return f;if(w(this))return w(b)?x(this).j(x(b)):x(x(this).j(b));if(w(b))return x(this.j(x(b)));if(0>this.l(y)&&0>b.l(y))return u(this.m()*b.m());for(var S=this.g.length+b.g.length,A=[],R=0;R<2*S;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var N=0;N<b.g.length;N++){var D=this.i(R)>>>16,P=this.i(R)&65535,H=b.i(N)>>>16,se=b.i(N)&65535;A[2*R+2*N]+=P*se,_(A,2*R+2*N),A[2*R+2*N+1]+=D*se,_(A,2*R+2*N+1),A[2*R+2*N+1]+=P*H,_(A,2*R+2*N+1),A[2*R+2*N+2]+=D*H,_(A,2*R+2*N+2)}for(R=0;R<S;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=S;R<2*S;R++)A[R]=0;return new o(A,0)};function _(b,S){for(;(b[S]&65535)!=b[S];)b[S+1]+=b[S]>>>16,b[S]&=65535,S++}function I(b,S){this.g=b,this.h=S}function k(b,S){if(T(S))throw Error("division by zero");if(T(b))return new I(f,f);if(w(b))return S=k(x(b),S),new I(x(S.g),x(S.h));if(w(S))return S=k(b,x(S)),new I(x(S.g),S.h);if(30<b.g.length){if(w(b)||w(S))throw Error("slowDivide_ only works with positive integers.");for(var A=h,R=S;0>=R.l(b);)A=O(A),R=O(R);var N=L(A,1),D=L(R,1);for(R=L(R,2),A=L(A,2);!T(R);){var P=D.add(R);0>=P.l(b)&&(N=N.add(A),D=P),R=L(R,1),A=L(A,1)}return S=E(b,N.j(S)),new I(N,S)}for(N=f;0<=b.l(S);){for(A=Math.max(1,Math.floor(b.m()/S.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),D=u(A),P=D.j(S);w(P)||0<P.l(b);)A-=R,D=u(A),P=D.j(S);T(D)&&(D=h),N=N.add(D),b=E(b,P)}return new I(N,b)}t.A=function(b){return k(this,b).h},t.and=function(b){for(var S=Math.max(this.g.length,b.g.length),A=[],R=0;R<S;R++)A[R]=this.i(R)&b.i(R);return new o(A,this.h&b.h)},t.or=function(b){for(var S=Math.max(this.g.length,b.g.length),A=[],R=0;R<S;R++)A[R]=this.i(R)|b.i(R);return new o(A,this.h|b.h)},t.xor=function(b){for(var S=Math.max(this.g.length,b.g.length),A=[],R=0;R<S;R++)A[R]=this.i(R)^b.i(R);return new o(A,this.h^b.h)};function O(b){for(var S=b.g.length+1,A=[],R=0;R<S;R++)A[R]=b.i(R)<<1|b.i(R-1)>>>31;return new o(A,b.h)}function L(b,S){var A=S>>5;S%=32;for(var R=b.g.length-A,N=[],D=0;D<R;D++)N[D]=0<S?b.i(D+A)>>>S|b.i(D+A+1)<<32-S:b.i(D+A);return new o(N,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,OC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Di=o}).apply(typeof aE<"u"?aE:typeof self<"u"?self:typeof window<"u"?window:{});var wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MC,nl,LC,Yu,Ym,VC,jC,FC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,v){return c==Array.prototype||c==Object.prototype||(c[p]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof wu=="object"&&wu];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var v=r;c=c.split(".");for(var C=0;C<c.length-1;C++){var M=c[C];if(!(M in v))break e;v=v[M]}c=c[c.length-1],C=v[c],p=p(C),p!=C&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var v=0,C=!1,M={next:function(){if(!C&&v<c.length){var j=v++;return{value:p(j,c[j]),done:!1}}return C=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,v){return c.call.apply(c.bind,arguments)}function f(c,p,v){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,C),c.apply(p,M)}}return function(){return c.apply(p,arguments)}}function h(c,p,v){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function y(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var C=v.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function T(c,p){function v(){}v.prototype=p.prototype,c.aa=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(C,M,j){for(var W=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)W[Ae-2]=arguments[Ae];return p.prototype[M].apply(C,W)}}function w(c){const p=c.length;if(0<p){const v=Array(p);for(let C=0;C<p;C++)v[C]=c[C];return v}return[]}function x(c,p){for(let v=1;v<arguments.length;v++){const C=arguments[v];if(l(C)){const M=c.length||0,j=C.length||0;c.length=M+j;for(let W=0;W<j;W++)c[M+W]=C[W]}else c.push(C)}}class E{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function _(c){return/^[\s\xa0]*$/.test(c)}function I(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function k(c){return k[" "](c),c}k[" "]=function(){};var O=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function L(c,p,v){for(const C in c)p.call(v,c[C],C,c)}function b(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function S(c){const p={};for(const v in c)p[v]=c[v];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(c,p){let v,C;for(let M=1;M<arguments.length;M++){C=arguments[M];for(v in C)c[v]=C[v];for(let j=0;j<A.length;j++)v=A[j],Object.prototype.hasOwnProperty.call(C,v)&&(c[v]=C[v])}}function N(c){var p=1;c=c.split(":");const v=[];for(;0<p&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function D(c){a.setTimeout(()=>{throw c},0)}function P(){var c=F;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class H{constructor(){this.h=this.g=null}add(p,v){const C=se.get();C.set(p,v),this.h?this.h.next=C:this.g=C,this.h=C}}var se=new E(()=>new J,c=>c.reset());class J{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,V=!1,F=new H,G=()=>{const c=a.Promise.resolve(void 0);oe=()=>{c.then(q)}};var q=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(v){D(v)}var p=se;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}V=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};a.addEventListener("test",v,p),a.removeEventListener("test",v,p)}catch{}return c}();function Ue(c,p){if(Z.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(O){e:{try{k(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement);this.relatedTarget=p,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ue.aa.h.call(this)}}T(Ue,Z);var pe={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),en=0;function Xe(c,p,v,C,M){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!C,this.ha=M,this.key=++en,this.da=this.fa=!1}function wt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function yr(c){this.src=c,this.g={},this.h=0}yr.prototype.add=function(c,p,v,C,M){var j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);var W=Sn(c,p,C,M);return-1<W?(p=c[W],v||(p.fa=!1)):(p=new Xe(p,this.src,j,!!C,M),p.fa=v,c.push(p)),p};function Kn(c,p){var v=p.type;if(v in c.g){var C=c.g[v],M=Array.prototype.indexOf.call(C,p,void 0),j;(j=0<=M)&&Array.prototype.splice.call(C,M,1),j&&(wt(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Sn(c,p,v,C){for(var M=0;M<c.length;++M){var j=c[M];if(!j.da&&j.listener==p&&j.capture==!!v&&j.ha==C)return M}return-1}var wr="closure_lm_"+(1e6*Math.random()|0),Gr={};function Cn(c,p,v,C,M){if(Array.isArray(p)){for(var j=0;j<p.length;j++)Cn(c,p[j],v,C,M);return null}return v=Sa(v),c&&c[Me]?c.K(p,v,u(C)?!!C.capture:!!C,M):Ta(c,p,v,!1,C,M)}function Ta(c,p,v,C,M,j){if(!p)throw Error("Invalid event type");var W=u(M)?!!M.capture:!!M,Ae=Qr(c);if(Ae||(c[wr]=Ae=new yr(c)),v=Ae.add(p,v,C,W,j),v.proxy)return v;if(C=xa(),v.proxy=C,C.src=c,C.listener=v,c.addEventListener)Ie||(M=W),M===void 0&&(M=!1),c.addEventListener(p.toString(),C,M);else if(c.attachEvent)c.attachEvent(Nc(p.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return v}function xa(){function c(v){return p.call(c.src,c.listener,v)}const p=uf;return c}function Je(c,p,v,C,M){if(Array.isArray(p))for(var j=0;j<p.length;j++)Je(c,p[j],v,C,M);else C=u(C)?!!C.capture:!!C,v=Sa(v),c&&c[Me]?(c=c.i,p=String(p).toString(),p in c.g&&(j=c.g[p],v=Sn(j,v,C,M),-1<v&&(wt(j[v]),Array.prototype.splice.call(j,v,1),j.length==0&&(delete c.g[p],c.h--)))):c&&(c=Qr(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Sn(p,v,C,M)),(v=-1<c?p[c]:null)&&qn(v))}function qn(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Me])Kn(p.i,c);else{var v=c.type,C=c.proxy;p.removeEventListener?p.removeEventListener(v,C,c.capture):p.detachEvent?p.detachEvent(Nc(v),C):p.addListener&&p.removeListener&&p.removeListener(C),(v=Qr(p))?(Kn(v,c),v.h==0&&(v.src=null,p[wr]=null)):wt(c)}}}function Nc(c){return c in Gr?Gr[c]:Gr[c]="on"+c}function uf(c,p){if(c.da)c=!0;else{p=new Ue(p,this);var v=c.listener,C=c.ha||c.src;c.fa&&qn(c),c=v.call(C,p)}return c}function Qr(c){return c=c[wr],c instanceof yr?c:null}var Ia="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sa(c){return typeof c=="function"?c:(c[Ia]||(c[Ia]=function(p){return c.handleEvent(p)}),c[Ia])}function Ze(){Q.call(this),this.i=new yr(this),this.M=this,this.F=null}T(Ze,Q),Ze.prototype[Me]=!0,Ze.prototype.removeEventListener=function(c,p,v,C){Je(this,c,p,v,C)};function $e(c,p){var v,C=c.F;if(C)for(v=[];C;C=C.F)v.push(C);if(c=c.M,C=p.type||p,typeof p=="string")p=new Z(p,c);else if(p instanceof Z)p.target=p.target||c;else{var M=p;p=new Z(C,c),R(p,M)}if(M=!0,v)for(var j=v.length-1;0<=j;j--){var W=p.g=v[j];M=Zi(W,C,!0,p)&&M}if(W=p.g=c,M=Zi(W,C,!0,p)&&M,M=Zi(W,C,!1,p)&&M,v)for(j=0;j<v.length;j++)W=p.g=v[j],M=Zi(W,C,!1,p)&&M}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var v=c.g[p],C=0;C<v.length;C++)wt(v[C]);delete c.g[p],c.h--}}this.F=null},Ze.prototype.K=function(c,p,v,C){return this.i.add(String(c),p,!1,v,C)},Ze.prototype.L=function(c,p,v,C){return this.i.add(String(c),p,!0,v,C)};function Zi(c,p,v,C){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,j=0;j<p.length;++j){var W=p[j];if(W&&!W.da&&W.capture==v){var Ae=W.listener,dt=W.ha||W.src;W.fa&&Kn(c.i,W),M=Ae.call(dt,C)!==!1&&M}}return M&&!C.defaultPrevented}function _r(c,p,v){if(typeof c=="function")v&&(c=h(c,v));else if(c&&typeof c.handleEvent=="function")c=h(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function Ca(c){c.g=_r(()=>{c.g=null,c.i&&(c.i=!1,Ca(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class df extends Q{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Ca(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(c){Q.call(this),this.h=c,this.g={}}T(Yr,Q);var ba=[];function Dc(c){L(c.g,function(p,v){this.g.hasOwnProperty(v)&&qn(p)},c),c.g={}}Yr.prototype.N=function(){Yr.aa.N.call(this),Dc(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var es=a.JSON.stringify,Gn=a.JSON.parse,hf=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ae(){}ae.prototype.h=null;function be(c){return c.h||(c.h=c.i())}function Se(){}var _t={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zt(){Z.call(this,"d")}T(zt,Z);function Xr(){Z.call(this,"c")}T(Xr,Z);var Er={},Xy=null;function Oc(){return Xy=Xy||new Ze}Er.La="serverreachability";function Jy(c){Z.call(this,Er.La,c)}T(Jy,Z);function Aa(c){const p=Oc();$e(p,new Jy(p))}Er.STAT_EVENT="statevent";function Zy(c,p){Z.call(this,Er.STAT_EVENT,c),this.stat=p}T(Zy,Z);function Mt(c){const p=Oc();$e(p,new Zy(p,c))}Er.Ma="timingevent";function e0(c,p){Z.call(this,Er.Ma,c),this.size=p}T(e0,Z);function Ra(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function Pa(){this.g=!0}Pa.prototype.xa=function(){this.g=!1};function MP(c,p,v,C,M,j){c.info(function(){if(c.g)if(j)for(var W="",Ae=j.split("&"),dt=0;dt<Ae.length;dt++){var Ee=Ae[dt].split("=");if(1<Ee.length){var Et=Ee[0];Ee=Ee[1];var Tt=Et.split("_");W=2<=Tt.length&&Tt[1]=="type"?W+(Et+"="+Ee+"&"):W+(Et+"=redacted&")}}else W=null;else W=j;return"XMLHTTP REQ ("+C+") [attempt "+M+"]: "+p+`
`+v+`
`+W})}function LP(c,p,v,C,M,j,W){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+M+"]: "+p+`
`+v+`
`+j+" "+W})}function Ys(c,p,v,C){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+jP(c,v)+(C?" "+C:"")})}function VP(c,p){c.info(function(){return"TIMEOUT: "+p})}Pa.prototype.info=function(){};function jP(c,p){if(!c.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var C=v[c];if(!(2>C.length)){var M=C[1];if(Array.isArray(M)&&!(1>M.length)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(var W=1;W<M.length;W++)M[W]=""}}}}return es(v)}catch{return p}}var Mc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},t0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ff;function Lc(){}T(Lc,ae),Lc.prototype.g=function(){return new XMLHttpRequest},Lc.prototype.i=function(){return{}},ff=new Lc;function Jr(c,p,v,C){this.j=c,this.i=p,this.l=v,this.R=C||1,this.U=new Yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new n0}function n0(){this.i=null,this.g="",this.h=!1}var r0={},pf={};function mf(c,p,v){c.L=1,c.v=Uc(Tr(p)),c.m=v,c.P=!0,i0(c,null)}function i0(c,p){c.F=Date.now(),Vc(c),c.A=Tr(c.v);var v=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),y0(v.i,"t",C),c.C=0,v=c.j.J,c.h=new n0,c.g=L0(c.j,v?p:null,!c.m),0<c.O&&(c.M=new df(h(c.Y,c,c.g),c.O)),p=c.U,v=c.g,C=c.ca;var M="readystatechange";Array.isArray(M)||(M&&(ba[0]=M.toString()),M=ba);for(var j=0;j<M.length;j++){var W=Cn(v,M[j],C||p.handleEvent,!1,p.h||p);if(!W)break;p.g[W.key]=W}p=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Aa(),MP(c.i,c.u,c.A,c.l,c.R,c.m)}Jr.prototype.ca=function(c){c=c.target;const p=this.M;p&&xr(c)==3?p.j():this.Y(c)},Jr.prototype.Y=function(c){try{if(c==this.g)e:{const Tt=xr(this.g);var p=this.g.Ba();const Zs=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||S0(this.g)))){this.J||Tt!=4||p==7||(p==8||0>=Zs?Aa(3):Aa(2)),gf(this);var v=this.g.Z();this.X=v;t:if(s0(this)){var C=S0(this.g);c="";var M=C.length,j=xr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ts(this),ka(this);var W="";break t}this.h.i=new a.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,c+=this.h.i.decode(C[p],{stream:!(j&&p==M-1)});C.length=0,this.h.g+=c,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=v==200,LP(this.i,this.u,this.A,this.l,this.R,Tt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ae,dt=this.g;if((Ae=dt.g?dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Ae)){var Ee=Ae;break t}}Ee=null}if(v=Ee)Ys(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vf(this,v);else{this.o=!1,this.s=3,Mt(12),ts(this),ka(this);break e}}if(this.P){v=!0;let bn;for(;!this.J&&this.C<W.length;)if(bn=FP(this,W),bn==pf){Tt==4&&(this.s=4,Mt(14),v=!1),Ys(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==r0){this.s=4,Mt(15),Ys(this.i,this.l,W,"[Invalid Chunk]"),v=!1;break}else Ys(this.i,this.l,bn,null),vf(this,bn);if(s0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||W.length!=0||this.h.h||(this.s=1,Mt(16),v=!1),this.o=this.o&&v,!v)Ys(this.i,this.l,W,"[Invalid Chunked Response]"),ts(this),ka(this);else if(0<W.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),xf(Et),Et.M=!0,Mt(11))}}else Ys(this.i,this.l,W,null),vf(this,W);Tt==4&&ts(this),this.o&&!this.J&&(Tt==4?N0(this.j,this):(this.o=!1,Vc(this)))}else nk(this.g),v==400&&0<W.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),ts(this),ka(this)}}}catch{}finally{}};function s0(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function FP(c,p){var v=c.C,C=p.indexOf(`
`,v);return C==-1?pf:(v=Number(p.substring(v,C)),isNaN(v)?r0:(C+=1,C+v>p.length?pf:(p=p.slice(C,C+v),c.C=C+v,p)))}Jr.prototype.cancel=function(){this.J=!0,ts(this)};function Vc(c){c.S=Date.now()+c.I,o0(c,c.I)}function o0(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ra(h(c.ba,c),p)}function gf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Jr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(VP(this.i,this.A),this.L!=2&&(Aa(),Mt(17)),ts(this),this.s=2,ka(this)):o0(this,this.S-c)};function ka(c){c.j.G==0||c.J||N0(c.j,c)}function ts(c){gf(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Dc(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function vf(c,p){try{var v=c.j;if(v.G!=0&&(v.g==c||yf(v.h,c))){if(!c.K&&yf(v.h,c)&&v.G==3){try{var C=v.Da.g.parse(p)}catch{C=null}if(Array.isArray(C)&&C.length==3){var M=C;if(M[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Kc(v),Hc(v);else break e;Tf(v),Mt(18)}}else v.za=M[1],0<v.za-v.T&&37500>M[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ra(h(v.Za,v),6e3));if(1>=c0(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else rs(v,11)}else if((c.K||v.g==c)&&Kc(v),!_(p))for(M=v.Da.g.parse(p),p=0;p<M.length;p++){let Ee=M[p];if(v.T=Ee[0],Ee=Ee[1],v.G==2)if(Ee[0]=="c"){v.K=Ee[1],v.ia=Ee[2];const Et=Ee[3];Et!=null&&(v.la=Et,v.j.info("VER="+v.la));const Tt=Ee[4];Tt!=null&&(v.Aa=Tt,v.j.info("SVER="+v.Aa));const Zs=Ee[5];Zs!=null&&typeof Zs=="number"&&0<Zs&&(C=1.5*Zs,v.L=C,v.j.info("backChannelRequestTimeoutMs_="+C)),C=v;const bn=c.g;if(bn){const Gc=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gc){var j=C.h;j.g||Gc.indexOf("spdy")==-1&&Gc.indexOf("quic")==-1&&Gc.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(wf(j,j.h),j.h=null))}if(C.D){const If=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;If&&(C.ya=If,Pe(C.I,C.D,If))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),C=v;var W=c;if(C.qa=M0(C,C.J?C.ia:null,C.W),W.K){u0(C.h,W);var Ae=W,dt=C.L;dt&&(Ae.I=dt),Ae.B&&(gf(Ae),Vc(Ae)),C.g=W}else P0(C);0<v.i.length&&Wc(v)}else Ee[0]!="stop"&&Ee[0]!="close"||rs(v,7);else v.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?rs(v,7):Ef(v):Ee[0]!="noop"&&v.l&&v.l.ta(Ee),v.v=0)}}Aa(4)}catch{}}var UP=class{constructor(c,p){this.g=c,this.map=p}};function a0(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function l0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function c0(c){return c.h?1:c.g?c.g.size:0}function yf(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function wf(c,p){c.g?c.g.add(p):c.h=p}function u0(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}a0.prototype.cancel=function(){if(this.i=d0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function d0(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.D);return p}return w(c.i)}function $P(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],v=c.length,C=0;C<v;C++)p.push(c[C]);return p}p=[],v=0;for(C in c)p[v++]=c[C];return p}function BP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var v=0;v<c;v++)p.push(v);return p}p=[],v=0;for(const C in c)p[v++]=C;return p}}}function h0(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var v=BP(c),C=$P(c),M=C.length,j=0;j<M;j++)p.call(void 0,C[j],v&&v[j],c)}var f0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zP(c,p){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var C=c[v].indexOf("="),M=null;if(0<=C){var j=c[v].substring(0,C);M=c[v].substring(C+1)}else j=c[v];p(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function ns(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ns){this.h=c.h,jc(this,c.j),this.o=c.o,this.g=c.g,Fc(this,c.s),this.l=c.l;var p=c.i,v=new Oa;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),p0(this,v),this.m=c.m}else c&&(p=String(c).match(f0))?(this.h=!1,jc(this,p[1]||"",!0),this.o=Na(p[2]||""),this.g=Na(p[3]||"",!0),Fc(this,p[4]),this.l=Na(p[5]||"",!0),p0(this,p[6]||"",!0),this.m=Na(p[7]||"")):(this.h=!1,this.i=new Oa(null,this.h))}ns.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Da(p,m0,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Da(p,m0,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Da(v,v.charAt(0)=="/"?KP:WP,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Da(v,GP)),c.join("")};function Tr(c){return new ns(c)}function jc(c,p,v){c.j=v?Na(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Fc(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function p0(c,p,v){p instanceof Oa?(c.i=p,QP(c.i,c.h)):(v||(p=Da(p,qP)),c.i=new Oa(p,c.h))}function Pe(c,p,v){c.i.set(p,v)}function Uc(c){return Pe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Na(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Da(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,HP),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function HP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var m0=/[#\/\?@]/g,WP=/[#\?:]/g,KP=/[#\?]/g,qP=/[#\?@]/g,GP=/#/g;function Oa(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Zr(c){c.g||(c.g=new Map,c.h=0,c.i&&zP(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}t=Oa.prototype,t.add=function(c,p){Zr(this),this.i=null,c=Xs(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function g0(c,p){Zr(c),p=Xs(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function v0(c,p){return Zr(c),p=Xs(c,p),c.g.has(p)}t.forEach=function(c,p){Zr(this),this.g.forEach(function(v,C){v.forEach(function(M){c.call(p,M,C,this)},this)},this)},t.na=function(){Zr(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let C=0;C<p.length;C++){const M=c[C];for(let j=0;j<M.length;j++)v.push(p[C])}return v},t.V=function(c){Zr(this);let p=[];if(typeof c=="string")v0(this,c)&&(p=p.concat(this.g.get(Xs(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)p=p.concat(c[v])}return p},t.set=function(c,p){return Zr(this),this.i=null,c=Xs(this,c),v0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function y0(c,p,v){g0(c,p),0<v.length&&(c.i=null,c.g.set(Xs(c,p),w(v)),c.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var C=p[v];const j=encodeURIComponent(String(C)),W=this.V(C);for(C=0;C<W.length;C++){var M=j;W[C]!==""&&(M+="="+encodeURIComponent(String(W[C]))),c.push(M)}}return this.i=c.join("&")};function Xs(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function QP(c,p){p&&!c.j&&(Zr(c),c.i=null,c.g.forEach(function(v,C){var M=C.toLowerCase();C!=M&&(g0(this,C),y0(this,M,v))},c)),c.j=p}function YP(c,p){const v=new Pa;if(a.Image){const C=new Image;C.onload=y(ei,v,"TestLoadImage: loaded",!0,p,C),C.onerror=y(ei,v,"TestLoadImage: error",!1,p,C),C.onabort=y(ei,v,"TestLoadImage: abort",!1,p,C),C.ontimeout=y(ei,v,"TestLoadImage: timeout",!1,p,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else p(!1)}function XP(c,p){const v=new Pa,C=new AbortController,M=setTimeout(()=>{C.abort(),ei(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:C.signal}).then(j=>{clearTimeout(M),j.ok?ei(v,"TestPingServer: ok",!0,p):ei(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),ei(v,"TestPingServer: error",!1,p)})}function ei(c,p,v,C,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),C(v)}catch{}}function JP(){this.g=new hf}function ZP(c,p,v){const C=v||"";try{h0(c,function(M,j){let W=M;u(M)&&(W=es(M)),p.push(C+j+"="+encodeURIComponent(W))})}catch(M){throw p.push(C+"type="+encodeURIComponent("_badmap")),M}}function $c(c){this.l=c.Ub||null,this.j=c.eb||!1}T($c,ae),$c.prototype.g=function(){return new Bc(this.l,this.j)},$c.prototype.i=function(c){return function(){return c}}({});function Bc(c,p){Ze.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Bc,Ze),t=Bc.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,La(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ma(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,La(this)),this.g&&(this.readyState=3,La(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;w0(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function w0(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Ma(this):La(this),this.readyState==3&&w0(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ma(this))},t.Qa=function(c){this.g&&(this.response=c,Ma(this))},t.ga=function(){this.g&&Ma(this)};function Ma(c){c.readyState=4,c.l=null,c.j=null,c.v=null,La(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function La(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Bc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function _0(c){let p="";return L(c,function(v,C){p+=C,p+=":",p+=v,p+=`\r
`}),p}function _f(c,p,v){e:{for(C in v){var C=!1;break e}C=!0}C||(v=_0(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Pe(c,p,v))}function Be(c){Ze.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Be,Ze);var ek=/^https?$/i,tk=["POST","PUT"];t=Be.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,v,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ff.g(),this.v=this.o?be(this.o):be(ff),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(j){E0(this,j);return}if(c=v||"",v=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var M in C)v.set(M,C[M]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const j of C.keys())v.set(j,C.get(j));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),M=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(tk,p,void 0))||C||M||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of v)this.g.setRequestHeader(j,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{I0(this),this.u=!0,this.g.send(c),this.u=!1}catch(j){E0(this,j)}};function E0(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,T0(c),zc(c)}function T0(c){c.A||(c.A=!0,$e(c,"complete"),$e(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,$e(this,"complete"),$e(this,"abort"),zc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zc(this,!0)),Be.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?x0(this):this.bb())},t.bb=function(){x0(this)};function x0(c){if(c.h&&typeof o<"u"&&(!c.v[1]||xr(c)!=4||c.Z()!=2)){if(c.u&&xr(c)==4)_r(c.Ea,0,c);else if($e(c,"readystatechange"),xr(c)==4){c.h=!1;try{const W=c.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var C;if(C=W===0){var M=String(c.D).match(f0)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),C=!ek.test(M?M.toLowerCase():"")}v=C}if(v)$e(c,"complete"),$e(c,"success");else{c.m=6;try{var j=2<xr(c)?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.Z()+"]",T0(c)}}finally{zc(c)}}}}function zc(c,p){if(c.g){I0(c);const v=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||$e(c,"ready");try{v.onreadystatechange=C}catch{}}}function I0(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function xr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<xr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Gn(p)}};function S0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function nk(c){const p={};c=(c.g&&2<=xr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(_(c[C]))continue;var v=N(c[C]);const M=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=p[M]||[];p[M]=j,j.push(v)}b(p,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Va(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function C0(c){this.Aa=0,this.i=[],this.j=new Pa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Va("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Va("baseRetryDelayMs",5e3,c),this.cb=Va("retryDelaySeedMs",1e4,c),this.Wa=Va("forwardChannelMaxRetries",2,c),this.wa=Va("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new a0(c&&c.concurrentRequestLimit),this.Da=new JP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=C0.prototype,t.la=8,t.G=1,t.connect=function(c,p,v,C){Mt(0),this.W=c,this.H=p||{},v&&C!==void 0&&(this.H.OSID=v,this.H.OAID=C),this.F=this.X,this.I=M0(this,null,this.W),Wc(this)};function Ef(c){if(b0(c),c.G==3){var p=c.U++,v=Tr(c.I);if(Pe(v,"SID",c.K),Pe(v,"RID",p),Pe(v,"TYPE","terminate"),ja(c,v),p=new Jr(c,c.j,p),p.L=2,p.v=Uc(Tr(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=p.v,v=!0),v||(p.g=L0(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Vc(p)}O0(c)}function Hc(c){c.g&&(xf(c),c.g.cancel(),c.g=null)}function b0(c){Hc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Kc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Wc(c){if(!l0(c.h)&&!c.s){c.s=!0;var p=c.Ga;oe||G(),V||(oe(),V=!0),F.add(p,c),c.B=0}}function rk(c,p){return c0(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ra(h(c.Ga,c,p),D0(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const M=new Jr(this,this.j,c);let j=this.o;if(this.S&&(j?(j=S(j),R(j,this.S)):j=this.S),this.m!==null||this.O||(M.H=j,j=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var C=this.i[v];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(p+=C,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=R0(this,M,p),v=Tr(this.I),Pe(v,"RID",c),Pe(v,"CVER",22),this.D&&Pe(v,"X-HTTP-Session-Id",this.D),ja(this,v),j&&(this.O?p="headers="+encodeURIComponent(String(_0(j)))+"&"+p:this.m&&_f(v,this.m,j)),wf(this.h,M),this.Ua&&Pe(v,"TYPE","init"),this.P?(Pe(v,"$req",p),Pe(v,"SID","null"),M.T=!0,mf(M,v,null)):mf(M,v,p),this.G=2}}else this.G==3&&(c?A0(this,c):this.i.length==0||l0(this.h)||A0(this))};function A0(c,p){var v;p?v=p.l:v=c.U++;const C=Tr(c.I);Pe(C,"SID",c.K),Pe(C,"RID",v),Pe(C,"AID",c.T),ja(c,C),c.m&&c.o&&_f(C,c.m,c.o),v=new Jr(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),p&&(c.i=p.D.concat(c.i)),p=R0(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),wf(c.h,v),mf(v,C,p)}function ja(c,p){c.H&&L(c.H,function(v,C){Pe(p,C,v)}),c.l&&h0({},function(v,C){Pe(p,C,v)})}function R0(c,p,v){v=Math.min(c.i.length,v);var C=c.l?h(c.l.Na,c.l,c):null;e:{var M=c.i;let j=-1;for(;;){const W=["count="+v];j==-1?0<v?(j=M[0].g,W.push("ofs="+j)):j=0:W.push("ofs="+j);let Ae=!0;for(let dt=0;dt<v;dt++){let Ee=M[dt].g;const Et=M[dt].map;if(Ee-=j,0>Ee)j=Math.max(0,M[dt].g-100),Ae=!1;else try{ZP(Et,W,"req"+Ee+"_")}catch{C&&C(Et)}}if(Ae){C=W.join("&");break e}}}return c=c.i.splice(0,v),p.D=c,C}function P0(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;oe||G(),V||(oe(),V=!0),F.add(p,c),c.v=0}}function Tf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ra(h(c.Fa,c),D0(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,k0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ra(h(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),Hc(this),k0(this))};function xf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function k0(c){c.g=new Jr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Tr(c.qa);Pe(p,"RID","rpc"),Pe(p,"SID",c.K),Pe(p,"AID",c.T),Pe(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Pe(p,"TO",c.ja),Pe(p,"TYPE","xmlhttp"),ja(c,p),c.m&&c.o&&_f(p,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Uc(Tr(p)),v.m=null,v.P=!0,i0(v,c)}t.Za=function(){this.C!=null&&(this.C=null,Hc(this),Tf(this),Mt(19))};function Kc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function N0(c,p){var v=null;if(c.g==p){Kc(c),xf(c),c.g=null;var C=2}else if(yf(c.h,p))v=p.D,u0(c.h,p),C=1;else return;if(c.G!=0){if(p.o)if(C==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var M=c.B;C=Oc(),$e(C,new e0(C,v)),Wc(c)}else P0(c);else if(M=p.s,M==3||M==0&&0<p.X||!(C==1&&rk(c,p)||C==2&&Tf(c)))switch(v&&0<v.length&&(p=c.h,p.i=p.i.concat(v)),M){case 1:rs(c,5);break;case 4:rs(c,10);break;case 3:rs(c,6);break;default:rs(c,2)}}}function D0(c,p){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*p}function rs(c,p){if(c.j.info("Error code "+p),p==2){var v=h(c.fb,c),C=c.Xa;const M=!C;C=new ns(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||jc(C,"https"),Uc(C),M?YP(C.toString(),v):XP(C.toString(),v)}else Mt(2);c.G=0,c.l&&c.l.sa(p),O0(c),b0(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function O0(c){if(c.G=0,c.ka=[],c.l){const p=d0(c.h);(p.length!=0||c.i.length!=0)&&(x(c.ka,p),x(c.ka,c.i),c.h.i.length=0,w(c.i),c.i.length=0),c.l.ra()}}function M0(c,p,v){var C=v instanceof ns?Tr(v):new ns(v);if(C.g!="")p&&(C.g=p+"."+C.g),Fc(C,C.s);else{var M=a.location;C=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var j=new ns(null);C&&jc(j,C),p&&(j.g=p),M&&Fc(j,M),v&&(j.l=v),C=j}return v=c.D,p=c.ya,v&&p&&Pe(C,v,p),Pe(C,"VER",c.la),ja(c,C),C}function L0(c,p,v){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Be(new $c({eb:v})):new Be(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function V0(){}t=V0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function qc(){}qc.prototype.g=function(c,p){return new tn(c,p)};function tn(c,p){Ze.call(this),this.g=new C0(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!_(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!_(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Js(this)}T(tn,Ze),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Ef(this.g)},tn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=es(c),c=v);p.i.push(new UP(p.Ya++,c)),p.G==3&&Wc(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,Ef(this.g),delete this.g,tn.aa.N.call(this)};function j0(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}T(j0,zt);function F0(){Xr.call(this),this.status=1}T(F0,Xr);function Js(c){this.g=c}T(Js,V0),Js.prototype.ua=function(){$e(this.g,"a")},Js.prototype.ta=function(c){$e(this.g,new j0(c))},Js.prototype.sa=function(c){$e(this.g,new F0)},Js.prototype.ra=function(){$e(this.g,"b")},qc.prototype.createWebChannel=qc.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,FC=function(){return new qc},jC=function(){return Oc()},VC=Er,Ym={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mc.NO_ERROR=0,Mc.TIMEOUT=8,Mc.HTTP_ERROR=6,Yu=Mc,t0.COMPLETE="complete",LC=t0,Se.EventType=_t,_t.OPEN="a",_t.CLOSE="b",_t.ERROR="c",_t.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,nl=Se,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,MC=Be}).apply(typeof wu<"u"?wu:typeof self<"u"?self:typeof window<"u"?window:{});const lE="@firebase/firestore",cE="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}At.UNAUTHENTICATED=new At(null),At.GOOGLE_CREDENTIALS=new At("google-credentials-uid"),At.FIRST_PARTY=new At("first-party-uid"),At.MOCK_USER=new At("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let va="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new Ov("@firebase/firestore");function so(){return Ps.logLevel}function Y(t,...e){if(Ps.logLevel<=ge.DEBUG){const n=e.map(Hv);Ps.debug(`Firestore (${va}): ${t}`,...n)}}function Wr(t,...e){if(Ps.logLevel<=ge.ERROR){const n=e.map(Hv);Ps.error(`Firestore (${va}): ${t}`,...n)}}function ta(t,...e){if(Ps.logLevel<=ge.WARN){const n=e.map(Hv);Ps.warn(`Firestore (${va}): ${t}`,...n)}}function Hv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,UC(t,r,n)}function UC(t,e,n){let r=`FIRESTORE (${va}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Wr(r),new Error(r)}function xe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||UC(e,i,r)}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Hn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(At.UNAUTHENTICATED))}shutdown(){}}class j3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class F3{constructor(e){this.t=e,this.currentUser=At.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Oi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Oi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string",31837,{l:r}),new $C(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string",2055,{h:e}),new At(e)}}class U3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=At.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new U3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(At.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,an(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xe(this.o===void 0,3512);const r=s=>{s.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new uE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new uE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=z3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function Xm(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return he(r,i);{const s=BC(),o=H3(s.encode(dE(t,n)),s.encode(dE(e,n)));return o!==0?o:he(r,i)}}n+=r>65535?2:1}return he(t.length,e.length)}function dE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function H3(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return he(t[n],e[n]);return he(t.length,e.length)}function na(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=-62135596800,fE=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*fE);return new ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hE)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fE}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-hE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static fromTimestamp(e){return new le(e)}static min(){return new le(new ot(0,0))}static max(){return new le(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="__name__";class Xn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ie(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Xn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return he(e.length,n.length)}static compareSegments(e,n){const r=Xn.isNumericId(e),i=Xn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Xn.extractNumericId(e).compare(Xn.extractNumericId(n)):Xm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Di.fromString(e.substring(4,e.length-2))}}class We extends Xn{construct(e,n,r){return new We(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new We(n)}static emptyPath(){return new We([])}}const W3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pt extends Xn{construct(e,n,r){return new pt(e,n,r)}static isValidIdentifier(e){return W3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pE}static keyField(){return new pt([pE])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new te(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new te(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new te(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pt(n)}static emptyPath(){return new pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(We.fromString(e))}static fromName(e){return new ne(We.fromString(e).popFirst(5))}static empty(){return new ne(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return We.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new We(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function K3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new $i(i,ne.empty(),e)}function q3(t){return new $i(t.readTime,t.key,Ql)}class $i{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $i(le.min(),ne.empty(),Ql)}static max(){return new $i(le.max(),ne.empty(),Ql)}}function G3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==Q3)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function X3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Wh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=-1;function Kh(t){return t==null}function $d(t){return t===0&&1/t==-1/0}function J3(t){return typeof t=="number"&&Number.isInteger(t)&&!$d(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="";function Z3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=mE(e)),e=e5(t.get(n),e);return mE(e)}function e5(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case HC:n+="";break;default:n+=s}}return n}function mE(t){return t+HC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){this.comparator=e,this.root=n||ft.EMPTY}insert(e,n){return new Fe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ft.BLACK,null,null))}remove(e){return new Fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _u(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _u(this.root,e,this.comparator,!1)}getReverseIterator(){return new _u(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _u(this.root,e,this.comparator,!0)}}class _u{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ft{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ft.RED,this.left=i??ft.EMPTY,this.right=s??ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ft(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ft.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ie(27949);return e+(this.isRed()?0:1)}}ft.EMPTY=null,ft.RED=!0,ft.BLACK=!1;ft.EMPTY=new class{constructor(){this.size=0}get key(){throw ie(57766)}get value(){throw ie(16141)}get color(){throw ie(16727)}get left(){throw ie(29726)}get right(){throw ie(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vE(this.data.getIterator())}getIteratorFrom(e){return new vE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof at)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new at(this.comparator);return n.data=e,n}}class vE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new at(pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return na(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new KC("Invalid base64 string: "+s):s}}(e);return new yt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const t5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bi(t){if(xe(!!t,39018),typeof t=="string"){let e=0;const n=t5.exec(t);if(xe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zi(t){return typeof t=="string"?yt.fromBase64String(t):yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="server_timestamp",GC="__type__",QC="__previous_value__",YC="__local_write_time__";function Kv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[GC])===null||n===void 0?void 0:n.stringValue)===qC}function qh(t){const e=t.mapValue.fields[QC];return Kv(e)?qh(e):e}function Yl(t){const e=Bi(t.mapValue.fields[YC].timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e,n,r,i,s,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const Bd="(default)";class Xl{constructor(e,n){this.projectId=e,this.database=n||Bd}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database===Bd}isEqual(e){return e instanceof Xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="__type__",JC="__max__",Eu={mapValue:{fields:{__type__:{stringValue:JC}}}},ZC="__vector__",zd="value";function Hi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kv(t)?4:i5(t)?9007199254740991:r5(t)?10:11:ie(28295,{value:t})}function hr(t,e){if(t===e)return!0;const n=Hi(t);if(n!==Hi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yl(t).isEqual(Yl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Bi(i.timestampValue),a=Bi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return zi(i.bytesValue).isEqual(zi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ge(i.geoPointValue.latitude)===Ge(s.geoPointValue.latitude)&&Ge(i.geoPointValue.longitude)===Ge(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ge(i.integerValue)===Ge(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ge(i.doubleValue),a=Ge(s.doubleValue);return o===a?$d(o)===$d(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return na(t.arrayValue.values||[],e.arrayValue.values||[],hr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(gE(o)!==gE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!hr(o[l],a[l])))return!1;return!0}(t,e);default:return ie(52216,{left:t})}}function Jl(t,e){return(t.values||[]).find(n=>hr(n,e))!==void 0}function ra(t,e){if(t===e)return 0;const n=Hi(t),r=Hi(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ge(s.integerValue||s.doubleValue),l=Ge(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return yE(t.timestampValue,e.timestampValue);case 4:return yE(Yl(t),Yl(e));case 5:return Xm(t.stringValue,e.stringValue);case 6:return function(s,o){const a=zi(s),l=zi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=he(a[u],l[u]);if(d!==0)return d}return he(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=he(Ge(s.latitude),Ge(o.latitude));return a!==0?a:he(Ge(s.longitude),Ge(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return wE(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const f=s.fields||{},h=o.fields||{},y=(a=f[zd])===null||a===void 0?void 0:a.arrayValue,T=(l=h[zd])===null||l===void 0?void 0:l.arrayValue,w=he(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((d=T==null?void 0:T.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:wE(y,T)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Eu.mapValue&&o===Eu.mapValue)return 0;if(s===Eu.mapValue)return 1;if(o===Eu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=Xm(l[f],d[f]);if(h!==0)return h;const y=ra(a[l[f]],u[d[f]]);if(y!==0)return y}return he(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ie(23264,{Pe:n})}}function yE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=Bi(t),r=Bi(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function wE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ra(n[i],r[i]);if(s)return s}return he(n.length,r.length)}function ia(t){return Jm(t)}function Jm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Bi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Jm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Jm(n.fields[o])}`;return i+"}"}(t.mapValue):ie(61005,{value:t})}function Xu(t){switch(Hi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qh(t);return e?16+Xu(e):16;case 5:return 2*t.stringValue.length;case 6:return zi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Xu(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Hs(r.fields,(s,o)=>{i+=s.length+Xu(o)}),i}(t.mapValue);default:throw ie(13486,{value:t})}}function Zm(t){return!!t&&"integerValue"in t}function qv(t){return!!t&&"arrayValue"in t}function _E(t){return!!t&&"nullValue"in t}function EE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ju(t){return!!t&&"mapValue"in t}function r5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[XC])===null||n===void 0?void 0:n.stringValue)===ZC}function yl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Hs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function i5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===JC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ju(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yl(n)}setAll(e){let n=pt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=yl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ju(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ju(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new vn(yl(this.value))}}function eb(t){const e=[];return Hs(t.fields,(n,r)=>{const i=new pt([n]);if(Ju(r)){const s=eb(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Pt(e,0,le.min(),le.min(),le.min(),vn.empty(),0)}static newFoundDocument(e,n,r,i){return new Pt(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new Pt(e,2,n,le.min(),le.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new Pt(e,3,n,le.min(),le.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n){this.position=e,this.inclusive=n}}function TE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=ra(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function xE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n="asc"){this.field=e,this.dir=n}}function s5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{}class it extends tb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new a5(e,n,r):n==="array-contains"?new u5(e,r):n==="in"?new d5(e,r):n==="not-in"?new h5(e,r):n==="array-contains-any"?new f5(e,r):new it(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new l5(e,r):new c5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ra(n,this.value)):n!==null&&Hi(this.value)===Hi(n)&&this.matchesComparison(ra(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends tb{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new fr(e,n)}matches(e){return nb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function nb(t){return t.op==="and"}function rb(t){return o5(t)&&nb(t)}function o5(t){for(const e of t.filters)if(e instanceof fr)return!1;return!0}function eg(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+ia(t.value);if(rb(t))return t.filters.map(e=>eg(e)).join(",");{const e=t.filters.map(n=>eg(n)).join(",");return`${t.op}(${e})`}}function ib(t,e){return t instanceof it?function(r,i){return i instanceof it&&r.op===i.op&&r.field.isEqual(i.field)&&hr(r.value,i.value)}(t,e):t instanceof fr?function(r,i){return i instanceof fr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&ib(o,i.filters[a]),!0):!1}(t,e):void ie(19439)}function sb(t){return t instanceof it?function(n){return`${n.field.canonicalString()} ${n.op} ${ia(n.value)}`}(t):t instanceof fr?function(n){return n.op.toString()+" {"+n.getFilters().map(sb).join(" ,")+"}"}(t):"Filter"}class a5 extends it{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class l5 extends it{constructor(e,n){super(e,"in",n),this.keys=ob("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class c5 extends it{constructor(e,n){super(e,"not-in",n),this.keys=ob("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ob(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class u5 extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qv(n)&&Jl(n.arrayValue,this.value)}}class d5 extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class h5 extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jl(this.value.arrayValue,n)}}class f5 extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Jl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function IE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new p5(t,e,n,r,i,s,o)}function Gv(t){const e=ce(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>eg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ia(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ia(r)).join(",")),e.Ie=n}return e.Ie}function Qv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!s5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ib(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xE(t.startAt,e.startAt)&&xE(t.endAt,e.endAt)}function tg(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function m5(t,e,n,r,i,s,o,a){return new Gh(t,e,n,r,i,s,o,a)}function Yv(t){return new Gh(t)}function SE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function g5(t){return t.collectionGroup!==null}function wl(t){const e=ce(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new at(pt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new Wd(s,r))}),n.has(pt.keyField().canonicalString())||e.Ee.push(new Wd(pt.keyField(),r))}return e.Ee}function ar(t){const e=ce(t);return e.de||(e.de=v5(e,wl(t))),e.de}function v5(t,e){if(t.limitType==="F")return IE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wd(i.field,s)});const n=t.endAt?new Hd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hd(t.startAt.position,t.startAt.inclusive):null;return IE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ng(t,e,n){return new Gh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qh(t,e){return Qv(ar(t),ar(e))&&t.limitType===e.limitType}function ab(t){return`${Gv(ar(t))}|lt:${t.limitType}`}function oo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sb(i)).join(", ")}]`),Kh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ia(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ia(i)).join(",")),`Target(${r})`}(ar(t))}; limitType=${t.limitType})`}function Yh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of wl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=TE(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,wl(r),i)||r.endAt&&!function(o,a,l){const u=TE(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,wl(r),i))}(t,e)}function y5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lb(t){return(e,n)=>{let r=!1;for(const i of wl(t)){const s=w5(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function w5(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ra(l,u):ie(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return WC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5=new Fe(ne.comparator);function Kr(){return _5}const cb=new Fe(ne.comparator);function rl(...t){let e=cb;for(const n of t)e=e.insert(n.key,n);return e}function ub(t){let e=cb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ds(){return _l()}function db(){return _l()}function _l(){return new Ws(t=>t.toString(),(t,e)=>t.isEqual(e))}const E5=new Fe(ne.comparator),T5=new at(ne.comparator);function ve(...t){let e=T5;for(const n of t)e=e.add(n);return e}const x5=new at(he);function I5(){return x5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$d(e)?"-0":e}}function hb(t){return{integerValue:""+t}}function S5(t,e){return J3(e)?hb(e):Xv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(){this._=void 0}}function C5(t,e,n){return t instanceof Kd?function(i,s){const o={fields:{[GC]:{stringValue:qC},[YC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Kv(s)&&(s=qh(s)),s&&(o.fields[QC]=s),{mapValue:o}}(n,e):t instanceof Zl?pb(t,e):t instanceof ec?mb(t,e):function(i,s){const o=fb(i,s),a=CE(o)+CE(i.Re);return Zm(o)&&Zm(i.Re)?hb(a):Xv(i.serializer,a)}(t,e)}function b5(t,e,n){return t instanceof Zl?pb(t,e):t instanceof ec?mb(t,e):n}function fb(t,e){return t instanceof qd?function(r){return Zm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Kd extends Xh{}class Zl extends Xh{constructor(e){super(),this.elements=e}}function pb(t,e){const n=gb(e);for(const r of t.elements)n.some(i=>hr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ec extends Xh{constructor(e){super(),this.elements=e}}function mb(t,e){let n=gb(e);for(const r of t.elements)n=n.filter(i=>!hr(i,r));return{arrayValue:{values:n}}}class qd extends Xh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function CE(t){return Ge(t.integerValue||t.doubleValue)}function gb(t){return qv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function A5(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Zl&&i instanceof Zl||r instanceof ec&&i instanceof ec?na(r.elements,i.elements,hr):r instanceof qd&&i instanceof qd?hr(r.Re,i.Re):r instanceof Kd&&i instanceof Kd}(t.transform,e.transform)}class R5{constructor(e,n){this.version=e,this.transformResults=n}}class Lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Lr}static exists(e){return new Lr(void 0,e)}static updateTime(e){return new Lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jh{}function vb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wb(t.key,Lr.none()):new Cc(t.key,t.data,Lr.none());{const n=t.data,r=vn.empty();let i=new at(pt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ks(t.key,r,new Mn(i.toArray()),Lr.none())}}function P5(t,e,n){t instanceof Cc?function(i,s,o){const a=i.value.clone(),l=AE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ks?function(i,s,o){if(!Zu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=AE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(yb(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function El(t,e,n,r){return t instanceof Cc?function(s,o,a,l){if(!Zu(s.precondition,o))return a;const u=s.value.clone(),d=RE(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ks?function(s,o,a,l){if(!Zu(s.precondition,o))return a;const u=RE(s.fieldTransforms,l,o),d=o.data;return d.setAll(yb(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Zu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function k5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=fb(r.transform,i||null);s!=null&&(n===null&&(n=vn.empty()),n.set(r.field,s))}return n||null}function bE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&na(r,i,(s,o)=>A5(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cc extends Jh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ks extends Jh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function yb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function AE(t,e,n){const r=new Map;xe(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,b5(o,a,n[i]))}return r}function RE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,C5(s,o,e))}return r}class wb extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class N5 extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&P5(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=El(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=El(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=db();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=vb(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&na(this.mutations,e.mutations,(n,r)=>bE(n,r))&&na(this.baseMutations,e.baseMutations,(n,r)=>bE(n,r))}}class Jv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xe(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return E5}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Jv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O5=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,ye;function L5(t){switch(t){case B.OK:return ie(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return ie(15467,{code:t})}}function _b(t){if(t===void 0)return Wr("GRPC error has no .code"),B.UNKNOWN;switch(t){case et.OK:return B.OK;case et.CANCELLED:return B.CANCELLED;case et.UNKNOWN:return B.UNKNOWN;case et.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case et.INTERNAL:return B.INTERNAL;case et.UNAVAILABLE:return B.UNAVAILABLE;case et.UNAUTHENTICATED:return B.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case et.NOT_FOUND:return B.NOT_FOUND;case et.ALREADY_EXISTS:return B.ALREADY_EXISTS;case et.PERMISSION_DENIED:return B.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case et.ABORTED:return B.ABORTED;case et.OUT_OF_RANGE:return B.OUT_OF_RANGE;case et.UNIMPLEMENTED:return B.UNIMPLEMENTED;case et.DATA_LOSS:return B.DATA_LOSS;default:return ie(39323,{code:t})}}(ye=et||(et={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=new Di([4294967295,4294967295],0);function PE(t){const e=BC().encode(t),n=new OC;return n.update(e),new Uint8Array(n.digest())}function kE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Di([n,r],0),new Di([i,s],0)]}class Zv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new il(`Invalid padding: ${n}`);if(r<0)throw new il(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new il(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new il(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Di.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Di.fromNumber(r)));return i.compare(V5)===1&&(i=new Di([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=PE(e),[r,i]=kE(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.Se(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Zv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=PE(e),[r,i]=kE(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,bc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zh(le.min(),i,new Fe(he),Kr(),ve())}}class bc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bc(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class Eb{constructor(e,n){this.targetId=e,this.Ce=n}}class Tb{constructor(e,n,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class NE{constructor(){this.Fe=0,this.Me=DE(),this.xe=yt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ve(),n=ve(),r=ve();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie(38017,{changeType:s})}}),new bc(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=DE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,xe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class j5{constructor(e){this.ze=e,this.je=new Map,this.He=Kr(),this.Je=Tu(),this.Ye=Tu(),this.Ze=new Fe(he)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:ie(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(tg(s))if(r===0){const o=new ne(s.path);this.tt(n,o,Pt.newNoDocument(o,le.min()))}else xe(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=zi(r).toUint8Array()}catch(l){if(l instanceof KC)return ta("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Zv(o,i,s)}catch(l){return ta(l instanceof il?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&tg(a.target)){const l=new ne(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Pt.newNoDocument(l,e))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=ve();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new Zh(e,n,this.Ze,this.He,r);return this.He=Kr(),this.Je=Tu(),this.Ye=Tu(),this.Ze=new Fe(he),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new NE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new at(he),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new at(he),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new NE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Tu(){return new Fe(ne.comparator)}function DE(){return new Fe(ne.comparator)}const F5={asc:"ASCENDING",desc:"DESCENDING"},U5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$5={and:"AND",or:"OR"};class B5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rg(t,e){return t.useProto3Json||Kh(e)?e:{value:e}}function Gd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function z5(t,e){return Gd(t,e.toTimestamp())}function lr(t){return xe(!!t,49232),le.fromTimestamp(function(n){const r=Bi(n);return new ot(r.seconds,r.nanos)}(t))}function ey(t,e){return ig(t,e).canonicalString()}function ig(t,e){const n=function(i){return new We(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Ib(t){const e=We.fromString(t);return xe(Rb(e),10190,{key:e.toString()}),e}function sg(t,e){return ey(t.databaseId,e.path)}function pp(t,e){const n=Ib(e);if(n.get(1)!==t.databaseId.projectId)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(Cb(n))}function Sb(t,e){return ey(t.databaseId,e)}function H5(t){const e=Ib(t);return e.length===4?We.emptyPath():Cb(e)}function og(t){return new We(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Cb(t){return xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function OE(t,e,n){return{name:sg(t,e),fields:n.value.mapValue.fields}}function W5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ie(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(xe(d===void 0||typeof d=="string",58123),yt.fromBase64String(d||"")):(xe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),yt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?B.UNKNOWN:_b(u.code);return new te(d,u.message||"")}(o);n=new Tb(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=pp(t,r.document.name),s=lr(r.document.updateTime),o=r.document.createTime?lr(r.document.createTime):le.min(),a=new vn({mapValue:{fields:r.document.fields}}),l=Pt.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new ed(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=pp(t,r.document),s=r.readTime?lr(r.readTime):le.min(),o=Pt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ed([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=pp(t,r.document),s=r.removedTargetIds||[];n=new ed([],s,i,null)}else{if(!("filter"in e))return ie(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new M5(i,s),a=r.targetId;n=new Eb(a,o)}}return n}function K5(t,e){let n;if(e instanceof Cc)n={update:OE(t,e.key,e.value)};else if(e instanceof wb)n={delete:sg(t,e.key)};else if(e instanceof Ks)n={update:OE(t,e.key,e.data),updateMask:t6(e.fieldMask)};else{if(!(e instanceof N5))return ie(16599,{ft:e.type});n={verify:sg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Kd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ec)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qd)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw ie(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:z5(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ie(27497)}(t,e.precondition)),n}function q5(t,e){return t&&t.length>0?(xe(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?lr(i.updateTime):lr(s);return o.isEqual(le.min())&&(o=lr(s)),new R5(o,i.transformResults||[])}(n,e))):[]}function G5(t,e){return{documents:[Sb(t,e.path)]}}function Q5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Sb(t,i);const s=function(u){if(u.length!==0)return Ab(fr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:ao(h.field),direction:J5(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=rg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function Y5(t){let e=H5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xe(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const h=bb(f);return h instanceof fr&&rb(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(T){return new Wd(lo(T.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Kh(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,y=f.values||[];return new Hd(y,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,y=f.values||[];return new Hd(y,h)}(n.endAt)),m5(e,i,o,s,a,"F",l,u)}function X5(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=lo(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=lo(n.unaryFilter.field);return it.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=lo(n.unaryFilter.field);return it.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=lo(n.unaryFilter.field);return it.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ie(61313);default:return ie(60726)}}(t):t.fieldFilter!==void 0?function(n){return it.create(lo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ie(58110);default:return ie(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fr.create(n.compositeFilter.filters.map(r=>bb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie(1026)}}(n.compositeFilter.op))}(t):ie(30097,{filter:t})}function J5(t){return F5[t]}function Z5(t){return U5[t]}function e6(t){return $5[t]}function ao(t){return{fieldPath:t.canonicalString()}}function lo(t){return pt.fromServerFormat(t.fieldPath)}function Ab(t){return t instanceof it?function(n){if(n.op==="=="){if(EE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(_E(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(EE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(_E(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:Z5(n.op),value:n.value}}}(t):t instanceof fr?function(n){const r=n.getFilters().map(i=>Ab(i));return r.length===1?r[0]:{compositeFilter:{op:e6(n.op),filters:r}}}(t):ie(54877,{filter:t})}function t6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Rb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n,r,i,s=le.min(),o=le.min(),a=yt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.wt=e}}function r6(t){const e=Y5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ng(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(){this.Cn=new s6}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve($i.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve($i.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class s6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new at(We.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new at(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Pb=41943040;class Ht{static withCacheSize(e){return new Ht(e,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ht.DEFAULT_COLLECTION_PERCENTILE=10,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ht.DEFAULT=new Ht(Pb,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ht.DISABLED=new Ht(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new sa(0)}static lr(){return new sa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="LruGarbageCollector",o6=1048576;function VE([t,e],[n,r]){const i=he(t,n);return i===0?he(e,r):i}class a6{constructor(e){this.Er=e,this.buffer=new at(VE),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();VE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class l6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Y(LE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wa(n)?Y(LE,"Ignoring IndexedDB error during garbage collection: ",n):await ya(n)}await this.mr(3e5)})}}class c6{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Wh.le);const r=new a6(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(ME)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ME):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,s,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),so()<=ge.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function u6(t,e){return new c6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(){this.changes=new Ws(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&El(r.mutation,i,Mn.empty(),ot.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const i=ds();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=rl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ds();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Kr();const o=_l(),a=function(){return _l()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Ks)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),El(d.mutation,u,d.mutation.getFieldMask(),ot.now())):o.set(u.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new h6(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=_l();let i=new Fe((o,a)=>o-a),s=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Mn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(i.get(a.batchId)||ve()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=db();d.forEach(h=>{if(!s.has(h)){const y=vb(n.get(h),r.get(h));y!==null&&f.set(h,y),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):g5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(ds());let a=Ql,l=s;return o.next(u=>U.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ve())).next(d=>({batchId:a,changes:ub(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=rl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=rl();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,l=>{const u=function(f,h){return new Gh(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Pt.newInvalidDocument(d)))});let a=rl();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&El(d.mutation,u,Mn.empty(),ot.now()),Yh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return U.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:lr(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:r6(i.bundledQuery),readTime:lr(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(){this.overlays=new Fe(ne.comparator),this.Qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ds();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.bt(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=ds(),s=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Fe((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=ds(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=ds(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return U.resolve(a)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new O5(n,r));let s=this.Qr.get(n);s===void 0&&(s=ve(),this.Qr.set(n,s)),this.Qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(){this.sessionToken=yt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(){this.$r=new at(lt.Ur),this.Kr=new at(lt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new lt(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new lt(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new ne(new We([])),r=new lt(n,e),i=new lt(n,e+1),s=[];return this.Kr.forEachInRange([r,i],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ne(new We([])),r=new lt(n,e),i=new lt(n,e+1);let s=ve();return this.Kr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new lt(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class lt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ne.comparator(e.key,n.key)||he(e.Zr,n.Zr)}static Wr(e,n){return he(e.Zr,n.Zr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new at(lt.Ur)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new D5(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Xr=this.Xr.add(new lt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?Wv:this.nr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new lt(n,0),i=new lt(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],o=>{const a=this.ei(o.Zr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new at(he);return n.forEach(i=>{const s=new lt(i,0),o=new lt(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],a=>{r=r.add(a.Zr)})}),U.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ne.isDocumentKey(s)||(s=s.child(""));const o=new lt(new ne(s),0);let a=new at(he);return this.Xr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Zr)),!0)},o),U.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xe(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return U.forEach(n.mutations,i=>{const s=new lt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new lt(n,0),i=this.Xr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e){this.ii=e,this.docs=function(){return new Fe(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Pt.newInvalidDocument(n))}getEntries(e,n){let r=Kr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Pt.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Kr();const o=n.path,a=new ne(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||G3(q3(d),r)<=0||(i.has(d.key)||Yh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ie(9500)}si(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new w6(this)}getSize(e){return U.resolve(this.size)}}class w6 extends d6{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e){this.persistence=e,this.oi=new Ws(n=>Gv(n),Qv),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this._i=0,this.ai=new ty,this.targetCount=0,this.ui=sa.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),U.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new sa(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Tr(n),U.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n){this.ci={},this.overlays={},this.li=new Wh(0),this.hi=!1,this.hi=!0,this.Pi=new g6,this.referenceDelegate=e(this),this.Ti=new _6(this),this.indexManager=new i6,this.remoteDocumentCache=function(i){return new y6(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new n6(n),this.Ei=new p6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new m6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new v6(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const i=new E6(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,n){return U.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class E6 extends Y3{constructor(e){super(),this.currentSequenceNumber=e}}class ny{constructor(e){this.persistence=e,this.Vi=new ty,this.mi=null}static fi(e){return new ny(e)}get gi(){if(this.mi)return this.mi;throw ie(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.gi,r=>{const i=ne.fromPath(r);return this.pi(e,i).next(s=>{s||n.removeEntry(i,le.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return U.or([()=>U.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Qd{constructor(e,n){this.persistence=e,this.yi=new Ws(r=>Z3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=u6(this,n)}static fi(e,n){return new Qd(e,n)}di(){}Ai(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return U.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?U.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,le.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),U.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xu(e.data.value)),n}Dr(e,n,r){return U.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=ve(),i=ve();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ry(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return s4()?8:X3(Ot())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ws(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new T6;return this.bs(e,n,o).next(a=>{if(s.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>s.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(so()<=ge.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),U.resolve()):(so()<=ge.DEBUG&&Y("QueryEngine","Query:",oo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(so()<=ge.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ar(n))):U.resolve())}ws(e,n){if(SE(n))return U.resolve(null);let r=ar(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ng(n,null,"F"),r=ar(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ve(...s);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.vs(n,a);return this.Cs(n,u,o,l.readTime)?this.ws(e,ng(n,null,"F")):this.Fs(e,u,n,l)}))})))}Ss(e,n,r,i){return SE(n)||i.isEqual(le.min())?U.resolve(null):this.ys.getDocuments(e,r).next(s=>{const o=this.vs(n,s);return this.Cs(n,o,r,i)?U.resolve(null):(so()<=ge.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oo(n)),this.Fs(e,o,n,K3(i,Ql)).next(a=>a))})}vs(e,n){let r=new at(lb(e));return n.forEach((i,s)=>{Yh(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}bs(e,n,r){return so()<=ge.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",oo(n)),this.ys.getDocumentsMatchingQuery(e,n,$i.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="LocalStore",I6=3e8;class S6{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Fe(he),this.Os=new Ws(s=>Gv(s),Qv),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f6(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function C6(t,e,n,r){return new S6(t,e,n,r)}async function Nb(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ve();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:a}))})})}function b6(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const f=u.batch,h=f.keys();let y=U.resolve();return h.forEach(T=>{y=y.next(()=>d.getEntry(l,T)).next(w=>{const x=u.docVersions.get(T);xe(x!==null,48541),w.version.compareTo(x)<0&&(f.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ve();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Db(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function A6(t,e){const n=ce(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.Ti.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Ti.addMatchingKeys(s,d.addedDocuments,f)));let y=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(yt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(f,y),function(w,x,E){return w.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=I6?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(h,y,d)&&a.push(n.Ti.updateTargetData(s,y))});let l=Kr(),u=ve();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(R6(s,o,e.documentUpdates).next(d=>{l=d.qs,u=d.Qs})),!r.isEqual(le.min())){const d=n.Ti.getLastRemoteSnapshotVersion(s).next(f=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.xs=i,s))}function R6(t,e,n){let r=ve(),i=ve();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Kr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(le.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Y(iy,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{qs:o,Qs:i}})}function P6(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Wv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function k6(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Ti.allocateTargetId(r).next(o=>(i=new xi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function ag(t,e,n){const r=ce(t),i=r.xs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!wa(o))throw o;Y(iy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function jE(t,e,n){const r=ce(t);let i=le.min(),s=ve();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const f=ce(l),h=f.Os.get(d);return h!==void 0?U.resolve(f.xs.get(h)):f.Ti.getTargetData(u,d)}(r,o,ar(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?i:le.min(),n?s:ve())).next(a=>(N6(r,y5(e),a),{documents:a,$s:s})))}function N6(t,e,n){let r=t.Ns.get(e)||le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ns.set(e,r)}class FE{constructor(){this.activeTargetIds=I5()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class D6{constructor(){this.xo=new FE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new FE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="ConnectivityMonitor";class $E{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Y(UE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Y(UE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xu=null;function lg(){return xu===null?xu=function(){return 268435456+Math.round(2147483648*Math.random())}():xu++,"0x"+xu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="RestConnection",M6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class L6{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Bd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,s){const o=lg(),a=this.jo(e,n.toUriEncodedString());Y(mp,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,i,s);const{host:u}=new URL(a),d=ma(u);return this.Jo(e,a,l,r,d).then(f=>(Y(mp,`Received RPC '${e}' ${o}: `,f),f),f=>{throw ta(mp,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Yo(e,n,r,i,s,o){return this.zo(e,n,r,i,s)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+va}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,n){const r=M6[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ct="WebChannelConnection";class j6 extends L6{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=lg();return new Promise((a,l)=>{const u=new MC;u.setWithCredentials(!0),u.listenOnce(LC.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Yu.NO_ERROR:const f=u.getResponseJson();Y(Ct,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Yu.TIMEOUT:Y(Ct,`RPC '${e}' ${o} timed out`),l(new te(B.DEADLINE_EXCEEDED,"Request time out"));break;case Yu.HTTP_ERROR:const h=u.getStatus();if(Y(Ct,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const T=y==null?void 0:y.error;if(T&&T.status&&T.message){const w=function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(_)>=0?_:B.UNKNOWN}(T.status);l(new te(w,T.message))}else l(new te(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new te(B.UNAVAILABLE,"Connection failed."));break;default:ie(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Y(Ct,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);Y(Ct,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",d,r,15)})}T_(e,n,r){const i=lg(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=FC(),a=jC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");Y(Ct,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);let h=!1,y=!1;const T=new V6({Zo:x=>{y?Y(Ct,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(Y(Ct,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Y(Ct,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},Xo:()=>f.close()}),w=(x,E,_)=>{x.listen(E,I=>{try{_(I)}catch(k){setTimeout(()=>{throw k},0)}})};return w(f,nl.EventType.OPEN,()=>{y||(Y(Ct,`RPC '${e}' stream ${i} transport opened.`),T.__())}),w(f,nl.EventType.CLOSE,()=>{y||(y=!0,Y(Ct,`RPC '${e}' stream ${i} transport closed`),T.u_())}),w(f,nl.EventType.ERROR,x=>{y||(y=!0,ta(Ct,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),T.u_(new te(B.UNAVAILABLE,"The operation could not be completed")))}),w(f,nl.EventType.MESSAGE,x=>{var E;if(!y){const _=x.data[0];xe(!!_,16349);const I=_,k=(I==null?void 0:I.error)||((E=I[0])===null||E===void 0?void 0:E.error);if(k){Y(Ct,`RPC '${e}' stream ${i} received error:`,k);const O=k.status;let L=function(A){const R=et[A];if(R!==void 0)return _b(R)}(O),b=k.message;L===void 0&&(L=B.INTERNAL,b="Unknown error status: "+O+" with message "+k.message),y=!0,T.u_(new te(L,b)),f.close()}else Y(Ct,`RPC '${e}' stream ${i} received:`,_),T.c_(_)}}),w(a,VC.STAT_EVENT,x=>{x.stat===Ym.PROXY?Y(Ct,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Ym.NOPROXY&&Y(Ct,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.a_()},0),T}}function gp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t){return new B5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=i,this.d_=s,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="PersistentStream";class Mb{constructor(e,n,r,i,s,o,a,l){this.xi=e,this.y_=r,this.w_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Ob(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Wr(n.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===n&&this.K_(r,i)},r=>{e(()=>{const i=new te(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return Y(BE,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(Y(BE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F6 extends Mb{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=W5(this.serializer,e),r=function(s){if(!("targetChange"in s))return le.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?lr(o.readTime):le.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=og(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=tg(l)?{documents:G5(s,l)}:{query:Q5(s,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=xb(s,o.resumeToken);const u=rg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=Gd(s,o.snapshotVersion.toTimestamp());const u=rg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=X5(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=og(this.serializer),n.removeTarget=e,this.L_(n)}}class U6 extends Mb{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=q5(e.writeResults,e.commitTime),r=lr(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=og(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>K5(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{}class B6 extends $6{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,ig(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(B.UNKNOWN,s.toString())})}Yo(e,n,r,i,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,ig(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(B.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class z6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Wr(n),this.oa=!1):Y("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="RemoteStore";class H6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=s,this.Ea.No(o=>{r.enqueueAndForget(async()=>{qs(this)&&(Y(ks,"Restarting streams for network reachability change."),await async function(l){const u=ce(l);u.Ta.add(4),await Ac(u),u.da.set("Unknown"),u.Ta.delete(4),await tf(u)}(this))})}),this.da=new z6(r,i)}}async function tf(t){if(qs(t))for(const e of t.Ia)await e(!0)}async function Ac(t){for(const e of t.Ia)await e(!1)}function Lb(t,e){const n=ce(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),ly(n)?ay(n):_a(n).M_()&&oy(n,e))}function sy(t,e){const n=ce(t),r=_a(n);n.Pa.delete(e),r.M_()&&Vb(n,e),n.Pa.size===0&&(r.M_()?r.N_():qs(n)&&n.da.set("Unknown"))}function oy(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_a(t).H_(e)}function Vb(t,e){t.Aa.Ke(e),_a(t).J_(e)}function ay(t){t.Aa=new j5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),_a(t).start(),t.da._a()}function ly(t){return qs(t)&&!_a(t).F_()&&t.Pa.size>0}function qs(t){return ce(t).Ta.size===0}function jb(t){t.Aa=void 0}async function W6(t){t.da.set("Online")}async function K6(t){t.Pa.forEach((e,n)=>{oy(t,e)})}async function q6(t,e){jb(t),ly(t)?(t.da.ca(e),ay(t)):t.da.set("Unknown")}async function G6(t,e,n){if(t.da.set("Online"),e instanceof Tb&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Pa.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Pa.delete(a),i.Aa.removeTarget(a))}(t,e)}catch(r){Y(ks,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yd(t,r)}else if(e instanceof ed?t.Aa.Xe(e):e instanceof Eb?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(le.min()))try{const r=await Db(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Aa.It(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Pa.get(u);d&&s.Pa.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.Pa.get(l);if(!d)return;s.Pa.set(l,d.withResumeToken(yt.EMPTY_BYTE_STRING,d.snapshotVersion)),Vb(s,l);const f=new xi(d.target,l,u,d.sequenceNumber);oy(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y(ks,"Failed to raise snapshot:",r),await Yd(t,r)}}async function Yd(t,e,n){if(!wa(e))throw e;t.Ta.add(1),await Ac(t),t.da.set("Offline"),n||(n=()=>Db(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(ks,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await tf(t)})}function Fb(t,e){return e().catch(n=>Yd(t,n,e))}async function nf(t){const e=ce(t),n=Wi(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:Wv;for(;Q6(e);)try{const i=await P6(e.localStore,r);if(i===null){e.ha.length===0&&n.N_();break}r=i.batchId,Y6(e,i)}catch(i){await Yd(e,i)}Ub(e)&&$b(e)}function Q6(t){return qs(t)&&t.ha.length<10}function Y6(t,e){t.ha.push(e);const n=Wi(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function Ub(t){return qs(t)&&!Wi(t).F_()&&t.ha.length>0}function $b(t){Wi(t).start()}async function X6(t){Wi(t).ta()}async function J6(t){const e=Wi(t);for(const n of t.ha)e.Z_(n.mutations)}async function Z6(t,e,n){const r=t.ha.shift(),i=Jv.from(r,e,n);await Fb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await nf(t)}async function eU(t,e){e&&Wi(t).Y_&&await async function(r,i){if(function(o){return L5(o)&&o!==B.ABORTED}(i.code)){const s=r.ha.shift();Wi(r).O_(),await Fb(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await nf(r)}}(t,e),Ub(t)&&$b(t)}async function zE(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),Y(ks,"RemoteStore received new credentials");const r=qs(n);n.Ta.add(3),await Ac(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await tf(n)}async function tU(t,e){const n=ce(t);e?(n.Ta.delete(2),await tf(n)):e||(n.Ta.add(2),await Ac(n),n.da.set("Unknown"))}function _a(t){return t.Ra||(t.Ra=function(n,r,i){const s=ce(n);return s.ra(),new F6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:W6.bind(null,t),n_:K6.bind(null,t),i_:q6.bind(null,t),j_:G6.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),ly(t)?ay(t):t.da.set("Unknown")):(await t.Ra.stop(),jb(t))})),t.Ra}function Wi(t){return t.Va||(t.Va=function(n,r,i){const s=ce(n);return s.ra(),new U6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:X6.bind(null,t),i_:eU.bind(null,t),X_:J6.bind(null,t),ea:Z6.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await nf(t)):(await t.Va.stop(),t.ha.length>0&&(Y(ks,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new cy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uy(t,e){if(Wr("AsyncQueue",`${e}: ${t}`),wa(t))return new te(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{static emptySet(e){return new Mo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=rl(),this.sortedSet=new Fe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Mo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(){this.ma=new Fe(ne.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):ie(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class oa{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new oa(e,n,Mo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class rU{constructor(){this.queries=WE(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const i=ce(n),s=i.queries;i.queries=WE(),s.forEach((o,a)=>{for(const l of a.ya)l.onError(r)})})(this,new te(B.ABORTED,"Firestore shutting down"))}}function WE(){return new Ws(t=>ab(t),Qh)}async function iU(t,e){const n=ce(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.wa()&&e.Sa()&&(r=2):(s=new nU,r=e.Sa()?0:1);try{switch(r){case 0:s.pa=await n.onListen(i,!0);break;case 1:s.pa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=uy(o,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.ya.push(e),e.Da(n.onlineState),s.pa&&e.va(s.pa)&&dy(n)}async function sU(t,e){const n=ce(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ya.indexOf(e);o>=0&&(s.ya.splice(o,1),s.ya.length===0?i=e.Sa()?0:1:!s.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oU(t,e){const n=ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ya)a.va(i)&&(r=!0);o.pa=i}}r&&dy(n)}function aU(t,e,n){const r=ce(t),i=r.queries.get(e);if(i)for(const s of i.ya)s.onError(n);r.queries.delete(e)}function dy(t){t.ba.forEach(e=>{e.next()})}var cg,KE;(KE=cg||(cg={})).Ca="default",KE.Cache="cache";class lU{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new oa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=oa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==cg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.key=e}}class zb{constructor(e){this.key=e}}class cU{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=ve(),this.mutatedKeys=ve(),this.Ha=lb(e),this.Ja=new Mo(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new HE,i=n?n.Ja:this.Ja;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),y=Yh(this.query,f)?f:null,T=!!h&&this.mutatedKeys.has(h.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let x=!1;h&&y?h.data.isEqual(y.data)?T!==w&&(r.track({type:3,doc:y}),x=!0):this.eu(h,y)||(r.track({type:2,doc:y}),x=!0,(l&&this.Ha(y,l)>0||u&&this.Ha(y,u)<0)&&(a=!0)):!h&&y?(r.track({type:0,doc:y}),x=!0):h&&!y&&(r.track({type:1,doc:h}),x=!0,(l||u)&&(a=!0)),x&&(y?(o=o.add(y),s=w?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ja:o,Xa:r,Cs:a,mutatedKeys:s}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((d,f)=>function(y,T){const w=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie(20277,{Vt:x})}};return w(y)-w(T)}(d.type,f.type)||this.Ha(d.doc,f.doc)),this.tu(r),i=i!=null&&i;const a=n&&!i?this.nu():[],l=this.ja.size===0&&this.current&&!i?1:0,u=l!==this.za;return this.za=l,o.length!==0||u?{snapshot:new oa(this.query,e.Ja,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new HE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=ve(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new zb(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new Bb(r))}),n}su(e){this.Ga=e.$s,this.ja=ve();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return oa.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const hy="SyncEngine";class uU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dU{constructor(e){this.key=e,this._u=!1}}class hU{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new Ws(a=>ab(a),Qh),this.cu=new Map,this.lu=new Set,this.hu=new Fe(ne.comparator),this.Pu=new Map,this.Tu=new ty,this.Iu={},this.Eu=new Map,this.du=sa.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function fU(t,e,n=!0){const r=Qb(t);let i;const s=r.uu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ou()):i=await Hb(r,e,n,!0),i}async function pU(t,e){const n=Qb(t);await Hb(n,e,!0,!1)}async function Hb(t,e,n,r){const i=await k6(t.localStore,ar(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await mU(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Lb(t.remoteStore,i),a}async function mU(t,e,n,r,i){t.Ru=(f,h,y)=>async function(w,x,E,_){let I=x.view.Za(E);I.Cs&&(I=await jE(w.localStore,x.query,!1).then(({documents:b})=>x.view.Za(b,I)));const k=_&&_.targetChanges.get(x.targetId),O=_&&_.targetMismatches.get(x.targetId)!=null,L=x.view.applyChanges(I,w.isPrimaryClient,k,O);return GE(w,x.targetId,L.ru),L.snapshot}(t,f,h,y);const s=await jE(t.localStore,e,!0),o=new cU(e,s.$s),a=o.Za(s.documents),l=bc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);GE(t,n,u.ru);const d=new uU(e,n,o);return t.uu.set(e,d),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),u.snapshot}async function gU(t,e,n){const r=ce(t),i=r.uu.get(e),s=r.cu.get(i.targetId);if(s.length>1)return r.cu.set(i.targetId,s.filter(o=>!Qh(o,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ag(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&sy(r.remoteStore,i.targetId),ug(r,i.targetId)}).catch(ya)):(ug(r,i.targetId),await ag(r.localStore,i.targetId,!0))}async function vU(t,e){const n=ce(t),r=n.uu.get(e),i=n.cu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sy(n.remoteStore,r.targetId))}async function yU(t,e,n){const r=SU(t);try{const i=await function(o,a){const l=ce(o),u=ot.now(),d=a.reduce((y,T)=>y.add(T.key),ve());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=Kr(),w=ve();return l.Bs.getEntries(y,d).next(x=>{T=x,T.forEach((E,_)=>{_.isValidDocument()||(w=w.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,T)).next(x=>{f=x;const E=[];for(const _ of a){const I=k5(_,f.get(_.key).overlayedDocument);I!=null&&E.push(new Ks(_.key,I,eb(I.value.mapValue),Lr.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,E,a)}).next(x=>{h=x;const E=x.applyToLocalDocumentSet(f,w);return l.documentOverlayCache.saveOverlays(y,x.batchId,E)})}).then(()=>({batchId:h.batchId,changes:ub(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Iu[o.currentUser.toKey()];u||(u=new Fe(he)),u=u.insert(a,l),o.Iu[o.currentUser.toKey()]=u}(r,i.batchId,n),await Rc(r,i.changes),await nf(r.remoteStore)}catch(i){const s=uy(i,"Failed to persist write");n.reject(s)}}async function Wb(t,e){const n=ce(t);try{const r=await A6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Pu.get(s);o&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o._u=!0:i.modifiedDocuments.size>0?xe(o._u,14607):i.removedDocuments.size>0&&(xe(o._u,42227),o._u=!1))}),await Rc(n,r,e)}catch(r){await ya(r)}}function qE(t,e,n){const r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.uu.forEach((s,o)=>{const a=o.view.Da(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ce(o);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(const h of f.ya)h.Da(a)&&(u=!0)}),u&&dy(l)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function wU(t,e,n){const r=ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Pu.get(e),s=i&&i.key;if(s){let o=new Fe(ne.comparator);o=o.insert(s,Pt.newNoDocument(s,le.min()));const a=ve().add(s),l=new Zh(le.min(),new Map,new Fe(he),o,a);await Wb(r,l),r.hu=r.hu.remove(s),r.Pu.delete(e),fy(r)}else await ag(r.localStore,e,!1).then(()=>ug(r,e,n)).catch(ya)}async function _U(t,e){const n=ce(t),r=e.batch.batchId;try{const i=await b6(n.localStore,e);qb(n,r,null),Kb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rc(n,i)}catch(i){await ya(i)}}async function EU(t,e,n){const r=ce(t);try{const i=await function(o,a){const l=ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(xe(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);qb(r,e,n),Kb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Rc(r,i)}catch(i){await ya(i)}}function Kb(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function qb(t,e,n){const r=ce(t);let i=r.Iu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function ug(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||Gb(t,r)})}function Gb(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(sy(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),fy(t))}function GE(t,e,n){for(const r of n)r instanceof Bb?(t.Tu.addReference(r.key,e),TU(t,r)):r instanceof zb?(Y(hy,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||Gb(t,r.key)):ie(19791,{mu:r})}function TU(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(Y(hy,"New document in limbo: "+n),t.lu.add(r),fy(t))}function fy(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new ne(We.fromString(e)),r=t.du.next();t.Pu.set(r,new dU(n)),t.hu=t.hu.insert(n,r),Lb(t.remoteStore,new xi(ar(Yv(n.path)),r,"TargetPurposeLimboResolution",Wh.le))}}async function Rc(t,e,n){const r=ce(t),i=[],s=[],o=[];r.uu.isEmpty()||(r.uu.forEach((a,l)=>{o.push(r.Ru(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=ry.Rs(l.targetId,u);s.push(f)}}))}),await Promise.all(o),r.au.j_(i),await async function(l,u){const d=ce(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(u,h=>U.forEach(h.ds,y=>d.persistence.referenceDelegate.addReference(f,h.targetId,y)).next(()=>U.forEach(h.As,y=>d.persistence.referenceDelegate.removeReference(f,h.targetId,y)))))}catch(f){if(!wa(f))throw f;Y(iy,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const y=d.xs.get(h),T=y.snapshotVersion,w=y.withLastLimboFreeSnapshotVersion(T);d.xs=d.xs.insert(h,w)}}}(r.localStore,s))}async function xU(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){Y(hy,"User change. New user:",e.toKey());const r=await Nb(n.localStore,e);n.currentUser=e,function(s,o){s.Eu.forEach(a=>{a.forEach(l=>{l.reject(new te(B.CANCELLED,o))})}),s.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Rc(n,r.ks)}}function IU(t,e){const n=ce(t),r=n.Pu.get(e);if(r&&r._u)return ve().add(r.key);{let i=ve();const s=n.cu.get(e);if(!s)return i;for(const o of s){const a=n.uu.get(o);i=i.unionWith(a.view.Ya)}return i}}function Qb(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wU.bind(null,e),e.au.j_=oU.bind(null,e.eventManager),e.au.Vu=aU.bind(null,e.eventManager),e}function SU(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_U.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EU.bind(null,e),e}class Xd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ef(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return C6(this.persistence,new x6,e.initialUser,this.serializer)}yu(e){return new kb(ny.fi,this.serializer)}pu(e){return new D6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xd.provider={build:()=>new Xd};class CU extends Xd{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){xe(this.persistence.referenceDelegate instanceof Qd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new l6(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?Ht.withCacheSize(this.cacheSizeBytes):Ht.DEFAULT;return new kb(r=>Qd.fi(r,n),this.serializer)}}class dg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xU.bind(null,this.syncEngine),await tU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rU}()}createDatastore(e){const n=ef(e.databaseInfo.databaseId),r=function(s){return new j6(s)}(e.databaseInfo);return function(s,o,a,l){return new B6(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new H6(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>qE(this.syncEngine,n,0),function(){return $E.C()?new $E:new O6}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const f=new hU(i,s,o,a,l,u);return d&&(f.Au=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ce(i);Y(ks,"RemoteStore shutting down."),s.Ta.add(5),await Ac(s),s.Ea.shutdown(),s.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}dg.provider={build:()=>new dg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="FirestoreClient";class AU{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=At.UNAUTHENTICATED,this.clientId=zC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Y(Ki,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y(Ki,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=uy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vp(t,e){t.asyncQueue.verifyOperationInProgress(),Y(Ki,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Nb(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function QE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await RU(t);Y(Ki,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>zE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>zE(e.remoteStore,i)),t._onlineComponents=e}async function RU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(Ki,"Using user provided OfflineComponentProvider");try{await vp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ta("Error using user provided cache. Falling back to memory cache: "+n),await vp(t,new Xd)}}else Y(Ki,"Using default OfflineComponentProvider"),await vp(t,new CU(void 0));return t._offlineComponents}async function Yb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(Ki,"Using user provided OnlineComponentProvider"),await QE(t,t._uninitializedComponentsProvider._online)):(Y(Ki,"Using default OnlineComponentProvider"),await QE(t,new dg))),t._onlineComponents}function PU(t){return Yb(t).then(e=>e.syncEngine)}async function kU(t){const e=await Yb(t),n=e.eventManager;return n.onListen=fU.bind(null,e.syncEngine),n.onUnlisten=gU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vU.bind(null,e.syncEngine),n}function NU(t,e,n={}){const r=new Oi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new bU({next:h=>{d.Cu(),o.enqueueAndForget(()=>sU(s,f));const y=h.docs.has(a);!y&&h.fromCache?u.reject(new te(B.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&h.fromCache&&l&&l.source==="server"?u.reject(new te(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new lU(Yv(a.path),d,{includeMetadataChanges:!0,La:!0});return iU(s,f)}(await kU(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(t,e,n){if(!n)throw new te(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function OU(t,e,n,r){if(e===!0&&r===!0)throw new te(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function XE(t){if(!ne.isDocumentKey(t))throw new te(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function py(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie(12329,{type:typeof t})}function tc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=py(t);throw new te(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="firestore.googleapis.com",JE=!0;class ZE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Jb,this.ssl=JE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:JE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Pb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<o6)throw new te(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class my{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new V3;switch(r.type){case"firstParty":return new $3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=YE.get(n);r&&(Y("ComponentProvider","Removing Datastore"),YE.delete(n),r.terminate())}(this),Promise.resolve()}}function MU(t,e,n,r={}){var i;t=tc(t,my);const s=ma(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(Nv(`https://${l}`),Dv("Firestore",!0)),o.host!==Jb&&o.host!==l&&ta("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!bs(u,a)&&(t._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=At.MOCK_USER;else{d=KS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new te(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new At(h)}t._authCredentials=new j3(new $C(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gy(this.firestore,e,this._query)}}class _n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class nc extends gy{constructor(e,n,r){super(e,n,Yv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new ne(e))}withConverter(e){return new nc(this.firestore,e,this._path)}}function Iu(t,e,...n){if(t=vt(t),arguments.length===1&&(e=zC.newId()),DU("doc","path",e),t instanceof my){const r=We.fromString(e,...n);return XE(r),new _n(t,null,new ne(r))}{if(!(t instanceof _n||t instanceof nc))throw new te(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return XE(r),new _n(t.firestore,t instanceof nc?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="AsyncQueue";class tT{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Ob(this,"async_queue_retry"),this.ec=()=>{const r=gp();r&&Y(eT,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=gp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=gp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new Oi;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!wa(e))throw e;Y(eT,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Wr("INTERNAL UNHANDLED ERROR: ",nT(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const i=cy.createAndSchedule(this,e,n,r,s=>this.oc(s));return this.Hu.push(i),i}nc(){this.Ju&&ie(47125,{_c:nT(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function nT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class vy extends my{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new tT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tT(e),this._firestoreClient=void 0,await e}}}function LU(t,e){const n=typeof t=="object"?t:$h(),r=typeof t=="string"?t:Bd,i=$s(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=zS("firestore");s&&MU(i,...s)}return i}function Zb(t){if(t._terminated)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||VU(t),t._firestoreClient}function VU(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new n5(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Xb(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new AU(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new aa(yt.fromBase64String(e))}catch(n){throw new te(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new aa(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=/^__.*__$/;class FU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cc(e,this.data,n,this.fieldTransforms)}}function tA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie(40011,{hc:t})}}class Ey{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Ey(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Jd(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(tA(this.hc)&&jU.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class UU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ef(e)}gc(e,n,r,i=!1){return new Ey({hc:e,methodName:n,fc:r,path:pt.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $U(t){const e=t._freezeSettings(),n=ef(t._databaseId);return new UU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function BU(t,e,n,r,i,s={}){const o=t.gc(s.merge||s.mergeFields?2:0,e,n,i);sA("Data must be an object, but it was:",o,r);const a=rA(r,o);let l,u;if(s.merge)l=new Mn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const h=zU(e,f,n);if(!o.contains(h))throw new te(B.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);WU(d,h)||d.push(h)}l=new Mn(d),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new FU(new vn(a),l,u)}function nA(t,e){if(iA(t=vt(t)))return sA("Unsupported field value:",e,t),rA(t,e);if(t instanceof eA)return function(r,i){if(!tA(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=nA(a,i.Rc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return S5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ot.fromDate(r);return{timestampValue:Gd(i.serializer,s)}}if(r instanceof ot){const s=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gd(i.serializer,s)}}if(r instanceof wy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof aa)return{bytesValue:xb(i.serializer,r._byteString)};if(r instanceof _n){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ey(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof _y)return function(o,a){return{mapValue:{fields:{[XC]:{stringValue:ZC},[zd]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Vc("VectorValues must only contain numeric values.");return Xv(a.serializer,u)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${py(r)}`)}(t,e)}function rA(t,e){const n={};return WC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(t,(r,i)=>{const s=nA(i,e.Ic(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function iA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof wy||t instanceof aa||t instanceof _n||t instanceof eA||t instanceof _y)}function sA(t,e,n){if(!iA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=py(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function zU(t,e,n){if((e=vt(e))instanceof yy)return e._internalPath;if(typeof e=="string")return oA(t,e);throw Jd("Field path arguments must be of type string or ",t,!1,void 0,n)}const HU=new RegExp("[~\\*/\\[\\]]");function oA(t,e,n){if(e.search(HU)>=0)throw Jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yy(...e.split("."))._internalPath}catch{throw Jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new te(B.INVALID_ARGUMENT,a+t+l)}function WU(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KU extends aA{data(){return super.data()}}function lA(t,e){return typeof e=="string"?oA(t,e):e instanceof yy?e._internalPath:e._delegate._internalPath}class qU{convertValue(e,n="none"){switch(Hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[zd].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ge(o.doubleValue));return new _y(s)}convertGeoPoint(e){return new wy(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=qh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const n=Bi(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=We.fromString(e);xe(Rb(r),9688,{name:e});const i=new Xl(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||Wr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cA extends aA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new YU(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class YU extends cA{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t){t=tc(t,_n);const e=tc(t.firestore,vy);return NU(Zb(e),t._key).then(n=>ZU(e,t,n))}class XU extends qU{constructor(e){super(),this.firestore=e}convertBytes(e){return new aa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function iT(t,e,n){t=tc(t,_n);const r=tc(t.firestore,vy),i=GU(t.converter,e,n);return JU(r,[BU($U(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Lr.none())])}function JU(t,e){return function(r,i){const s=new Oi;return r.asyncQueue.enqueueAndForget(async()=>yU(await PU(r),i,s)),s.promise}(Zb(t),e)}function ZU(t,e,n){const r=n.docs.get(e._key),i=new XU(t);return new cA(t,i,e._key,r,new QU(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){va=i})(Bs),Bn(new In("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new vy(new F3(r.getProvider("auth-internal")),new B3(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new te(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Zt(lE,cE,e),Zt(lE,cE,"esm2017")})();var e9="firebase",t9="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zt(e9,t9,"app");const uA="@firebase/installations",Ty="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=1e4,hA=`w:${Ty}`,fA="FIS_v2",n9="https://firebaseinstallations.googleapis.com/v1",r9=60*60*1e3,i9="installations",s9="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ns=new Us(i9,s9,o9);function pA(t){return t instanceof Hn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA({projectId:t}){return`${n9}/projects/${t}/installations`}function gA(t){return{token:t.token,requestStatus:2,expiresIn:l9(t.expiresIn),creationTime:Date.now()}}async function vA(t,e){const r=(await e.json()).error;return Ns.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function yA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function a9(t,{refreshToken:e}){const n=yA(t);return n.append("Authorization",c9(e)),n}async function wA(t){const e=await t();return e.status>=500&&e.status<600?t():e}function l9(t){return Number(t.replace("s","000"))}function c9(t){return`${fA} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u9({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=mA(t),i=yA(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:fA,appId:t.appId,sdkVersion:hA},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await wA(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:gA(u.authToken)}}else throw await vA("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=/^[cdef][\w-]{21}$/,hg="";function f9(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=p9(t);return h9.test(n)?n:hg}catch{return hg}}function p9(t){return d9(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=new Map;function TA(t,e){const n=rf(t);xA(n,e),m9(n,e)}function xA(t,e){const n=EA.get(t);if(n)for(const r of n)r(e)}function m9(t,e){const n=g9();n&&n.postMessage({key:t,fid:e}),v9()}let hs=null;function g9(){return!hs&&"BroadcastChannel"in self&&(hs=new BroadcastChannel("[Firebase] FID Change"),hs.onmessage=t=>{xA(t.data.key,t.data.fid)}),hs}function v9(){EA.size===0&&hs&&(hs.close(),hs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9="firebase-installations-database",w9=1,Ds="firebase-installations-store";let yp=null;function xy(){return yp||(yp=Uh(y9,w9,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ds)}}})),yp}async function Zd(t,e){const n=rf(t),i=(await xy()).transaction(Ds,"readwrite"),s=i.objectStore(Ds),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&TA(t,e.fid),e}async function IA(t){const e=rf(t),r=(await xy()).transaction(Ds,"readwrite");await r.objectStore(Ds).delete(e),await r.done}async function sf(t,e){const n=rf(t),i=(await xy()).transaction(Ds,"readwrite"),s=i.objectStore(Ds),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&TA(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iy(t){let e;const n=await sf(t.appConfig,r=>{const i=_9(r),s=E9(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===hg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function _9(t){const e=t||{fid:f9(),registrationStatus:0};return SA(e)}function E9(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ns.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=T9(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:x9(t)}:{installationEntry:e}}async function T9(t,e){try{const n=await u9(t,e);return Zd(t.appConfig,n)}catch(n){throw pA(n)&&n.customData.serverCode===409?await IA(t.appConfig):await Zd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function x9(t){let e=await sT(t.appConfig);for(;e.registrationStatus===1;)await _A(100),e=await sT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Iy(t);return r||n}return e}function sT(t){return sf(t,e=>{if(!e)throw Ns.create("installation-not-found");return SA(e)})}function SA(t){return I9(t)?{fid:t.fid,registrationStatus:0}:t}function I9(t){return t.registrationStatus===1&&t.registrationTime+dA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S9({appConfig:t,heartbeatServiceProvider:e},n){const r=C9(t,n),i=a9(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:hA,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await wA(()=>fetch(r,a));if(l.ok){const u=await l.json();return gA(u)}else throw await vA("Generate Auth Token",l)}function C9(t,{fid:e}){return`${mA(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sy(t,e=!1){let n;const r=await sf(t.appConfig,s=>{if(!CA(s))throw Ns.create("not-registered");const o=s.authToken;if(!e&&R9(o))return s;if(o.requestStatus===1)return n=b9(t,e),s;{if(!navigator.onLine)throw Ns.create("app-offline");const a=k9(s);return n=A9(t,a),a}});return n?await n:r.authToken}async function b9(t,e){let n=await oT(t.appConfig);for(;n.authToken.requestStatus===1;)await _A(100),n=await oT(t.appConfig);const r=n.authToken;return r.requestStatus===0?Sy(t,e):r}function oT(t){return sf(t,e=>{if(!CA(e))throw Ns.create("not-registered");const n=e.authToken;return N9(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function A9(t,e){try{const n=await S9(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Zd(t.appConfig,r),n}catch(n){if(pA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await IA(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Zd(t.appConfig,r)}throw n}}function CA(t){return t!==void 0&&t.registrationStatus===2}function R9(t){return t.requestStatus===2&&!P9(t)}function P9(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+r9}function k9(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function N9(t){return t.requestStatus===1&&t.requestTime+dA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D9(t){const e=t,{installationEntry:n,registrationPromise:r}=await Iy(e);return r?r.catch(console.error):Sy(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O9(t,e=!1){const n=t;return await M9(n),(await Sy(n,e)).token}async function M9(t){const{registrationPromise:e}=await Iy(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L9(t){if(!t||!t.options)throw wp("App Configuration");if(!t.name)throw wp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw wp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function wp(t){return Ns.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="installations",V9="installations-internal",j9=t=>{const e=t.getProvider("app").getImmediate(),n=L9(e),r=$s(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},F9=t=>{const e=t.getProvider("app").getImmediate(),n=$s(e,bA).getImmediate();return{getId:()=>D9(n),getToken:i=>O9(n,i)}};function U9(){Bn(new In(bA,j9,"PUBLIC")),Bn(new In(V9,F9,"PRIVATE"))}U9();Zt(uA,Ty);Zt(uA,Ty,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9="/firebase-messaging-sw.js",B9="/firebase-cloud-messaging-push-scope",AA="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",z9="https://fcmregistrations.googleapis.com/v1",RA="google.c.a.c_id",H9="google.c.a.c_l",W9="google.c.a.ts",K9="google.c.a.e",aT=1e4;var lT;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(lT||(lT={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var rc;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(rc||(rc={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function q9(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="fcm_token_details_db",G9=5,cT="fcm_token_object_Store";async function Q9(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(_p))return null;let e=null;return(await Uh(_p,G9,{upgrade:async(r,i,s,o)=>{var a;if(i<2||!r.objectStoreNames.contains(cT))return;const l=o.objectStore(cT),u=await l.index("fcmSenderId").get(t);if(await l.clear(),!!u){if(i===2){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:(a=d.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:br(d.vapidKey)}}}else if(i===3){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:br(d.auth),p256dh:br(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:br(d.vapidKey)}}}else if(i===4){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:br(d.auth),p256dh:br(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:br(d.vapidKey)}}}}}})).close(),await cp(_p),await cp("fcm_vapid_details_db"),await cp("undefined"),Y9(e)?e:null}function Y9(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9="firebase-messaging-database",J9=1,ic="firebase-messaging-store";let Ep=null;function PA(){return Ep||(Ep=Uh(X9,J9,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ic)}}})),Ep}async function Z9(t){const e=kA(t),r=await(await PA()).transaction(ic).objectStore(ic).get(e);if(r)return r;{const i=await Q9(t.appConfig.senderId);if(i)return await Cy(t,i),i}}async function Cy(t,e){const n=kA(t),i=(await PA()).transaction(ic,"readwrite");return await i.objectStore(ic).put(e,n),await i.done,e}function kA({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},kt=new Us("messaging","Messaging",e$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t$(t,e){const n=await Ay(t),r=NA(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(by(t.appConfig),i)).json()}catch(o){throw kt.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw kt.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw kt.create("token-subscribe-no-token");return s.token}async function n$(t,e){const n=await Ay(t),r=NA(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${by(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw kt.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw kt.create("token-update-failed",{errorInfo:o})}if(!s.token)throw kt.create("token-update-no-token");return s.token}async function r$(t,e){const r={method:"DELETE",headers:await Ay(t)};try{const s=await(await fetch(`${by(t.appConfig)}/${e}`,r)).json();if(s.error){const o=s.error.message;throw kt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw kt.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function by({projectId:t}){return`${z9}/projects/${t}/registrations`}async function Ay({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function NA({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==AA&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$=7*24*60*60*1e3;async function s$(t){const e=await a$(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:br(e.getKey("auth")),p256dh:br(e.getKey("p256dh"))},r=await Z9(t.firebaseDependencies);if(r){if(l$(r.subscriptionOptions,n))return Date.now()>=r.createTime+i$?o$(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await r$(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return uT(t.firebaseDependencies,n)}else return uT(t.firebaseDependencies,n)}async function o$(t,e){try{const n=await n$(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await Cy(t.firebaseDependencies,r),n}catch(n){throw n}}async function uT(t,e){const r={token:await t$(t,e),createTime:Date.now(),subscriptionOptions:e};return await Cy(t,r),r.token}async function a$(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:q9(e)})}function l$(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return c$(e,t),u$(e,t),d$(e,t),e}function c$(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}function u$(t,e){e.data&&(t.data=e.data)}function d$(t,e){var n,r,i,s,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(t){return typeof t=="object"&&!!t&&RA in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f$(t){if(!t||!t.options)throw Tp("App Configuration Object");if(!t.name)throw Tp("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Tp(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Tp(t){return kt.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=f$(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m$(t){try{t.swRegistration=await navigator.serviceWorker.register($9,{scope:B9}),t.swRegistration.update().catch(()=>{}),await g$(t.swRegistration)}catch(e){throw kt.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function g$(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${aT} ms`)),aT),i=t.installing||t.waiting;t.active?(clearTimeout(r),e()):i?i.onstatechange=s=>{var o;((o=s.target)===null||o===void 0?void 0:o.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v$(t,e){if(!e&&!t.swRegistration&&await m$(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw kt.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y$(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=AA)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DA(t,e){if(!navigator)throw kt.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw kt.create("permission-blocked");return await y$(t,e==null?void 0:e.vapidKey),await v$(t,e==null?void 0:e.serviceWorkerRegistration),s$(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w$(t,e,n){const r=_$(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[RA],message_name:n[H9],message_time:n[W9],message_device_time:Math.floor(Date.now()/1e3)})}function _$(t){switch(t){case rc.NOTIFICATION_CLICKED:return"notification_open";case rc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E$(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===rc.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(dT(n)):t.onMessageHandler.next(dT(n)));const r=n.data;h$(r)&&r[K9]==="1"&&await w$(t,n.messageType,r)}const hT="@firebase/messaging",fT="0.12.21";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$=t=>{const e=new p$(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>E$(e,n)),e},x$=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>DA(e,r)}};function I$(){Bn(new In("messaging",T$,"PUBLIC")),Bn(new In("messaging-internal",x$,"PRIVATE")),Zt(hT,fT),Zt(hT,fT,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S$(){try{await GS()}catch{return!1}return typeof window<"u"&&qS()&&o4()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C$(t,e){if(!navigator)throw kt.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t=$h()){return S$().then(e=>{if(!e)throw kt.create("unsupported-browser")},e=>{throw kt.create("indexed-db-unsupported")}),$s(vt(t),"messaging").getImmediate()}async function A$(t,e){return t=vt(t),DA(t,e)}function R$(t,e){return t=vt(t),C$(t,e)}I$();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="firebasestorage.googleapis.com",P$="storageBucket",k$=2*60*1e3,N$=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Hn{constructor(e,n,r=0){super(xp(e),`Firebase Storage: ${n} (${xp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pr||(pr={}));function xp(t){return"storage/"+t}function D$(){const t="An unknown error occurred, please check the error payload for server response.";return new vr(pr.UNKNOWN,t)}function O$(){return new vr(pr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function M$(){return new vr(pr.CANCELED,"User canceled the upload/download.")}function L$(t){return new vr(pr.INVALID_URL,"Invalid URL '"+t+"'.")}function V$(t){return new vr(pr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function pT(t){return new vr(pr.INVALID_ARGUMENT,t)}function MA(){return new vr(pr.APP_DELETED,"The Firebase app was deleted.")}function j$(t){return new vr(pr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ln.makeFromUrl(e,n)}catch{return new Ln(e,"")}if(r.path==="")return r;throw V$(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(k){k.path_=decodeURIComponent(k.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",y=new RegExp(`^https?://${f}/${d}/b/${i}/o${h}`,"i"),T={bucket:1,path:3},w=n===OA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",E=new RegExp(`^https?://${w}/${i}/${x}`,"i"),I=[{regex:a,indices:l,postModify:s},{regex:y,indices:T,postModify:u},{regex:E,indices:{bucket:1,path:2},postModify:u}];for(let k=0;k<I.length;k++){const O=I[k],L=O.regex.exec(e);if(L){const b=L[O.indices.bucket];let S=L[O.indices.path];S||(S=""),r=new Ln(b,S),O.postModify(r);break}}if(r==null)throw L$(e);return r}}class F${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U$(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...x){u||(u=!0,e.apply(null,x))}function f(x){i=setTimeout(()=>{i=null,t(y,l())},x)}function h(){s&&clearTimeout(s)}function y(x,...E){if(u){h();return}if(x){h(),d.call(null,x,...E);return}if(l()||o){h(),d.call(null,x,...E);return}r<64&&(r*=2);let I;a===1?(a=2,I=0):I=(r+Math.random())*1e3,f(I)}let T=!1;function w(x){T||(T=!0,h(),!u&&(i!==null?(x||(a=2),clearTimeout(i),f(0)):x||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,w(!0)},n),w}function $$(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(t){return t!==void 0}function mT(t,e,n,r){if(r<e)throw pT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw pT(`Invalid value for '${t}'. Expected ${n} or less.`)}function z$(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var eh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(eh||(eh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e,n,r,i,s,o,a,l,u,d,f,h=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,w)=>{this.resolve_=T,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Su(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===eh.NO_ERROR,l=s.getStatus();if(!a||H$(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===eh.ABORT;r(!1,new Su(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Su(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());B$(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=D$();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?MA():M$();o(l)}else{const l=O$();o(l)}};this.canceled_?n(!1,new Su(!1,null,!0)):this.backoffId_=U$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Su{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function K$(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function q$(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function G$(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Q$(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Y$(t,e,n,r,i,s,o=!0,a=!1){const l=z$(t.urlParams),u=t.url+l,d=Object.assign({},t.headers);return G$(d,e),K$(d,n),q$(d,s),Q$(d,r),new W$(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X$(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function J$(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n){this._service=e,n instanceof Ln?this._location=n:this._location=Ln.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new th(e,n)}get root(){const e=new Ln(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return J$(this._location.path)}get storage(){return this._service}get parent(){const e=X$(this._location.path);if(e===null)return null;const n=new Ln(this._location.bucket,e);return new th(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw j$(e)}}function gT(t,e){const n=e==null?void 0:e[P$];return n==null?null:Ln.makeFromBucketSpec(n,t)}function Z$(t,e,n,r={}){t.host=`${e}:${n}`;const i=ma(e);i&&(Nv(`https://${t.host}`),Dv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:KS(s,t.app.options.projectId))}class eB{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=OA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=k$,this._maxUploadRetryTime=N$,this._requests=new Set,i!=null?this._bucket=Ln.makeFromBucketSpec(i,this._host):this._bucket=gT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ln.makeFromBucketSpec(this._url,e):this._bucket=gT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){mT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){mT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(an(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new th(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new F$(MA());{const o=Y$(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const vT="@firebase/storage",yT="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="storage";function tB(t=$h(),e){t=vt(t);const r=$s(t,LA).getImmediate({identifier:e}),i=zS("storage");return i&&nB(r,...i),r}function nB(t,e,n,r={}){Z$(t,e,n,r)}function rB(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new eB(n,r,i,e,Bs)}function iB(){Bn(new In(LA,rB,"PUBLIC").setMultipleInstances(!0)),Zt(vT,yT,""),Zt(vT,yT,"esm2017")}iB();const sB={apiKey:"AIzaSyC1nw5htyKXojbme8ANENG-5nzZESThwhY",authDomain:"uber-works-76b7a.firebaseapp.com",projectId:"uber-works-76b7a",storageBucket:"uber-works-76b7a.firebasestorage.app",messagingSenderId:"712248495358",appId:"1:712248495358:web:cf72f063df9ee0937ee9af"},Ry=XS(sB),wT=b$(Ry),Cu=LU(Ry);tB(Ry);const nh={nearbyTasks:"https://nearbytasks-7duph3fqgq-uc.a.run.app",tasksInBounds:"https://tasksinbounds-7duph3fqgq-uc.a.run.app",subscribeToTopic:"https://subscribetotopic-7duph3fqgq-uc.a.run.app",unsubscribeFromTopic:"https://unsubscribefromtopic-7duph3fqgq-uc.a.run.app",getTaskAnalytics:"https://gettaskanalytics-7duph3fqgq-uc.a.run.app",getUserAnalytics:"https://getuseranalytics-7duph3fqgq-uc.a.run.app",logAnalyticsEvent:"https://loganalyticsevent-7duph3fqgq-uc.a.run.app"},oB="AIzaSyCbcG4F8svpjrg9QIEcxv4OsYiMyDTlojE";class aB{constructor(){$0(this,"auth",M3())}async register(e,n,r){const i=await wF(this.auth,e,n),{user:s}=i,o={id:s.uid,email:s.email,displayName:r,reputation:5,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return await iT(Iu(Cu,"users",s.uid),o),o}async login(e,n){const r=await _F(this.auth,e,n),{user:i}=r,s=await rT(Iu(Cu,"users",i.uid));if(!s.exists())throw new Error("User data not found");return s.data()}async logout(){await IF(this.auth)}onAuthStateChange(e){return xF(this.auth,e)}async getCurrentUser(){const e=this.auth.currentUser;if(!e)return null;const n=await rT(Iu(Cu,"users",e.uid));return n.exists()?n.data():null}async updateUserReputation(e,n){const r=Iu(Cu,"users",e);await iT(r,{reputation:n,updatedAt:new Date().toISOString()},{merge:!0})}}const Qa=new aB;class lB{async requestPermission(){try{if(await Notification.requestPermission()==="granted")return await this.getToken();throw new Error("Notification permission denied")}catch(e){throw console.error("Error requesting notification permission:",e),e}}async getToken(){try{return await A$(wT,{vapidKey:"BH0ksUaEuZiIWFea4jcZMpC3S1dChV51I8QKbzbuV9OtzEl__Q7i4rFW8m55BxDoFklv5AdJWwaTaK4Yk67BNhA"})}catch(e){throw console.error("Error getting FCM token:",e),e}}onMessageListener(){return new Promise(e=>{R$(wT,n=>{e(n)})})}async subscribeToTopic(e,n){if(!(await fetch(nh.subscribeToTopic,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,topic:n})})).ok)throw new Error("Failed to subscribe to topic")}async unsubscribeFromTopic(e,n){if(!(await fetch(nh.unsubscribeFromTopic,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,topic:n})})).ok)throw new Error("Failed to unsubscribe from topic")}}const _T=new lB,VA=g.createContext(void 0),cB=({children:t})=>{const[e,n]=g.useState(null);g.useEffect(()=>{const o=Qa.onAuthStateChange(async a=>{if(a){const l=await Qa.getCurrentUser();n(l);try{const u=await _T.requestPermission();u&&await _T.subscribeToTopic(u,`user_${a.uid}`)}catch(u){console.error("Error setting up notifications:",u)}}else n(null)});return()=>o()},[]);const r=async(o,a)=>{try{const l=await Qa.login(o,a);n(l),to({title:"Welcome back!",description:"Successfully signed in."})}catch(l){throw console.error("Login error:",l),to({title:"Error",description:"Invalid email or password.",variant:"destructive"}),l}},i=async(o,a,l)=>{try{const u=await Qa.register(o,a,l);n(u),to({title:"Welcome to TaskHub!",description:"Your account has been created successfully."})}catch(u){throw console.error("Registration error:",u),to({title:"Error",description:"Could not create account. Please try again.",variant:"destructive"}),u}},s=async()=>{try{await Qa.logout(),n(null),to({title:"Signed out",description:"See you next time!"})}catch(o){throw console.error("Logout error:",o),to({title:"Error",description:"Could not sign out. Please try again.",variant:"destructive"}),o}};return m.jsx(VA.Provider,{value:{user:e,isAuthenticated:!!e,login:r,register:i,logout:s},children:t})},Ea=()=>{const t=g.useContext(VA);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},uB=bh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ye=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?Ss:"button";return m.jsx(o,{className:fe(uB({variant:e,size:n,className:t})),ref:s,...i})});Ye.displayName="Button";const cr=g.forwardRef(({className:t,type:e,...n},r)=>m.jsx("input",{type:e,className:fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));cr.displayName="Input";var dB="Label",jA=g.forwardRef((t,e)=>m.jsx(we.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));jA.displayName=dB;var FA=jA;const hB=bh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Kt=g.forwardRef(({className:t,...e},n)=>m.jsx(FA,{ref:n,className:fe(hB(),t),...e}));Kt.displayName=FA.displayName;const qt=g.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:fe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));qt.displayName="Card";const Os=g.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:fe("flex flex-col space-y-1.5 p-6",t),...e}));Os.displayName="CardHeader";const Ms=g.forwardRef(({className:t,...e},n)=>m.jsx("h3",{ref:n,className:fe("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ms.displayName="CardTitle";const Py=g.forwardRef(({className:t,...e},n)=>m.jsx("p",{ref:n,className:fe("text-sm text-muted-foreground",t),...e}));Py.displayName="CardDescription";const Gt=g.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:fe("p-6 pt-0",t),...e}));Gt.displayName="CardContent";const ky=g.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:fe("flex items-center p-6 pt-0",t),...e}));ky.displayName="CardFooter";const fB=({onToggleMode:t})=>{const[e,n]=g.useState(""),[r,i]=g.useState(""),[s,o]=g.useState(!1),{login:a}=Ea(),l=async u=>{u.preventDefault(),o(!0),await a(e,r),o(!1)};return m.jsxs(qt,{className:"w-full",children:[m.jsxs(Os,{children:[m.jsx(Ms,{children:"Sign In"}),m.jsx(Py,{children:"Welcome back to TaskHub"})]}),m.jsxs("form",{onSubmit:l,children:[m.jsxs(Gt,{className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Kt,{htmlFor:"email",children:"Email"}),m.jsx(cr,{id:"email",type:"email",value:e,onChange:u=>n(u.target.value),placeholder:"Enter your email",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Kt,{htmlFor:"password",children:"Password"}),m.jsx(cr,{id:"password",type:"password",value:r,onChange:u=>i(u.target.value),placeholder:"Enter your password",required:!0})]})]}),m.jsxs(ky,{className:"flex flex-col space-y-4",children:[m.jsxs(Ye,{type:"submit",className:"w-full",disabled:s,children:[s&&m.jsx(vv,{className:"mr-2 h-4 w-4 animate-spin"}),"Sign In"]}),m.jsx(Ye,{type:"button",variant:"ghost",onClick:t,className:"w-full",children:"Don't have an account? Sign up"})]})]})]})},pB=({onToggleMode:t})=>{const[e,n]=g.useState(""),[r,i]=g.useState(""),[s,o]=g.useState(""),[a,l]=g.useState(!1),{register:u}=Ea(),d=async f=>{f.preventDefault(),l(!0),await u(e,r,s),l(!1)};return m.jsxs(qt,{className:"w-full",children:[m.jsxs(Os,{children:[m.jsx(Ms,{children:"Create Account"}),m.jsx(Py,{children:"Join the TaskHub community"})]}),m.jsxs("form",{onSubmit:d,children:[m.jsxs(Gt,{className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Kt,{htmlFor:"displayName",children:"Display Name"}),m.jsx(cr,{id:"displayName",type:"text",value:s,onChange:f=>o(f.target.value),placeholder:"How should we call you?",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Kt,{htmlFor:"email",children:"Email"}),m.jsx(cr,{id:"email",type:"email",value:e,onChange:f=>n(f.target.value),placeholder:"Enter your email",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Kt,{htmlFor:"password",children:"Password"}),m.jsx(cr,{id:"password",type:"password",value:r,onChange:f=>i(f.target.value),placeholder:"Create a password",required:!0,minLength:6})]})]}),m.jsxs(ky,{className:"flex flex-col space-y-4",children:[m.jsxs(Ye,{type:"submit",className:"w-full",disabled:a,children:[a&&m.jsx(vv,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Account"]}),m.jsx(Ye,{type:"button",variant:"ghost",onClick:t,className:"w-full",children:"Already have an account? Sign in"})]})]})]})},mB=bh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Tl({className:t,variant:e,...n}){return m.jsx("div",{className:fe(mB({variant:e}),t),...n})}const gB=({task:t,isSelected:e,onClick:n})=>{const r=new Date(t.createdAt).toLocaleTimeString();return m.jsx(qt,{className:fe("cursor-pointer transition-all hover:shadow-md",e&&"ring-2 ring-blue-500"),onClick:n,children:m.jsxs(Gt,{className:"p-4",children:[m.jsxs("div",{className:"flex items-start justify-between mb-2",children:[m.jsx("h4",{className:"font-semibold text-gray-900 line-clamp-1",children:t.title}),m.jsx(Tl,{variant:t.type==="paid"?"default":"secondary",children:t.type==="paid"?m.jsxs(m.Fragment,{children:[m.jsx(PI,{className:"w-3 h-3 mr-1"}),"Paid"]}):m.jsxs(m.Fragment,{children:[m.jsx(kI,{className:"w-3 h-3 mr-1"}),"Volunteer"]})})]}),m.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:t.description}),m.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx(Ah,{className:"w-3 h-3 mr-1"}),m.jsx("span",{className:"truncate",children:t.location.address})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx(RI,{className:"w-3 h-3 mr-1"}),m.jsx("span",{children:r})]})]}),t.price&&m.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[m.jsxs("span",{className:"text-lg font-bold text-green-600",children:["€",t.price]}),m.jsx(Ye,{size:"sm",variant:"outline",children:"Accept Task"})]}),t.type==="volunteer"&&m.jsx("div",{className:"mt-2",children:m.jsx(Ye,{size:"sm",variant:"outline",className:"w-full",children:"Help Out"})})]})})};var Ip="focusScope.autoFocusOnMount",Sp="focusScope.autoFocusOnUnmount",ET={bubbles:!1,cancelable:!0},vB="FocusScope",Ny=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=g.useState(null),u=Dt(i),d=Dt(s),f=g.useRef(null),h=Ke(e,w=>l(w)),y=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let w=function(I){if(y.paused||!a)return;const k=I.target;a.contains(k)?f.current=k:oi(f.current,{select:!0})},x=function(I){if(y.paused||!a)return;const k=I.relatedTarget;k!==null&&(a.contains(k)||oi(f.current,{select:!0}))},E=function(I){if(document.activeElement===document.body)for(const O of I)O.removedNodes.length>0&&oi(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",x);const _=new MutationObserver(E);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",x),_.disconnect()}}},[r,a,y.paused]),g.useEffect(()=>{if(a){xT.add(y);const w=document.activeElement;if(!a.contains(w)){const E=new CustomEvent(Ip,ET);a.addEventListener(Ip,u),a.dispatchEvent(E),E.defaultPrevented||(yB(xB(UA(a)),{select:!0}),document.activeElement===w&&oi(a))}return()=>{a.removeEventListener(Ip,u),setTimeout(()=>{const E=new CustomEvent(Sp,ET);a.addEventListener(Sp,d),a.dispatchEvent(E),E.defaultPrevented||oi(w??document.body,{select:!0}),a.removeEventListener(Sp,d),xT.remove(y)},0)}}},[a,u,d,y]);const T=g.useCallback(w=>{if(!n&&!r||y.paused)return;const x=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,E=document.activeElement;if(x&&E){const _=w.currentTarget,[I,k]=wB(_);I&&k?!w.shiftKey&&E===k?(w.preventDefault(),n&&oi(I,{select:!0})):w.shiftKey&&E===I&&(w.preventDefault(),n&&oi(k,{select:!0})):E===_&&w.preventDefault()}},[n,r,y.paused]);return m.jsx(we.div,{tabIndex:-1,...o,ref:h,onKeyDown:T})});Ny.displayName=vB;function yB(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(oi(r,{select:e}),document.activeElement!==n)return}function wB(t){const e=UA(t),n=TT(e,t),r=TT(e.reverse(),t);return[n,r]}function UA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function TT(t,e){for(const n of t)if(!_B(n,{upTo:e}))return n}function _B(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function EB(t){return t instanceof HTMLInputElement&&"select"in t}function oi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&EB(t)&&e&&t.select()}}var xT=TB();function TB(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=IT(t,e),t.unshift(e)},remove(e){var n;t=IT(t,e),(n=t[0])==null||n.resume()}}}function IT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function xB(t){return t.filter(e=>e.tagName!=="A")}var Cp=0;function $A(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ST()),document.body.insertAdjacentElement("beforeend",t[1]??ST()),Cp++,()=>{Cp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Cp--}},[])}function ST(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var td="right-scroll-bar-position",nd="width-before-scroll-bar",IB="with-scroll-bars-hidden",SB="--removed-body-scroll-bar-size";function bp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function CB(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var bB=typeof window<"u"?g.useLayoutEffect:g.useEffect,CT=new WeakMap;function AB(t,e){var n=CB(null,function(r){return t.forEach(function(i){return bp(i,r)})});return bB(function(){var r=CT.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||bp(a,null)}),s.forEach(function(a){i.has(a)||bp(a,o)})}CT.set(n,t)},[t]),n}function RB(t){return t}function PB(t,e){e===void 0&&(e=RB);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function kB(t){t===void 0&&(t={});var e=PB(null);return e.options=nr({async:!0,ssr:!1},t),e}var BA=function(t){var e=t.sideCar,n=Ec(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,nr({},n))};BA.isSideCarExport=!0;function NB(t,e){return t.useMedium(e),BA}var zA=kB(),Ap=function(){},of=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:Ap,onWheelCapture:Ap,onTouchMoveCapture:Ap}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,y=t.noIsolation,T=t.inert,w=t.allowPinchZoom,x=t.as,E=x===void 0?"div":x,_=t.gapMode,I=Ec(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=h,O=AB([n,e]),L=nr(nr({},I),i);return g.createElement(g.Fragment,null,d&&g.createElement(k,{sideCar:zA,removeScrollBar:u,shards:f,noIsolation:y,inert:T,setCallbacks:s,allowPinchZoom:!!w,lockRef:n,gapMode:_}),o?g.cloneElement(g.Children.only(a),nr(nr({},L),{ref:O})):g.createElement(E,nr({},L,{className:l,ref:O}),a))});of.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};of.classNames={fullWidth:nd,zeroRight:td};var DB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function OB(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=DB();return e&&t.setAttribute("nonce",e),t}function MB(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function LB(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var VB=function(){var t=0,e=null;return{add:function(n){t==0&&(e=OB())&&(MB(e,n),LB(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},jB=function(){var t=VB();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},HA=function(){var t=jB(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},FB={left:0,top:0,right:0,gap:0},Rp=function(t){return parseInt(t||"",10)||0},UB=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Rp(n),Rp(r),Rp(i)]},$B=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return FB;var e=UB(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},BB=HA(),Lo="data-scroll-locked",zB=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(IB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Lo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(td,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(nd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(td," .").concat(td,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(nd," .").concat(nd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Lo,`] {
    `).concat(SB,": ").concat(a,`px;
  }
`)},bT=function(){var t=parseInt(document.body.getAttribute(Lo)||"0",10);return isFinite(t)?t:0},HB=function(){g.useEffect(function(){return document.body.setAttribute(Lo,(bT()+1).toString()),function(){var t=bT()-1;t<=0?document.body.removeAttribute(Lo):document.body.setAttribute(Lo,t.toString())}},[])},WB=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;HB();var s=g.useMemo(function(){return $B(i)},[i]);return g.createElement(BB,{styles:zB(s,!e,i,n?"":"!important")})},fg=!1;if(typeof window<"u")try{var bu=Object.defineProperty({},"passive",{get:function(){return fg=!0,!0}});window.addEventListener("test",bu,bu),window.removeEventListener("test",bu,bu)}catch{fg=!1}var no=fg?{passive:!1}:!1,KB=function(t){return t.tagName==="TEXTAREA"},WA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!KB(t)&&n[e]==="visible")},qB=function(t){return WA(t,"overflowY")},GB=function(t){return WA(t,"overflowX")},AT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=KA(t,r);if(i){var s=qA(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},QB=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},YB=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},KA=function(t,e){return t==="v"?qB(e):GB(e)},qA=function(t,e){return t==="v"?QB(e):YB(e)},XB=function(t,e){return t==="h"&&e==="rtl"?-1:1},JB=function(t,e,n,r,i){var s=XB(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),u=!1,d=o>0,f=0,h=0;do{var y=qA(t,a),T=y[0],w=y[1],x=y[2],E=w-x-s*T;(T||E)&&KA(t,a)&&(f+=E,h+=T),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(u=!0),u},Au=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},RT=function(t){return[t.deltaX,t.deltaY]},PT=function(t){return t&&"current"in t?t.current:t},ZB=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ez=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},tz=0,ro=[];function nz(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),i=g.useState(tz++)[0],s=g.useState(HA)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=Ej([t.lockRef.current],(t.shards||[]).map(PT),!0).filter(Boolean);return w.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(w,x){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var E=Au(w),_=n.current,I="deltaX"in w?w.deltaX:_[0]-E[0],k="deltaY"in w?w.deltaY:_[1]-E[1],O,L=w.target,b=Math.abs(I)>Math.abs(k)?"h":"v";if("touches"in w&&b==="h"&&L.type==="range")return!1;var S=AT(b,L);if(!S)return!0;if(S?O=b:(O=b==="v"?"h":"v",S=AT(b,L)),!S)return!1;if(!r.current&&"changedTouches"in w&&(I||k)&&(r.current=O),!O)return!0;var A=r.current||O;return JB(A,x,w,A==="h"?I:k,!0)},[]),l=g.useCallback(function(w){var x=w;if(!(!ro.length||ro[ro.length-1]!==s)){var E="deltaY"in x?RT(x):Au(x),_=e.current.filter(function(O){return O.name===x.type&&(O.target===x.target||x.target===O.shadowParent)&&ZB(O.delta,E)})[0];if(_&&_.should){x.cancelable&&x.preventDefault();return}if(!_){var I=(o.current.shards||[]).map(PT).filter(Boolean).filter(function(O){return O.contains(x.target)}),k=I.length>0?a(x,I[0]):!o.current.noIsolation;k&&x.cancelable&&x.preventDefault()}}},[]),u=g.useCallback(function(w,x,E,_){var I={name:w,delta:x,target:E,should:_,shadowParent:rz(E)};e.current.push(I),setTimeout(function(){e.current=e.current.filter(function(k){return k!==I})},1)},[]),d=g.useCallback(function(w){n.current=Au(w),r.current=void 0},[]),f=g.useCallback(function(w){u(w.type,RT(w),w.target,a(w,t.lockRef.current))},[]),h=g.useCallback(function(w){u(w.type,Au(w),w.target,a(w,t.lockRef.current))},[]);g.useEffect(function(){return ro.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,no),document.addEventListener("touchmove",l,no),document.addEventListener("touchstart",d,no),function(){ro=ro.filter(function(w){return w!==s}),document.removeEventListener("wheel",l,no),document.removeEventListener("touchmove",l,no),document.removeEventListener("touchstart",d,no)}},[]);var y=t.removeScrollBar,T=t.inert;return g.createElement(g.Fragment,null,T?g.createElement(s,{styles:ez(i)}):null,y?g.createElement(WB,{gapMode:t.gapMode}):null)}function rz(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const iz=NB(zA,nz);var Dy=g.forwardRef(function(t,e){return g.createElement(of,nr({},t,{ref:e,sideCar:iz}))});Dy.classNames=of.classNames;var sz=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},io=new WeakMap,Ru=new WeakMap,Pu={},Pp=0,GA=function(t){return t&&(t.host||GA(t.parentNode))},oz=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=GA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},az=function(t,e,n,r){var i=oz(e,Array.isArray(t)?t:[t]);Pu[n]||(Pu[n]=new WeakMap);var s=Pu[n],o=[],a=new Set,l=new Set(i),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var y=h.getAttribute(r),T=y!==null&&y!=="false",w=(io.get(h)||0)+1,x=(s.get(h)||0)+1;io.set(h,w),s.set(h,x),o.push(h),w===1&&T&&Ru.set(h,!0),x===1&&h.setAttribute(n,"true"),T||h.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",h,E)}})};return d(e),a.clear(),Pp++,function(){o.forEach(function(f){var h=io.get(f)-1,y=s.get(f)-1;io.set(f,h),s.set(f,y),h||(Ru.has(f)||f.removeAttribute(r),Ru.delete(f)),y||f.removeAttribute(n)}),Pp--,Pp||(io=new WeakMap,io=new WeakMap,Ru=new WeakMap,Pu={})}},QA=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=sz(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),az(r,i,n,"aria-hidden")):function(){return null}},Oy="Dialog",[YA,D7]=Fs(Oy),[lz,Wn]=YA(Oy),XA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=g.useRef(null),l=g.useRef(null),[u=!1,d]=gc({prop:r,defaultProp:i,onChange:s});return m.jsx(lz,{scope:e,triggerRef:a,contentRef:l,contentId:Po(),titleId:Po(),descriptionId:Po(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};XA.displayName=Oy;var JA="DialogTrigger",cz=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Wn(JA,n),s=Ke(e,i.triggerRef);return m.jsx(we.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Vy(i.open),...r,ref:s,onClick:ee(t.onClick,i.onOpenToggle)})});cz.displayName=JA;var My="DialogPortal",[uz,ZA]=YA(My,{forceMount:void 0}),eR=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Wn(My,e);return m.jsx(uz,{scope:e,forceMount:n,children:g.Children.map(r,o=>m.jsx(mr,{present:n||s.open,children:m.jsx(xh,{asChild:!0,container:i,children:o})}))})};eR.displayName=My;var rh="DialogOverlay",tR=g.forwardRef((t,e)=>{const n=ZA(rh,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Wn(rh,t.__scopeDialog);return s.modal?m.jsx(mr,{present:r||s.open,children:m.jsx(dz,{...i,ref:e})}):null});tR.displayName=rh;var dz=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Wn(rh,n);return m.jsx(Dy,{as:Ss,allowPinchZoom:!0,shards:[i.contentRef],children:m.jsx(we.div,{"data-state":Vy(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ls="DialogContent",nR=g.forwardRef((t,e)=>{const n=ZA(Ls,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Wn(Ls,t.__scopeDialog);return m.jsx(mr,{present:r||s.open,children:s.modal?m.jsx(hz,{...i,ref:e}):m.jsx(fz,{...i,ref:e})})});nR.displayName=Ls;var hz=g.forwardRef((t,e)=>{const n=Wn(Ls,t.__scopeDialog),r=g.useRef(null),i=Ke(e,n.contentRef,r);return g.useEffect(()=>{const s=r.current;if(s)return QA(s)},[]),m.jsx(rR,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ee(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:ee(t.onFocusOutside,s=>s.preventDefault())})}),fz=g.forwardRef((t,e)=>{const n=Wn(Ls,t.__scopeDialog),r=g.useRef(!1),i=g.useRef(!1);return m.jsx(rR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),rR=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=Wn(Ls,n),l=g.useRef(null),u=Ke(e,l);return $A(),m.jsxs(m.Fragment,{children:[m.jsx(Ny,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:m.jsx(mc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Vy(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(pz,{titleId:a.titleId}),m.jsx(gz,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Ly="DialogTitle",iR=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Wn(Ly,n);return m.jsx(we.h2,{id:i.titleId,...r,ref:e})});iR.displayName=Ly;var sR="DialogDescription",oR=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Wn(sR,n);return m.jsx(we.p,{id:i.descriptionId,...r,ref:e})});oR.displayName=sR;var aR="DialogClose",lR=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Wn(aR,n);return m.jsx(we.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,()=>i.onOpenChange(!1))})});lR.displayName=aR;function Vy(t){return t?"open":"closed"}var cR="DialogTitleWarning",[O7,uR]=z2(cR,{contentName:Ls,titleName:Ly,docsSlug:"dialog"}),pz=({titleId:t})=>{const e=uR(cR),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},mz="DialogDescriptionWarning",gz=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${uR(mz).contentName}}.`;return g.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},vz=XA,yz=eR,dR=tR,hR=nR,fR=iR,pR=oR,wz=lR;const _z=vz,Ez=yz,mR=g.forwardRef(({className:t,...e},n)=>m.jsx(dR,{ref:n,className:fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));mR.displayName=dR.displayName;const gR=g.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(Ez,{children:[m.jsx(mR,{}),m.jsxs(hR,{ref:r,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,m.jsxs(wz,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[m.jsx(NI,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));gR.displayName=hR.displayName;const vR=({className:t,...e})=>m.jsx("div",{className:fe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});vR.displayName="DialogHeader";const yR=g.forwardRef(({className:t,...e},n)=>m.jsx(fR,{ref:n,className:fe("text-lg font-semibold leading-none tracking-tight",t),...e}));yR.displayName=fR.displayName;const Tz=g.forwardRef(({className:t,...e},n)=>m.jsx(pR,{ref:n,className:fe("text-sm text-muted-foreground",t),...e}));Tz.displayName=pR.displayName;const jy=g.forwardRef(({className:t,...e},n)=>m.jsx("textarea",{className:fe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));jy.displayName="Textarea";function xz(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Fy="Switch",[Iz,M7]=Fs(Fy),[Sz,Cz]=Iz(Fy),wR=g.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:u,form:d,...f}=t,[h,y]=g.useState(null),T=Ke(e,I=>y(I)),w=g.useRef(!1),x=h?d||!!h.closest("form"):!0,[E=!1,_]=gc({prop:i,defaultProp:s,onChange:u});return m.jsxs(Sz,{scope:n,checked:E,disabled:a,children:[m.jsx(we.button,{type:"button",role:"switch","aria-checked":E,"aria-required":o,"data-state":TR(E),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:T,onClick:ee(t.onClick,I=>{_(k=>!k),x&&(w.current=I.isPropagationStopped(),w.current||I.stopPropagation())})}),x&&m.jsx(bz,{control:h,bubbles:!w.current,name:r,value:l,checked:E,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});wR.displayName=Fy;var _R="SwitchThumb",ER=g.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=Cz(_R,n);return m.jsx(we.span,{"data-state":TR(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});ER.displayName=_R;var bz=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=g.useRef(null),o=xz(n),a=JI(e);return g.useEffect(()=>{const l=s.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[o,n,r]),m.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function TR(t){return t?"checked":"unchecked"}var xR=wR,Az=ER;const IR=g.forwardRef(({className:t,...e},n)=>m.jsx(xR,{className:fe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:m.jsx(Az,{className:fe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));IR.displayName=xR.displayName;const Rz=({open:t,onClose:e})=>{const[n,r]=g.useState(""),[i,s]=g.useState(""),[o,a]=g.useState(!1),[l,u]=g.useState(""),[d,f]=g.useState(""),h=y=>{y.preventDefault(),dv({title:"Task created!",description:"Your task has been posted to the community."}),r(""),s(""),a(!1),u(""),f(""),e()};return m.jsx(_z,{open:t,onOpenChange:e,children:m.jsxs(gR,{className:"sm:max-w-md",children:[m.jsx(vR,{children:m.jsx(yR,{children:"Create New Task"})}),m.jsxs("form",{onSubmit:h,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Kt,{htmlFor:"title",children:"Task Title"}),m.jsx(cr,{id:"title",value:n,onChange:y=>r(y.target.value),placeholder:"What do you need help with?",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Kt,{htmlFor:"description",children:"Description"}),m.jsx(jy,{id:"description",value:i,onChange:y=>s(y.target.value),placeholder:"Provide more details about the task...",rows:3,required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Kt,{htmlFor:"location",children:"Location"}),m.jsxs("div",{className:"relative",children:[m.jsx(Ah,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),m.jsx(cr,{id:"location",value:d,onChange:y=>f(y.target.value),placeholder:"Enter address or use current location",className:"pl-10",required:!0})]})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(IR,{id:"paid",checked:o,onCheckedChange:a}),m.jsx(Kt,{htmlFor:"paid",children:"This is a paid task"})]}),o&&m.jsxs("div",{className:"space-y-2",children:[m.jsx(Kt,{htmlFor:"price",children:"Price (€)"}),m.jsx(cr,{id:"price",type:"number",value:l,onChange:y=>u(y.target.value),placeholder:"0",min:"0",step:"0.50"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Kt,{children:"Add Photos (Optional)"}),m.jsxs(Ye,{type:"button",variant:"outline",className:"w-full",children:[m.jsx(ND,{className:"w-4 h-4 mr-2"}),"Upload Photos"]})]}),m.jsxs("div",{className:"flex space-x-2 pt-4",children:[m.jsx(Ye,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:"Cancel"}),m.jsx(Ye,{type:"submit",className:"flex-1",children:"Create Task"})]})]})]})})},Pz=({tasks:t,onTaskSelect:e,loading:n,error:r})=>{const i=g.useRef(null),s=g.useRef(null),o=g.useRef([]);return g.useEffect(()=>{var a,l;if(i.current){if(!window.google){const u=document.createElement("script");u.src=`https://maps.googleapis.com/maps/api/js?key=${oB}`,u.async=!0,u.onload=()=>{var d,f;i.current&&!s.current&&(s.current=new window.google.maps.Map(i.current,{center:{lat:((d=t[0])==null?void 0:d.location.lat)||44.4268,lng:((f=t[0])==null?void 0:f.location.lng)||26.1025},zoom:13}))},document.body.appendChild(u);return}s.current||(s.current=new window.google.maps.Map(i.current,{center:{lat:((a=t[0])==null?void 0:a.location.lat)||44.4268,lng:((l=t[0])==null?void 0:l.location.lng)||26.1025},zoom:13}))}},[t]),g.useEffect(()=>{!s.current||!window.google||(o.current.forEach(a=>a.setMap(null)),o.current=[],t.forEach(a=>{const l=new window.google.maps.Marker({position:{lat:a.location.lat,lng:a.location.lng},map:s.current,title:a.title,icon:(a.type==="paid",void 0)});l.addListener("click",()=>e(a.id)),o.current.push(l)}))},[t,e]),m.jsxs("div",{className:"w-full h-full relative",children:[n&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-70 z-10",children:m.jsx("div",{children:"Loading map..."})}),r&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-70 z-10",children:m.jsx("div",{className:"text-red-500",children:r})}),m.jsx("div",{ref:i,className:"w-full h-full",style:{minHeight:400}})]})};class kz{async findNearbyTasks(e,n,r){const i=await fetch(`${nh.nearbyTasks}?lat=${e}&lng=${n}&radius=${r}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!i.ok)throw new Error("Failed to find nearby tasks");return i.json()}async findTasksInBounds(e,n,r,i){const s=await fetch(`${nh.tasksInBounds}?swLat=${e}&swLng=${n}&neLat=${r}&neLng=${i}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error("Failed to find tasks in bounds");return s.json()}calculateDistance(e,n,r,i){const o=this.toRad(r-e),a=this.toRad(i-n),l=Math.sin(o/2)*Math.sin(o/2)+Math.cos(this.toRad(e))*Math.cos(this.toRad(r))*Math.sin(a/2)*Math.sin(a/2);return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}toRad(e){return e*(Math.PI/180)}}const Nz=new kz,Dz=()=>{const[t,e]=g.useState(!1),[n,r]=g.useState(null),[i,s]=g.useState([]),[o,a]=g.useState(!0),[l,u]=g.useState(null);return g.useEffect(()=>{if(!navigator.geolocation){u("Geolocation is not supported by your browser"),a(!1);return}navigator.geolocation.getCurrentPosition(async d=>{try{a(!0),u(null);const{latitude:f,longitude:h}=d.coords,y=await Nz.findNearbyTasks(f,h,10);s(y)}catch{u("Failed to fetch tasks")}finally{a(!1)}},()=>{u("Unable to retrieve your location"),a(!1)})},[]),m.jsxs("div",{className:"h-screen flex flex-col",children:[m.jsxs("div",{className:"bg-white border-b border-gray-200 p-4 flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"TaskHub"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Find help nearby"})]}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsxs(Ye,{variant:"outline",size:"sm",children:[m.jsx(LD,{className:"w-4 h-4 mr-2"}),"Filter"]}),m.jsxs(Ye,{onClick:()=>e(!0),size:"sm",children:[m.jsx($D,{className:"w-4 h-4 mr-2"}),"New Task"]})]})]}),m.jsxs("div",{className:"flex-1 relative",children:[m.jsx(Pz,{tasks:i,onTaskSelect:r,loading:o,error:l}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-white border-t border-gray-200 max-h-64 overflow-y-auto",children:m.jsxs("div",{className:"p-4",children:[m.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Nearby Tasks"}),m.jsx("div",{className:"space-y-3",children:o?m.jsx("div",{children:"Loading tasks..."}):l?m.jsx("div",{className:"text-red-500",children:l}):i.length===0?m.jsx("div",{children:"No tasks found nearby."}):i.map(d=>m.jsx(gB,{task:d,isSelected:n===d.id,onClick:()=>r(d.id)},d.id))})]})})]}),m.jsx(Rz,{open:t,onClose:()=>e(!1)})]})},Oz=[{id:"task_1",userId:"user_123",type:"volunteer",title:"Help move furniture",description:"Need help moving a couch from 2nd floor apartment. Should take about 30 minutes with 2 people.",location:{lat:52.3676,lng:4.9041,address:"Dam Square, Amsterdam"},status:"open",mediaUrls:[],createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z"},{id:"task_2",userId:"user_456",type:"paid",title:"Grocery shopping",description:"Need someone to pick up groceries from Albert Heijn. List provided, should take 1 hour max.",location:{lat:52.3702,lng:4.8952,address:"Vondelpark, Amsterdam"},price:25,status:"open",mediaUrls:[],createdAt:"2024-01-15T11:30:00Z",updatedAt:"2024-01-15T11:30:00Z"},{id:"task_3",userId:"user_789",type:"volunteer",title:"Dog walking",description:"My dog Max needs a walk while I'm at work. He's friendly and well-trained. Walk should be about 30 minutes.",location:{lat:52.374,lng:4.8896,address:"Museumplein, Amsterdam"},status:"accepted",helperId:"user_101",mediaUrls:[],createdAt:"2024-01-15T09:00:00Z",updatedAt:"2024-01-15T14:00:00Z"}],Mz=()=>{const{id:t}=IV(),e=kv(),n=Oz.find(r=>r.id===t);return n?m.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[m.jsxs("div",{className:"bg-white border-b border-gray-200 p-4 flex items-center",children:[m.jsx(Ye,{variant:"ghost",size:"sm",onClick:()=>e("/"),className:"mr-2",children:m.jsx(RD,{className:"w-4 h-4"})}),m.jsx("h1",{className:"text-lg font-semibold",children:"Task Details"})]}),m.jsxs("div",{className:"p-4 space-y-4",children:[m.jsxs(qt,{children:[m.jsx(Os,{children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsx(Ms,{className:"text-xl",children:n.title}),m.jsx(Tl,{variant:n.type==="paid"?"default":"secondary",children:n.type==="paid"?m.jsxs(m.Fragment,{children:[m.jsx(PI,{className:"w-3 h-3 mr-1"}),"Paid"]}):m.jsxs(m.Fragment,{children:[m.jsx(kI,{className:"w-3 h-3 mr-1"}),"Volunteer"]})})]})}),m.jsxs(Gt,{className:"space-y-4",children:[m.jsx("p",{className:"text-gray-700",children:n.description}),m.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[m.jsx(Ah,{className:"w-4 h-4 mr-2"}),n.location.address]}),m.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[m.jsx(RI,{className:"w-4 h-4 mr-2"}),"Posted ",new Date(n.createdAt).toLocaleDateString()]}),n.price&&m.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["€",n.price]}),m.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[m.jsx(Rm,{className:"w-4 h-4 mr-2"}),"Posted by TaskHub User"]})]})]}),n.status==="open"&&m.jsxs("div",{className:"flex space-x-2",children:[m.jsx(Ye,{className:"flex-1",size:"lg",children:n.type==="paid"?"Accept Task":"Offer Help"}),m.jsx(Ye,{variant:"outline",size:"lg",children:"Message"})]}),n.status==="accepted"&&m.jsx(qt,{className:"border-yellow-200 bg-yellow-50",children:m.jsx(Gt,{className:"p-4",children:m.jsx("p",{className:"text-yellow-800 font-medium",children:"This task has been accepted by another helper."})})})]})]}):m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Task not found"}),m.jsx(Ye,{onClick:()=>e("/"),children:"Back to Map"})]})})};var Uy="Avatar",[Lz,L7]=Fs(Uy),[Vz,SR]=Lz(Uy),CR=g.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=g.useState("idle");return m.jsx(Vz,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:m.jsx(we.span,{...r,ref:e})})});CR.displayName=Uy;var bR="AvatarImage",AR=g.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,o=SR(bR,n),a=jz(r,s.referrerPolicy),l=Dt(u=>{i(u),o.onImageLoadingStatusChange(u)});return ur(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?m.jsx(we.img,{...s,ref:e,src:r}):null});AR.displayName=bR;var RR="AvatarFallback",PR=g.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=SR(RR,n),[o,a]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&s.imageLoadingStatus!=="loaded"?m.jsx(we.span,{...i,ref:e}):null});PR.displayName=RR;function jz(t,e){const[n,r]=g.useState("idle");return ur(()=>{if(!t){r("error");return}let i=!0;const s=new window.Image,o=a=>()=>{i&&r(a)};return r("loading"),s.onload=o("loaded"),s.onerror=o("error"),s.src=t,e&&(s.referrerPolicy=e),()=>{i=!1}},[t,e]),n}var kR=CR,NR=AR,DR=PR;const $y=g.forwardRef(({className:t,...e},n)=>m.jsx(kR,{ref:n,className:fe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));$y.displayName=kR.displayName;const Fz=g.forwardRef(({className:t,...e},n)=>m.jsx(NR,{ref:n,className:fe("aspect-square h-full w-full",t),...e}));Fz.displayName=NR.displayName;const By=g.forwardRef(({className:t,...e},n)=>m.jsx(DR,{ref:n,className:fe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));By.displayName=DR.displayName;const Uz=()=>{const{user:t}=Ea();return t?m.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[m.jsx("div",{className:"bg-white border-b border-gray-200 p-4",children:m.jsx("h1",{className:"text-lg font-semibold",children:"Profile"})}),m.jsxs("div",{className:"p-4 space-y-4",children:[m.jsx(qt,{children:m.jsxs(Gt,{className:"p-6 text-center",children:[m.jsx($y,{className:"w-20 h-20 mx-auto mb-4",children:m.jsx(By,{className:"text-2xl",children:t.displayName.charAt(0).toUpperCase()})}),m.jsx("h2",{className:"text-xl font-semibold",children:t.displayName}),m.jsx("p",{className:"text-gray-600",children:t.email}),m.jsxs("div",{className:"flex items-center justify-center mt-2",children:[m.jsx(BD,{className:"w-4 h-4 text-yellow-500"}),m.jsx("span",{className:"mx-1 font-medium",children:t.reputation}),m.jsx("span",{className:"text-gray-600",children:"/ 5.0"})]}),m.jsxs("div",{className:"mt-4 flex space-x-2 justify-center",children:[m.jsx(Ye,{variant:"outline",size:"sm",children:"Edit Profile"}),m.jsx(Ye,{variant:"outline",size:"sm",children:"Settings"})]})]})}),m.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[m.jsx(qt,{children:m.jsxs(Gt,{className:"p-4 text-center",children:[m.jsx(Tl,{className:"mx-auto mb-2 bg-blue-500",children:m.jsx(Ah,{className:"w-4 h-4"})}),m.jsx("p",{className:"text-2xl font-bold",children:"12"}),m.jsx("p",{className:"text-xs text-gray-600",children:"Tasks Posted"})]})}),m.jsx(qt,{children:m.jsxs(Gt,{className:"p-4 text-center",children:[m.jsx(Tl,{className:"mx-auto mb-2 bg-green-500",children:m.jsx(PD,{className:"w-4 h-4"})}),m.jsx("p",{className:"text-2xl font-bold",children:"8"}),m.jsx("p",{className:"text-xs text-gray-600",children:"Tasks Completed"})]})}),m.jsx(qt,{children:m.jsxs(Gt,{className:"p-4 text-center",children:[m.jsx(Tl,{className:"mx-auto mb-2 bg-purple-500",children:m.jsx(kD,{className:"w-4 h-4"})}),m.jsx("p",{className:"text-2xl font-bold",children:"3"}),m.jsx("p",{className:"text-xs text-gray-600",children:"In Progress"})]})})]}),m.jsxs(qt,{children:[m.jsx(Os,{children:m.jsx(Ms,{className:"text-lg",children:"Recent Activity"})}),m.jsx(Gt,{className:"p-4",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-start space-x-3",children:[m.jsx("div",{className:"w-1 h-full bg-blue-500 rounded"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:"Completed dog walking task"}),m.jsx("p",{className:"text-sm text-gray-600",children:"2 days ago"})]})]}),m.jsxs("div",{className:"flex items-start space-x-3",children:[m.jsx("div",{className:"w-1 h-full bg-green-500 rounded"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:"Received 5-star rating"}),m.jsx("p",{className:"text-sm text-gray-600",children:"3 days ago"})]})]}),m.jsxs("div",{className:"flex items-start space-x-3",children:[m.jsx("div",{className:"w-1 h-full bg-purple-500 rounded"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:"Posted task: Help with groceries"}),m.jsx("p",{className:"text-sm text-gray-600",children:"1 week ago"})]})]})]})})]})]})]}):null},$z=()=>{Ea();const[t,e]=g.useState(""),[n,r]=g.useState(""),[i,s]=g.useState(!1),o=async a=>{a.preventDefault(),s(!0),await new Promise(l=>setTimeout(l,1500)),dv({title:"Support request sent",description:"We'll get back to you soon."}),e(""),r(""),s(!1)};return m.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[m.jsx("div",{className:"bg-white border-b border-gray-200 p-4",children:m.jsx("h1",{className:"text-lg font-semibold",children:"Support"})}),m.jsxs("div",{className:"p-4 space-y-4",children:[m.jsxs(qt,{children:[m.jsx(Os,{children:m.jsxs(Ms,{className:"flex items-center",children:[m.jsx(AI,{className:"w-5 h-5 mr-2"}),"How can we help you?"]})}),m.jsx(Gt,{children:m.jsxs("form",{onSubmit:o,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Kt,{htmlFor:"subject",children:"Subject"}),m.jsx(cr,{id:"subject",value:t,onChange:a=>e(a.target.value),placeholder:"What's your question about?",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Kt,{htmlFor:"message",children:"Message"}),m.jsx(jy,{id:"message",value:n,onChange:a=>r(a.target.value),placeholder:"Please describe your issue or question",rows:5,required:!0})]}),m.jsx(Ye,{type:"submit",className:"w-full",disabled:i,children:i?m.jsxs(m.Fragment,{children:[m.jsx(vv,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):m.jsxs(m.Fragment,{children:[m.jsx(jD,{className:"w-4 h-4 mr-2"}),"Send Support Request"]})})]})})]}),m.jsxs(qt,{children:[m.jsx(Os,{children:m.jsxs(Ms,{className:"flex items-center",children:[m.jsx(UD,{className:"w-5 h-5 mr-2"}),"Frequently Asked Questions"]})}),m.jsxs(Gt,{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium mb-1",children:"How does task payment work?"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Payments are processed securely through our platform. Funds are held in escrow until the task is completed to the satisfaction of both parties."})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium mb-1",children:"How is my safety ensured?"}),m.jsx("p",{className:"text-sm text-gray-600",children:"All users undergo identity verification. We also provide ratings and reviews for transparency. For further security, our platform tracks task locations."})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium mb-1",children:"What if a task isn't completed properly?"}),m.jsx("p",{className:"text-sm text-gray-600",children:"If there's an issue with task completion, contact support immediately. We have a dispute resolution process to ensure fairness for both parties."})]})]})]}),m.jsx(qt,{children:m.jsx(Gt,{className:"p-4",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h3",{className:"font-semibold mb-1",children:"Contact Information"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Email: support@taskhub.com"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Hours: Monday-Friday, 9am-5pm"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Response time: Within 24 hours"})]})})})]})]})};var Bz=g.createContext(void 0);function OR(t){const e=g.useContext(Bz);return t||e||"ltr"}function zz(t,e=[]){let n=[];function r(s,o){const a=g.createContext(o),l=n.length;n=[...n,o];function u(f){const{scope:h,children:y,...T}=f,w=(h==null?void 0:h[t][l])||a,x=g.useMemo(()=>T,Object.values(T));return m.jsx(w.Provider,{value:x,children:y})}function d(f,h){const y=(h==null?void 0:h[t][l])||a,T=g.useContext(y);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Hz(i,...e)]}function Hz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var kp="rovingFocusGroup.onEntryFocus",Wz={bubbles:!1,cancelable:!0},af="RovingFocusGroup",[pg,MR,Kz]=hv(af),[qz,LR]=zz(af,[Kz]),[Gz,Qz]=qz(af),VR=g.forwardRef((t,e)=>m.jsx(pg.Provider,{scope:t.__scopeRovingFocusGroup,children:m.jsx(pg.Slot,{scope:t.__scopeRovingFocusGroup,children:m.jsx(Yz,{...t,ref:e})})}));VR.displayName=af;var Yz=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,h=g.useRef(null),y=Ke(e,h),T=OR(s),[w=null,x]=gc({prop:o,defaultProp:a,onChange:l}),[E,_]=g.useState(!1),I=Dt(u),k=MR(n),O=g.useRef(!1),[L,b]=g.useState(0);return g.useEffect(()=>{const S=h.current;if(S)return S.addEventListener(kp,I),()=>S.removeEventListener(kp,I)},[I]),m.jsx(Gz,{scope:n,orientation:r,dir:T,loop:i,currentTabStopId:w,onItemFocus:g.useCallback(S=>x(S),[x]),onItemShiftTab:g.useCallback(()=>_(!0),[]),onFocusableItemAdd:g.useCallback(()=>b(S=>S+1),[]),onFocusableItemRemove:g.useCallback(()=>b(S=>S-1),[]),children:m.jsx(we.div,{tabIndex:E||L===0?-1:0,"data-orientation":r,...f,ref:y,style:{outline:"none",...t.style},onMouseDown:ee(t.onMouseDown,()=>{O.current=!0}),onFocus:ee(t.onFocus,S=>{const A=!O.current;if(S.target===S.currentTarget&&A&&!E){const R=new CustomEvent(kp,Wz);if(S.currentTarget.dispatchEvent(R),!R.defaultPrevented){const N=k().filter(J=>J.focusable),D=N.find(J=>J.active),P=N.find(J=>J.id===w),se=[D,P,...N].filter(Boolean).map(J=>J.ref.current);UR(se,d)}}O.current=!1}),onBlur:ee(t.onBlur,()=>_(!1))})})}),jR="RovingFocusGroupItem",FR=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=Po(),l=s||a,u=Qz(jR,n),d=u.currentTabStopId===l,f=MR(n),{onFocusableItemAdd:h,onFocusableItemRemove:y}=u;return g.useEffect(()=>{if(r)return h(),()=>y()},[r,h,y]),m.jsx(pg.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:m.jsx(we.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:ee(t.onMouseDown,T=>{r?u.onItemFocus(l):T.preventDefault()}),onFocus:ee(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:ee(t.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){u.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const w=Zz(T,u.orientation,u.dir);if(w!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let E=f().filter(_=>_.focusable).map(_=>_.ref.current);if(w==="last")E.reverse();else if(w==="prev"||w==="next"){w==="prev"&&E.reverse();const _=E.indexOf(T.currentTarget);E=u.loop?e8(E,_+1):E.slice(_+1)}setTimeout(()=>UR(E))}})})})});FR.displayName=jR;var Xz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Jz(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Zz(t,e,n){const r=Jz(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Xz[r]}function UR(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function e8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var t8=VR,n8=FR,mg=["Enter"," "],r8=["ArrowDown","PageUp","Home"],$R=["ArrowUp","PageDown","End"],i8=[...r8,...$R],s8={ltr:[...mg,"ArrowRight"],rtl:[...mg,"ArrowLeft"]},o8={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Pc="Menu",[sc,a8,l8]=hv(Pc),[Gs,BR]=Fs(Pc,[l8,Nh,LR]),lf=Nh(),zR=LR(),[c8,Qs]=Gs(Pc),[u8,kc]=Gs(Pc),HR=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,a=lf(e),[l,u]=g.useState(null),d=g.useRef(!1),f=Dt(s),h=OR(i);return g.useEffect(()=>{const y=()=>{d.current=!0,document.addEventListener("pointerdown",T,{capture:!0,once:!0}),document.addEventListener("pointermove",T,{capture:!0,once:!0})},T=()=>d.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",T,{capture:!0}),document.removeEventListener("pointermove",T,{capture:!0})}},[]),m.jsx(lL,{...a,children:m.jsx(c8,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:u,children:m.jsx(u8,{scope:e,onClose:g.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:r})})})};HR.displayName=Pc;var d8="MenuAnchor",zy=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=lf(n);return m.jsx(lS,{...i,...r,ref:e})});zy.displayName=d8;var Hy="MenuPortal",[h8,WR]=Gs(Hy,{forceMount:void 0}),KR=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Qs(Hy,e);return m.jsx(h8,{scope:e,forceMount:n,children:m.jsx(mr,{present:n||s.open,children:m.jsx(xh,{asChild:!0,container:i,children:r})})})};KR.displayName=Hy;var En="MenuContent",[f8,Wy]=Gs(En),qR=g.forwardRef((t,e)=>{const n=WR(En,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Qs(En,t.__scopeMenu),o=kc(En,t.__scopeMenu);return m.jsx(sc.Provider,{scope:t.__scopeMenu,children:m.jsx(mr,{present:r||s.open,children:m.jsx(sc.Slot,{scope:t.__scopeMenu,children:o.modal?m.jsx(p8,{...i,ref:e}):m.jsx(m8,{...i,ref:e})})})})}),p8=g.forwardRef((t,e)=>{const n=Qs(En,t.__scopeMenu),r=g.useRef(null),i=Ke(e,r);return g.useEffect(()=>{const s=r.current;if(s)return QA(s)},[]),m.jsx(Ky,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ee(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),m8=g.forwardRef((t,e)=>{const n=Qs(En,t.__scopeMenu);return m.jsx(Ky,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Ky=g.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:y,disableOutsideScroll:T,...w}=t,x=Qs(En,n),E=kc(En,n),_=lf(n),I=zR(n),k=a8(n),[O,L]=g.useState(null),b=g.useRef(null),S=Ke(e,b,x.onContentChange),A=g.useRef(0),R=g.useRef(""),N=g.useRef(0),D=g.useRef(null),P=g.useRef("right"),H=g.useRef(0),se=T?Dy:g.Fragment,J=T?{as:Ss,allowPinchZoom:!0}:void 0,oe=F=>{var Me,en;const G=R.current+F,q=k().filter(Xe=>!Xe.disabled),Q=document.activeElement,Z=(Me=q.find(Xe=>Xe.ref.current===Q))==null?void 0:Me.textValue,Ie=q.map(Xe=>Xe.textValue),Ue=b8(Ie,G,Z),pe=(en=q.find(Xe=>Xe.textValue===Ue))==null?void 0:en.ref.current;(function Xe(wt){R.current=wt,window.clearTimeout(A.current),wt!==""&&(A.current=window.setTimeout(()=>Xe(""),1e3))})(G),pe&&setTimeout(()=>pe.focus())};g.useEffect(()=>()=>window.clearTimeout(A.current),[]),$A();const V=g.useCallback(F=>{var q,Q;return P.current===((q=D.current)==null?void 0:q.side)&&R8(F,(Q=D.current)==null?void 0:Q.area)},[]);return m.jsx(f8,{scope:n,searchRef:R,onItemEnter:g.useCallback(F=>{V(F)&&F.preventDefault()},[V]),onItemLeave:g.useCallback(F=>{var G;V(F)||((G=b.current)==null||G.focus(),L(null))},[V]),onTriggerLeave:g.useCallback(F=>{V(F)&&F.preventDefault()},[V]),pointerGraceTimerRef:N,onPointerGraceIntentChange:g.useCallback(F=>{D.current=F},[]),children:m.jsx(se,{...J,children:m.jsx(Ny,{asChild:!0,trapped:i,onMountAutoFocus:ee(s,F=>{var G;F.preventDefault(),(G=b.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:m.jsx(mc,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:y,children:m.jsx(t8,{asChild:!0,...I,dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:O,onCurrentTabStopIdChange:L,onEntryFocus:ee(l,F=>{E.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:m.jsx(cS,{role:"menu","aria-orientation":"vertical","data-state":cP(x.open),"data-radix-menu-content":"",dir:E.dir,..._,...w,ref:S,style:{outline:"none",...w.style},onKeyDown:ee(w.onKeyDown,F=>{const q=F.target.closest("[data-radix-menu-content]")===F.currentTarget,Q=F.ctrlKey||F.altKey||F.metaKey,Z=F.key.length===1;q&&(F.key==="Tab"&&F.preventDefault(),!Q&&Z&&oe(F.key));const Ie=b.current;if(F.target!==Ie||!i8.includes(F.key))return;F.preventDefault();const pe=k().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);$R.includes(F.key)&&pe.reverse(),S8(pe)}),onBlur:ee(t.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(A.current),R.current="")}),onPointerMove:ee(t.onPointerMove,oc(F=>{const G=F.target,q=H.current!==F.clientX;if(F.currentTarget.contains(G)&&q){const Q=F.clientX>H.current?"right":"left";P.current=Q,H.current=F.clientX}}))})})})})})})});qR.displayName=En;var g8="MenuGroup",qy=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return m.jsx(we.div,{role:"group",...r,ref:e})});qy.displayName=g8;var v8="MenuLabel",GR=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return m.jsx(we.div,{...r,ref:e})});GR.displayName=v8;var ih="MenuItem",kT="menu.itemSelect",cf=g.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=g.useRef(null),o=kc(ih,t.__scopeMenu),a=Wy(ih,t.__scopeMenu),l=Ke(e,s),u=g.useRef(!1),d=()=>{const f=s.current;if(!n&&f){const h=new CustomEvent(kT,{bubbles:!0,cancelable:!0});f.addEventListener(kT,y=>r==null?void 0:r(y),{once:!0}),fv(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return m.jsx(QR,{...i,ref:l,disabled:n,onClick:ee(t.onClick,d),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),u.current=!0},onPointerUp:ee(t.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:ee(t.onKeyDown,f=>{const h=a.searchRef.current!=="";n||h&&f.key===" "||mg.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});cf.displayName=ih;var QR=g.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=Wy(ih,n),a=zR(n),l=g.useRef(null),u=Ke(e,l),[d,f]=g.useState(!1),[h,y]=g.useState("");return g.useEffect(()=>{const T=l.current;T&&y((T.textContent??"").trim())},[s.children]),m.jsx(sc.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:m.jsx(n8,{asChild:!0,...a,focusable:!r,children:m.jsx(we.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:ee(t.onPointerMove,oc(T=>{r?o.onItemLeave(T):(o.onItemEnter(T),T.defaultPrevented||T.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ee(t.onPointerLeave,oc(T=>o.onItemLeave(T))),onFocus:ee(t.onFocus,()=>f(!0)),onBlur:ee(t.onBlur,()=>f(!1))})})})}),y8="MenuCheckboxItem",YR=g.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return m.jsx(tP,{scope:t.__scopeMenu,checked:n,children:m.jsx(cf,{role:"menuitemcheckbox","aria-checked":sh(n)?"mixed":n,...i,ref:e,"data-state":Qy(n),onSelect:ee(i.onSelect,()=>r==null?void 0:r(sh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});YR.displayName=y8;var XR="MenuRadioGroup",[w8,_8]=Gs(XR,{value:void 0,onValueChange:()=>{}}),JR=g.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Dt(r);return m.jsx(w8,{scope:t.__scopeMenu,value:n,onValueChange:s,children:m.jsx(qy,{...i,ref:e})})});JR.displayName=XR;var ZR="MenuRadioItem",eP=g.forwardRef((t,e)=>{const{value:n,...r}=t,i=_8(ZR,t.__scopeMenu),s=n===i.value;return m.jsx(tP,{scope:t.__scopeMenu,checked:s,children:m.jsx(cf,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":Qy(s),onSelect:ee(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});eP.displayName=ZR;var Gy="MenuItemIndicator",[tP,E8]=Gs(Gy,{checked:!1}),nP=g.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=E8(Gy,n);return m.jsx(mr,{present:r||sh(s.checked)||s.checked===!0,children:m.jsx(we.span,{...i,ref:e,"data-state":Qy(s.checked)})})});nP.displayName=Gy;var T8="MenuSeparator",rP=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return m.jsx(we.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});rP.displayName=T8;var x8="MenuArrow",iP=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=lf(n);return m.jsx(uS,{...i,...r,ref:e})});iP.displayName=x8;var I8="MenuSub",[V7,sP]=Gs(I8),sl="MenuSubTrigger",oP=g.forwardRef((t,e)=>{const n=Qs(sl,t.__scopeMenu),r=kc(sl,t.__scopeMenu),i=sP(sl,t.__scopeMenu),s=Wy(sl,t.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,u={__scopeMenu:t.__scopeMenu},d=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>d,[d]),g.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),m.jsx(zy,{asChild:!0,...u,children:m.jsx(QR,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":cP(n.open),...t,ref:Th(e,i.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ee(t.onPointerMove,oc(f=>{s.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ee(t.onPointerLeave,oc(f=>{var y,T;d();const h=(y=n.content)==null?void 0:y.getBoundingClientRect();if(h){const w=(T=n.content)==null?void 0:T.dataset.side,x=w==="right",E=x?-5:5,_=h[x?"left":"right"],I=h[x?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+E,y:f.clientY},{x:_,y:h.top},{x:I,y:h.top},{x:I,y:h.bottom},{x:_,y:h.bottom}],side:w}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:ee(t.onKeyDown,f=>{var y;const h=s.searchRef.current!=="";t.disabled||h&&f.key===" "||s8[r.dir].includes(f.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),f.preventDefault())})})})});oP.displayName=sl;var aP="MenuSubContent",lP=g.forwardRef((t,e)=>{const n=WR(En,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Qs(En,t.__scopeMenu),o=kc(En,t.__scopeMenu),a=sP(aP,t.__scopeMenu),l=g.useRef(null),u=Ke(e,l);return m.jsx(sc.Provider,{scope:t.__scopeMenu,children:m.jsx(mr,{present:r||s.open,children:m.jsx(sc.Slot,{scope:t.__scopeMenu,children:m.jsx(Ky,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ee(t.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:ee(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ee(t.onKeyDown,d=>{var y;const f=d.currentTarget.contains(d.target),h=o8[o.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(y=a.trigger)==null||y.focus(),d.preventDefault())})})})})})});lP.displayName=aP;function cP(t){return t?"open":"closed"}function sh(t){return t==="indeterminate"}function Qy(t){return sh(t)?"indeterminate":t?"checked":"unchecked"}function S8(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function C8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function b8(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=C8(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function A8(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function R8(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return A8(n,e)}function oc(t){return e=>e.pointerType==="mouse"?t(e):void 0}var P8=HR,k8=zy,N8=KR,D8=qR,O8=qy,M8=GR,L8=cf,V8=YR,j8=JR,F8=eP,U8=nP,$8=rP,B8=iP,z8=oP,H8=lP,Yy="DropdownMenu",[W8,j7]=Fs(Yy,[BR]),Bt=BR(),[K8,uP]=W8(Yy),dP=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=Bt(e),u=g.useRef(null),[d=!1,f]=gc({prop:i,defaultProp:s,onChange:o});return m.jsx(K8,{scope:e,triggerId:Po(),triggerRef:u,contentId:Po(),open:d,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(h=>!h),[f]),modal:a,children:m.jsx(P8,{...l,open:d,onOpenChange:f,dir:r,modal:a,children:n})})};dP.displayName=Yy;var hP="DropdownMenuTrigger",fP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=uP(hP,n),o=Bt(n);return m.jsx(k8,{asChild:!0,...o,children:m.jsx(we.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Th(e,s.triggerRef),onPointerDown:ee(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:ee(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});fP.displayName=hP;var q8="DropdownMenuPortal",pP=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Bt(e);return m.jsx(N8,{...r,...n})};pP.displayName=q8;var mP="DropdownMenuContent",gP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=uP(mP,n),s=Bt(n),o=g.useRef(!1);return m.jsx(D8,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:ee(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ee(t.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gP.displayName=mP;var G8="DropdownMenuGroup",Q8=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bt(n);return m.jsx(O8,{...i,...r,ref:e})});Q8.displayName=G8;var Y8="DropdownMenuLabel",vP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bt(n);return m.jsx(M8,{...i,...r,ref:e})});vP.displayName=Y8;var X8="DropdownMenuItem",yP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bt(n);return m.jsx(L8,{...i,...r,ref:e})});yP.displayName=X8;var J8="DropdownMenuCheckboxItem",wP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bt(n);return m.jsx(V8,{...i,...r,ref:e})});wP.displayName=J8;var Z8="DropdownMenuRadioGroup",e7=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bt(n);return m.jsx(j8,{...i,...r,ref:e})});e7.displayName=Z8;var t7="DropdownMenuRadioItem",_P=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bt(n);return m.jsx(F8,{...i,...r,ref:e})});_P.displayName=t7;var n7="DropdownMenuItemIndicator",EP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bt(n);return m.jsx(U8,{...i,...r,ref:e})});EP.displayName=n7;var r7="DropdownMenuSeparator",TP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bt(n);return m.jsx($8,{...i,...r,ref:e})});TP.displayName=r7;var i7="DropdownMenuArrow",s7=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bt(n);return m.jsx(B8,{...i,...r,ref:e})});s7.displayName=i7;var o7="DropdownMenuSubTrigger",xP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bt(n);return m.jsx(z8,{...i,...r,ref:e})});xP.displayName=o7;var a7="DropdownMenuSubContent",IP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bt(n);return m.jsx(H8,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});IP.displayName=a7;var l7=dP,c7=fP,u7=pP,SP=gP,CP=vP,bP=yP,AP=wP,RP=_P,PP=EP,kP=TP,NP=xP,DP=IP;const d7=l7,h7=c7,f7=g.forwardRef(({className:t,inset:e,children:n,...r},i)=>m.jsxs(NP,{ref:i,className:fe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,m.jsx(OD,{className:"ml-auto h-4 w-4"})]}));f7.displayName=NP.displayName;const p7=g.forwardRef(({className:t,...e},n)=>m.jsx(DP,{ref:n,className:fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));p7.displayName=DP.displayName;const OP=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>m.jsx(u7,{children:m.jsx(SP,{ref:r,sideOffset:e,className:fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));OP.displayName=SP.displayName;const gg=g.forwardRef(({className:t,inset:e,...n},r)=>m.jsx(bP,{ref:r,className:fe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));gg.displayName=bP.displayName;const m7=g.forwardRef(({className:t,children:e,checked:n,...r},i)=>m.jsxs(AP,{ref:i,className:fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(PP,{children:m.jsx(DD,{className:"h-4 w-4"})})}),e]}));m7.displayName=AP.displayName;const g7=g.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(RP,{ref:r,className:fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(PP,{children:m.jsx(MD,{className:"h-2 w-2 fill-current"})})}),e]}));g7.displayName=RP.displayName;const v7=g.forwardRef(({className:t,inset:e,...n},r)=>m.jsx(CP,{ref:r,className:fe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));v7.displayName=CP.displayName;const y7=g.forwardRef(({className:t,...e},n)=>m.jsx(kP,{ref:n,className:fe("-mx-1 my-1 h-px bg-muted",t),...e}));y7.displayName=kP.displayName;const w7=()=>{var s;const t=kv(),e=jh(),{user:n,logout:r}=Ea(),i=[{path:"/",icon:FD,label:"Map"},{path:"/profile",icon:Rm,label:"Profile"},{path:"/support",icon:AI,label:"Support"}];return m.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2 flex items-center justify-between",children:[m.jsx("div",{className:"flex space-x-1",children:i.map(o=>m.jsxs(Ye,{variant:e.pathname===o.path?"default":"ghost",size:"sm",onClick:()=>t(o.path),className:fe("flex flex-col h-12 w-16 p-1",e.pathname===o.path&&"bg-blue-600"),children:[m.jsx(o.icon,{className:"w-4 h-4"}),m.jsx("span",{className:"text-xs mt-1",children:o.label})]},o.path))}),m.jsxs(d7,{children:[m.jsx(h7,{asChild:!0,children:m.jsx(Ye,{variant:"ghost",className:"p-2",children:m.jsx($y,{className:"w-8 h-8",children:m.jsx(By,{className:"text-xs",children:(s=n==null?void 0:n.displayName)==null?void 0:s.charAt(0).toUpperCase()})})})}),m.jsxs(OP,{align:"end",children:[m.jsxs(gg,{onClick:()=>t("/profile"),children:[m.jsx(Rm,{className:"w-4 h-4 mr-2"}),"Profile"]}),m.jsxs(gg,{onClick:r,children:[m.jsx(VD,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})]})},_7=()=>{const{user:t,isAuthenticated:e}=Ea(),[n,r]=g.useState(!1);return e?m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsxs(jS,{children:[m.jsx(as,{path:"/",element:m.jsx(Dz,{})}),m.jsx(as,{path:"/task/:id",element:m.jsx(Mz,{})}),m.jsx(as,{path:"/profile",element:m.jsx(Uz,{})}),m.jsx(as,{path:"/support",element:m.jsx($z,{})}),m.jsx(as,{path:"*",element:m.jsx(VV,{to:"/",replace:!0})})]}),m.jsx(w7,{}),m.jsx(km,{})]}):m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:[m.jsxs("div",{className:"w-full max-w-md",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"TaskHub"}),m.jsx("p",{className:"text-gray-600",children:"Community help at your fingertips"})]}),n?m.jsx(pB,{onToggleMode:()=>r(!1)}):m.jsx(fB,{onToggleMode:()=>r(!0)})]}),m.jsx(km,{})]})},E7=new GL,T7=()=>m.jsx(YL,{client:E7,children:m.jsxs(SL,{children:[m.jsx(km,{}),m.jsx(JO,{}),m.jsx($V,{children:m.jsx(cB,{children:m.jsx(jS,{children:m.jsx(as,{path:"/*",element:m.jsx(_7,{})})})})})]})});tI(document.getElementById("root")).render(m.jsx(T7,{}));
